/*! For license information please see main.621c0b9e.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function Z(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function _(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function I(){return l(b,g)}function S(){return g}function E(e,t){return f(b,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(e){return v=m=1,y=h(b=e),g=0,[]}function A(e){return b="",e}function N(e){return u(E(g-1,O(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=I())&&k<33;)_();return T(e)>2||T(k)>3?"":" "}function R(e,t){for(;--t&&_()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return E(e,S()+(t<6&&32==I()&&32==_()))}function O(e){for(;_();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&O(k);break;case 40:41===e&&O(e);break;case 92:_()}return g}function D(e,t){for(;_()&&e+k!==57&&(e+k!==84||47!==I()););return"/*"+E(t,g-1)+"*"+a(47===e?e:_())}function L(e){for(;!T(I());)_();return E(e,g)}var M="-ms-",F="-moz-",V="-webkit-",j="comm",U="rule",z="decl",B="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case j:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return A(W("",null,null,null,[""],e=C(e),0,[0],e))}function W(e,t,n,r,i,o,u,f,d){for(var v=0,m=0,y=u,g=0,k=0,b=0,w=1,x=1,E=1,T=0,C="",A=i,O=o,M=r,F=C;x;)switch(b=T,T=_()){case 40:if(108!=b&&58==l(F,y-1)){-1!=c(F+=s(N(T),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:F+=N(T);break;case 9:case 10:case 13:case 32:F+=P(b);break;case 92:F+=R(S()-1,7);continue;case 47:switch(I()){case 42:case 47:p(Q(D(_(),S()),t,n),d);break;default:F+="/"}break;case 123*w:f[v++]=h(F)*E;case 125*w:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+m:k>0&&h(F)-y&&p(k>32?$(F+";",r,n,y-1):$(s(F," ","")+";",r,n,y-2),d);break;case 59:F+=";";default:if(p(M=H(F,t,n,v,m,i,f,C,A=[],O=[],y),o),123===T)if(0===m)W(F,t,M,M,A,o,y,f,O);else switch(99===g&&110===l(F,3)?100:g){case 100:case 109:case 115:W(e,M,M,r&&p(H(e,M,M,0,0,i,f,C,i,A=[],y),O),i,O,y,f,r?A:O);break;default:W(F,M,M,M,[""],O,0,f,O)}}v=m=k=0,w=E=1,C=F="",y=u;break;case 58:y=1+h(F),k=b;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==Z())continue;switch(F+=a(T),T*w){case 38:E=m>0?1:(F+="\f",-1);break;case 44:f[v++]=(h(F)-1)*E,E=1;break;case 64:45===I()&&(F+=N(_())),g=I(),m=y=h(C=F+=L(S())),T++;break;case 45:45===b&&2==h(F)&&(w=0)}}return o}function H(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var Z=0,_=f(e,m+1,m=i(b=c[k])),I=e;Z<g;++Z)(I=u(b>0?y[Z]+" "+_:s(_,/&\f/g,y[Z])))&&(h[x++]=I);return w(e,t,n,0===a?U:l,h,p,v)}function Q(e,t,n){return w(e,t,n,j,a(k),f(e,2,-2),0)}function $(e,t,n,r){return w(e,t,n,z,f(e,0,r),f(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!T(i);)_();return E(e,g)},X=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=Y(g-1,t,n);break;case 2:e[n]+=N(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=_());return e}(C(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],a=X(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return V+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return V+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return V+e+F+e+M+e+e;case 6828:case 4268:return V+e+M+e+e;case 6165:return V+e+M+"flex-"+e+e;case 5187:return V+e+s(e,/(\w+).+(:[^]+)/,V+"box-$1$2"+M+"flex-$1$2")+e;case 5443:return V+e+M+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return V+e+M+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return V+e+M+s(e,"shrink","negative")+e;case 5292:return V+e+M+s(e,"basis","preferred-size")+e;case 6060:return V+"box-"+s(e,"-grow","")+V+e+M+s(e,"grow","positive")+e;case 4554:return V+s(e,/([^-])(transform)/g,"$1"+V+"$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,V+"$1"),/(image-set)/,V+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,V+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,V+"box-pack:$3"+M+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+V+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,V+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1"+V+"$2-$3$1"+F+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+V)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+V+(45===l(e,14)?"inline-":"")+"box$3$1"+V+"$2$3$1"+M+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return V+e+M+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return V+e+M+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return V+e+M+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return V+e+M+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+V)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":"+F+"$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":"+V+"input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":"+F+"$1")]}),x(e,{props:[s(t,/:(plac\w+)/,M+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[K,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ee,te].concat(i,f));o=function(e,t,n,r){c=n,q(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9886:function(e,t,n){"use strict";n.d(t,{T:function(){return u},w:function(){return o}});var r=n(2791),i=n(3361),a=(n(9140),n(2561),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));a.Provider;var o=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(a);return e(t,i,n)}))},u=(0,r.createContext)({})},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()};a||i.useLayoutEffect},2017:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.Z=o},9823:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},7237:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=o},7630:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn");t.Z=o},5003:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"Forum");t.Z=o},501:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},1963:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.Z=o},151:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1055)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(7416),c=n(104),l=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var h=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},k={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},w=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Z={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.$n)(e.main,i):"dark"===t&&(e.dark=(0,h._j)(e.main,a)))}function I(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,l=void 0===c?.2:c,f=(0,i.Z)(e,w),I=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),E=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),T=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:k[400],light:k[300],dark:k[700]}:{main:k[700],light:k[500],dark:k[900]}}(n),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),A=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(n);function N(e){return(0,h.mi)(e,Z.text.primary)>=s?Z.text.primary:x.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _(t,"light",s,l),_(t,"dark",f,l),t.contrastText||(t.contrastText=N(t.main)),t},R={dark:Z,light:x};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:n,primary:P({color:I,name:"primary"}),secondary:P({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:E,name:"error"}),warning:P({color:A,name:"warning"}),info:P({color:T,name:"info"}),success:P({color:C,name:"success"}),grey:p,contrastThreshold:s,getContrastText:N,augmentColor:P,tonalOffset:l},R[n]),f)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var E={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?T:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,S);var Z=c/14,_=w||function(e){return"".concat(e/k*Z,"rem")},I=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:_(t),lineHeight:n},u===T?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},C={h1:I(f,96,1.167,-1.5),h2:I(f,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(v,14,1.75,.4,E),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,E),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:_,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},C),x,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var N=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],R={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function M(e){var t=(0,r.Z)({},R,e.easing),n=(0,r.Z)({},O,e.duration);return(0,r.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof l?l:D(l))})).join(",")}},e,{easing:t,duration:n})}var F={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,h=void 0===l?{}:l,d=e.transitions,p=void 0===d?{}:d,v=e.typography,m=void 0===v?{}:v,y=(0,i.Z)(e,V);if(e.vars)throw new Error((0,a.Z)(18));var g=I(h),k=(0,u.Z)(e),b=(0,o.Z)(k,{mixins:f(k.breakpoints,n),palette:g,shadows:N.slice(),typography:C(g,m),transitions:M(p),zIndex:(0,r.Z)({},F)});b=(0,o.Z)(b,y);for(var w=arguments.length,x=new Array(w>1?w-1:0),Z=1;Z<w;Z++)x[Z-1]=arguments[Z];return(b=x.reduce((function(e,t){return(0,o.Z)(e,t)}),b)).unstable_sxConfig=(0,r.Z)({},s.Z,null==y?void 0:y.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},b}var U=j()},988:function(e,t){"use strict";t.Z="$$material"},7288:function(e,t,n){"use strict";n.d(t,{ZP:function(){return D}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(9886);var h=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},d=n(9140),p=n(2561),v=l,m=function(e){return"theme"!==e},y=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?v:m},g=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},k=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;h(t,n,r);(0,p.L)((function(){return function(e,t,n){h(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},b=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=g(t,n,a),l=c||y(s),h=!l("as");return function(){var p=arguments,v=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&v.push("label:"+r+";"),null==p[0]||void 0===p[0].raw)v.push.apply(v,p);else{0,v.push(p[0][0]);for(var m=p.length,b=1;b<m;b++)v.push(p[b],p[0][b])}var w=(0,f.w)((function(e,t,n){var r=h&&e.as||s,a="",o=[],p=e;if(null==e.theme){for(var m in p={},e)p[m]=e[m];p.theme=(0,u.useContext)(f.T)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var g=(0,d.O)(v.concat(o),t.registered,p);a+=t.key+"-"+g.name,void 0!==i&&(a+=" "+i);var b=h&&void 0===c?y(r):l,w={};for(var x in e)h&&"as"===x||b(x)&&(w[x]=e[x]);return w.className=a,w.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(k,{cache:t,serialized:g,isStringTag:"string"===typeof r}),(0,u.createElement)(r,w))}));return w.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=v,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:g(w,r,!0)})).apply(void 0,v)},w}},w=b.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){w[e]=w(e)}));var x=w;var Z=n(5080),_=n(7312),I=["variant"];function S(e){return 0===e.length}function E(e){var t=e.variant,n=(0,a.Z)(e,I),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?S(r)?e[t]:(0,_.Z)(e[t]):"".concat(S(r)?t:(0,_.Z)(t)).concat((0,_.Z)(e[t].toString()))})),r}var T=n(104),C=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function A(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var N=(0,Z.Z)();function P(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var R=n(4591),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,u=void 0===n?N:n,s=e.rootShouldForwardProp,c=void 0===s?A:s,l=e.slotShouldForwardProp,f=void 0===l?A:l,h=function(e){return(0,T.Z)((0,o.Z)({},e,{theme:P((0,o.Z)({},e,{defaultTheme:u,themeId:t}))}))};return h.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var s=n.name,l=n.slot,d=n.skipVariantsResolver,p=n.skipSx,v=n.overridesResolver,m=(0,a.Z)(n,C),y=void 0!==d?d:l&&"Root"!==l||!1,g=p||!1;var k=A;"Root"===l?k=c:l?k=f:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);var b=function(e,t){return x(e,t)}(e,(0,o.Z)({shouldForwardProp:k,label:undefined},m)),w=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];var l=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e((0,o.Z)({},n,{theme:P((0,o.Z)({},n,{defaultTheme:u,themeId:t}))}))}:e})):[],f=e;s&&v&&l.push((function(e){var n=P((0,o.Z)({},e,{defaultTheme:u,themeId:t})),r=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(s,n);if(r){var a={};return Object.entries(r).forEach((function(t){var r=(0,i.Z)(t,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:n})):s})),v(e,a)}return null})),s&&!y&&l.push((function(e){var n=P((0,o.Z)({},e,{defaultTheme:u,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[E(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=E(e.props);r[t]=e.style})),r}(s,n),n,s)})),g||l.push(h);var d=l.length-a.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(n){return e((0,o.Z)({},n,{theme:P((0,o.Z)({},n,{defaultTheme:u,themeId:t}))}))});return b.apply(void 0,[f].concat((0,r.Z)(l)))};return b.withConfig&&(w.withConfig=b.withConfig),w}}({themeId:n(988).Z,defaultTheme:R.Z,rootShouldForwardProp:function(e){return A(e)&&"classes"!==e}}),D=O},2771:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=e[a]||{},u=t[a];n[a]={},u&&Object.keys(u)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},u),Object.keys(o).forEach((function(e){n[a][e]=i(o[e],u[e])}))):n[a]=u:n[a]=o}else void 0===n[a]&&(n[a]=e[a])})),n}function a(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?i(t.components[n].defaultProps,r):r}var o=n(5080),u=n(2791),s=n(9886);var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=u.useContext(s.T);return n&&(e=n,0!==Object.keys(e).length)?n:t},l=(0,o.Z)();var f=function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l)};var h=n(4591),d=n(988);function p(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,o=f(r);return i&&(o=o[i]||o),a({theme:o,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:h.Z,themeId:d.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(2771),l=n(7288),f=n(5878),h=n(1217);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),y=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,h=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,Z=void 0!==x&&x,_=n.titleAccess,I=n.viewBox,S=void 0===I?"0 0 24 24":I,E=(0,a.Z)(n,v),T=(0,r.Z)({},n,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:Z,viewBox:S}),C={};Z||(C.viewBox=S);var A=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(T);return(0,p.jsxs)(m,(0,r.Z)({as:g,className:(0,o.Z)(A.root,l),focusable:"false",color:w,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},C,E,{ownerState:T,children:[i,_?(0,p.jsx)("title",{children:_}):null]}))}));y.muiName="SvgIcon";var g=y;function k(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},1055:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return E},unstable_useEnhancedEffect:function(){return y},unstable_useId:function(){return w},unsupportedProp:function(){return x},useControlled:function(){return Z},useEventCallback:function(){return _.Z},useForkRef:function(){return I.Z},useIsFocusVisible:function(){return S.Z}});var r=n(5902),i=n(4036);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(9201);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}},m=n(2971).Z,y=n(5721).Z,g=n(9439),k=0;var b=l.useId;var w=function(e){if(void 0!==b){var t=b();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(k+=1))}),[r]),a}(e)};var x=function(e,t,n,r,i){return null};var Z=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,g.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]},_=n(6868),I=n(4843),S=n(3031),E={configure:function(e){r.Z.configure(e)}}},6868:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},4843:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var c={borderRadius:4},l=n(5682);var f=n(104),h=n(7416),d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,v=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,i.Z)(e,d),k=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),w=(0,a.Z)({breakpoints:k,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:b,shape:(0,r.Z)({},c,y)},g),x=arguments.length,Z=new Array(x>1?x-1:0),_=1;_<x;_++)Z[_-1]=arguments[_];return(w=Z.reduce((function(e,t){return(0,a.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),w.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},w}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return k},o3:function(){return b}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.DW)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return u}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(5682),i=n(8529),a=n(8247);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,a.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,i.ZP)({prop:"border",themeKey:"borders",transform:s}),l=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:s}),h=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),y=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];o(c,l,f,h,d,p,v,m,y,g,k);var b=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["gap"];var w=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];o(b,w,x,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function Z(e,t){return"grey"===t?t:e}o((0,i.ZP)({prop:"color",themeKey:"palette",transform:Z}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Z}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:Z}));function _(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var I=(0,i.ZP)({prop:"width",transform:_}),S=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||_(t)}}))}return null};S.filterProps=["maxWidth"];var E=(0,i.ZP)({prop:"minWidth",transform:_}),T=(0,i.ZP)({prop:"height",transform:_}),C=(0,i.ZP)({prop:"maxHeight",transform:_}),A=(0,i.ZP)({prop:"minHeight",transform:_}),N=((0,i.ZP)({prop:"size",cssProperty:"width",transform:_}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:_}),o(I,S,E,T,C,A,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:s},borderTop:{themeKey:"borders",transform:s},borderRight:{themeKey:"borders",transform:s},borderBottom:{themeKey:"borders",transform:s},borderLeft:{themeKey:"borders",transform:s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:Z},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Z},backgroundColor:{themeKey:"palette",transform:Z},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b},rowGap:{style:x},columnGap:{style:w},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:S},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),a=n(8247),o=n(8529),u=n(1184),s=n(7416);var c=function(){function e(e,t,n,a){var s,c=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),l=a[e];if(!l)return(0,r.Z)({},e,t);var f=l.cssProperty,h=void 0===f?e:f,d=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;if("typography"===d&&"inherit"===t)return(0,r.Z)({},e,t);var m=(0,o.DW)(n,d)||{};if(v)return v(c);return(0,u.k9)(c,t,(function(t){var n=(0,o.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var i,o=n||{},c=o.sx,l=o.theme,f=void 0===l?{}:l;if(!c)return null;var h=null!=(i=f.unstable_sxConfig)?i:s.Z;function d(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,u.W8)(f.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach((function(n){var o,s,l=(o=i[n],s=f,"function"===typeof o?o(s):o);if(null!==l&&void 0!==l)if("object"===typeof l)if(h[n])c=(0,a.Z)(c,e(n,l,f,h));else{var d=(0,u.k9)({theme:f},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,l)?c=(0,a.Z)(c,d):c[n]=t({sx:l,theme:f})}else c=(0,a.Z)(c,e(n,l,f,h))})),(0,u.L7)(s,c)}return Array.isArray(c)?c.map(d):d(c)}}();c.filterProps=["sx"],t.Z=c},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=o(e[r],t[r],n):n.clone?u[r]=i(t[r])?a(t[r]):t[r]:u[r]=t[r])})),u}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},33:function(e,t,n){"use strict";n.r(t),n.d(t,{Any:function(){return Wt},BailSignal:function(){return Nn},Controller:function(){return Jn},FrameValue:function(){return Dn},Globals:function(){return U},Interpolation:function(){return Sr},Spring:function(){return Zr},SpringContext:function(){return sr},SpringRef:function(){return lr},SpringValue:function(){return zn},Trail:function(){return _r},Transition:function(){return Ir},a:function(){return $r},animated:function(){return $r},config:function(){return gn},createInterpolator:function(){return Ae},easings:function(){return Me},inferTo:function(){return fn},interpolate:function(){return Nr},to:function(){return Ar},update:function(){return Pr},useChain:function(){return yn},useInView:function(){return xr},useIsomorphicLayoutEffect:function(){return _t},useReducedMotion:function(){return At},useResize:function(){return br},useScroll:function(){return kr},useSpring:function(){return hr},useSpringRef:function(){return pr},useSpringValue:function(){return vr},useSprings:function(){return fr},useTrail:function(){return mr},useTransition:function(){return yr}});var r=n(7326),i=n(4942),a=n(9439),o=n(3144),u=n(5671),s=n(136),c=n(9388),l=n(3366);function f(e,t){if(null==e)return{};var n,r,i=(0,l.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=n(3433);var d=n(2963),p=n(1752),v=n(1120),m=n(8664),y=n(4165),g=n(5861),k=n(1413),b=n(7762),w=M(),x=function(e){return R(e,w)},Z=M();x.write=function(e){return R(e,Z)};var _=M();x.onStart=function(e){return R(e,_)};var I=M();x.onFrame=function(e){return R(e,I)};var S=M();x.onFinish=function(e){return R(e,S)};var E=[];x.setTimeout=function(e,t){var n=x.now()+t,r={time:n,handler:e,cancel:function e(){var t=E.findIndex((function(t){return t.cancel==e}));~t&&E.splice(t,1),N-=~t?1:0}};return E.splice(T(n),0,r),N+=1,O(),r};var T=function(e){return~(~E.findIndex((function(t){return t.time>e}))||~E.length)};x.cancel=function(e){_.delete(e),I.delete(e),S.delete(e),w.delete(e),Z.delete(e)},x.sync=function(e){P=!0,x.batchedUpdates(e),P=!1},x.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,h.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,x.onStart(n)}return r.handler=e,r.cancel=function(){_.delete(n),t=null},r};var C=typeof window<"u"?window.requestAnimationFrame:function(){};x.use=function(e){return C=e},x.now=typeof performance<"u"?function(){return performance.now()}:Date.now,x.batchedUpdates=function(e){return e()},x.catch=console.error,x.frameLoop="always",x.advance=function(){"demand"!==x.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):L()};var A=-1,N=0,P=!1;function R(e,t){P?(t.delete(e),e(0)):(t.add(e),O())}function O(){A<0&&(A=0,"demand"!==x.frameLoop&&C(D))}function D(){~A&&(C(D),x.batchedUpdates(L))}function L(){var e=A;A=x.now();var t=T(A);t&&(F(E.splice(0,t),(function(e){return e.handler()})),N-=t),N?(_.flush(),w.flush(e?Math.min(64,A-e):16.667),I.flush(),Z.flush(),S.flush()):A=-1}function M(){var e=new Set,t=e;return{add:function(n){N+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return N-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,N-=t.size,F(t,(function(t){return t(n)&&e.add(t)})),N+=e.size,t=e)}}}function F(e,t){e.forEach((function(e){try{t(e)}catch(n){x.catch(n)}}))}var V=n(2791),j=Object.defineProperty,U={};function z(){}!function(e,t){for(var n in t)j(e,n,{get:t[n],enumerable:!0})}(U,{assign:function(){return ne},colors:function(){return J},createStringInterpolator:function(){return Q},skipAnimation:function(){return ee},to:function(){return $},willAdvance:function(){return te}});var B={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e}};function q(e,t){if(B.arr(e)){if(!B.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var K=function(e,t){return e.forEach(t)};function G(e,t,n){if(B.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var W=function(e){return B.und(e)?[]:B.arr(e)?e:[e]};function H(e,t){if(e.size){var n=Array.from(e);e.clear(),K(n,t)}}var Q,$,Y=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e,(function(e){return e.apply(void 0,n)}))},X=function(){return typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},J=null,ee=!1,te=z,ne=function(e){e.to&&($=e.to),e.now&&(x.now=e.now),void 0!==e.colors&&(J=e.colors),null!=e.skipAnimation&&(ee=e.skipAnimation),e.createStringInterpolator&&(Q=e.createStringInterpolator),e.requestAnimationFrame&&x.use(e.requestAnimationFrame),e.batchedUpdates&&(x.batchedUpdates=e.batchedUpdates),e.willAdvance&&(te=e.willAdvance),e.frameLoop&&(x.frameLoop=e.frameLoop)},re=new Set,ie=[],ae=[],oe=0,ue={get idle(){return!re.size&&!ie.length},start:function(e){oe>e.priority?(re.add(e),x.onStart(se)):(ce(e),x(fe))},advance:fe,sort:function(e){if(oe)x.onFrame((function(){return ue.sort(e)}));else{var t=ie.indexOf(e);~t&&(ie.splice(t,1),le(e))}},clear:function(){ie=[],re.clear()}};function se(){re.forEach(ce),re.clear(),x(fe)}function ce(e){ie.includes(e)||le(e)}function le(e){ie.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(ie,(function(t){return t.priority>e.priority})),0,e)}function fe(e){for(var t=ae,n=0;n<ie.length;n++){var r=ie[n];oe=r.priority,r.idle||(te(r),r.advance(e),r.idle||t.push(r))}return oe=0,(ae=ie).length=0,(ie=t).length>0}var he="[-+]?\\d*\\.?\\d+",de=he+"%";function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ve=new RegExp("rgb"+pe(he,he,he)),me=new RegExp("rgba"+pe(he,he,he,he)),ye=new RegExp("hsl"+pe(he,de,de)),ge=new RegExp("hsla"+pe(he,de,de,he)),ke=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,be=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,we=/^#([0-9a-fA-F]{6})$/,xe=/^#([0-9a-fA-F]{8})$/;function Ze(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _e(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=Ze(i,r,e+1/3),o=Ze(i,r,e),u=Ze(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function Ie(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Se(e){return(parseFloat(e)%360+360)%360/360}function Ee(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Te(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ce(e){var t=function(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=we.exec(e))?parseInt(t[1]+"ff",16)>>>0:J&&void 0!==J[e]?J[e]:(t=ve.exec(e))?(Ie(t[1])<<24|Ie(t[2])<<16|Ie(t[3])<<8|255)>>>0:(t=me.exec(e))?(Ie(t[1])<<24|Ie(t[2])<<16|Ie(t[3])<<8|Ee(t[4]))>>>0:(t=ke.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=xe.exec(e))?parseInt(t[1],16)>>>0:(t=be.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ye.exec(e))?(255|_e(Se(t[1]),Te(t[2]),Te(t[3])))>>>0:(t=ge.exec(e))?(_e(Se(t[1]),Te(t[2]),Te(t[3]))|Ee(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Ae=function e(t,n,r){if(B.fun(t))return t;if(B.arr(t))return e({range:t,output:n,extrapolate:r});if(B.str(t.output[0]))return Q(t);var i=t,a=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(e,o[t],o[t+1],a[t],a[t+1],c,u,s,i.map)}};var Ne=1.70158,Pe=1.525*Ne,Re=Ne+1,Oe=2*Math.PI/3,De=2*Math.PI/4.5,Le=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},Me={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Re*e*e*e-Ne*e*e},easeOutBack:function(e){return 1+Re*Math.pow(e-1,3)+Ne*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(2*(Pe+1)*e-Pe)/2:(Math.pow(2*e-2,2)*((Pe+1)*(2*e-2)+Pe)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Oe)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Oe)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*De)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*De)/2+1},easeInBounce:function(e){return 1-Le(1-e)},easeOutBounce:Le,easeInOutBounce:function(e){return e<.5?(1-Le(1-2*e))/2:(1+Le(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return function(e,t,n){return Math.min(Math.max(n,e),t)}(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Fe=Symbol.for("FluidValue.get"),Ve=Symbol.for("FluidValue.observers"),je=function(e){return!(!e||!e[Fe])},Ue=function(e){return e&&e[Fe]?e[Fe]():e},ze=function(e){return e[Ve]||null};function Be(e,t){var n=e[Ve];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var qe=(0,o.Z)((function e(t){if((0,u.Z)(this,e),(0,i.Z)(this,Fe,void 0),(0,i.Z)(this,Ve,void 0),!t&&!(t=this.get))throw Error("Unknown getter");Ke(this,t)})),Ke=function(e,t){return Qe(e,Fe,t)};function Ge(e,t){if(e[Fe]){var n=e[Ve];n||Qe(e,Ve,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function We(e,t){var n=e[Ve];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[Ve]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var He,Qe=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},$e=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ye=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Xe=new RegExp("(".concat($e.source,")(%|[a-z]+)"),"i"),Je=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,et=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tt=function e(t){var n=nt(t),r=(0,a.Z)(n,2),i=r[0],o=r[1];if(!i||X())return t;var u=window.getComputedStyle(document.documentElement).getPropertyValue(i);return u?u.trim():o&&o.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(o)||t:o&&et.test(o)?e(o):o||t},nt=function(e){var t=et.exec(e);if(!t)return[,];var n=(0,a.Z)(t,3);return[n[1],n[2]]},rt=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},it=function(e){He||(He=J?new RegExp("(".concat(Object.keys(J).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return Ue(e).replace(et,tt).replace(Ye,Ce).replace(He,Ce)})),n=t.map((function(e){return e.match($e).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Ae((0,k.Z)((0,k.Z)({},e),{},{output:t}))}));return function(e){var n,i=!Xe.test(t[0])&&(null===(n=t.find((function(e){return Xe.test(e)})))||void 0===n?void 0:n.replace($e,"")),a=0;return t[0].replace($e,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(Je,rt)}},at="react-spring: ",ot=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(at,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},ut=ot(console.warn);function st(){ut("".concat(at,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var ct=ot(console.warn);function lt(e){return B.str(e)&&("#"==e[0]||/\d/.test(e)||!X()&&et.test(e)||e in(J||{}))}var ft,ht=new WeakMap,dt=function(e){return e.forEach((function(e){var t,n=e.target,r=e.contentRect;return null===(t=ht.get(n))||void 0===t?void 0:t.forEach((function(e){return e(r)}))}))};var pt,vt=new Set,mt=function(e){return vt.add(e),pt||(pt=function(){var e=function(){vt.forEach((function(e){return e({width:window.innerWidth,height:window.innerHeight})}))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}()),function(){vt.delete(e),!vt.size&&pt&&(pt(),pt=void 0)}},yt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).container,n=void 0===t?document.documentElement:t;return n===document.documentElement?mt(e):function(e,t){ft||typeof ResizeObserver<"u"&&(ft=new ResizeObserver(dt));var n=ht.get(t);return n||(n=new Set,ht.set(t,n)),n.add(e),ft&&ft.observe(t),function(){var n=ht.get(t);n&&(n.delete(e),!n.size&&ft&&ft.unobserve(t))}}(e,n)},gt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},kt=(0,o.Z)((function e(t,n){var r=this;(0,u.Z)(this,e),(0,i.Z)(this,"callback",void 0),(0,i.Z)(this,"container",void 0),(0,i.Z)(this,"info",void 0),(0,i.Z)(this,"createAxis",(function(){return{current:0,progress:0,scrollLength:0}})),(0,i.Z)(this,"updateAxis",(function(e){var t=r.info[e],n=gt[e],i=n.length,a=n.position;t.current=r.container["scroll".concat(a)],t.scrollLength=r.container["scroll"+i]-r.container["client"+i],t.progress=function(e,t,n){return t-e===0?1:(n-e)/(t-e)}(0,t.scrollLength,t.current)})),(0,i.Z)(this,"update",(function(){r.updateAxis("x"),r.updateAxis("y")})),(0,i.Z)(this,"sendEvent",(function(){r.callback(r.info)})),(0,i.Z)(this,"advance",(function(){r.update(),r.sendEvent()})),this.callback=t,this.container=n,this.info={time:0,x:this.createAxis(),y:this.createAxis()}})),bt=new WeakMap,wt=new WeakMap,xt=new WeakMap,Zt=function(e){return e===document.documentElement?window:e};var _t=X()?V.useEffect:V.useLayoutEffect,It=function(){var e=(0,V.useRef)(!1);return _t((function(){return e.current=!0,function(){e.current=!1}}),[]),e};function St(){var e=(0,V.useState)()[1],t=It();return function(){t.current&&e(Math.random())}}var Et=function(e){return(0,V.useEffect)(e,Tt)},Tt=[];function Ct(e){var t=(0,V.useRef)();return(0,V.useEffect)((function(){t.current=e})),t.current}var At=function(){var e=(0,V.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1];return _t((function(){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(e){r(e.matches),ne({skipAnimation:e.matches})};return t(e),e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}),[]),n},Nt=Symbol.for("Animated:node"),Pt=function(e){return e&&e[Nt]},Rt=function(e,t){return function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}(e,Nt,t)},Ot=function(e){return e&&e[Nt]&&e[Nt].getPayload()},Dt=function(){function e(){(0,u.Z)(this,e),(0,i.Z)(this,"payload",void 0),Rt(this,this)}return(0,o.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),Lt=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,u.Z)(this,n),a=t.call(this),(0,i.Z)((0,r.Z)(a),"done",!0),(0,i.Z)((0,r.Z)(a),"elapsedTime",void 0),(0,i.Z)((0,r.Z)(a),"lastPosition",void 0),(0,i.Z)((0,r.Z)(a),"lastVelocity",void 0),(0,i.Z)((0,r.Z)(a),"v0",void 0),(0,i.Z)((0,r.Z)(a),"durationProgress",0),a._value=e,B.num(a._value)&&(a.lastPosition=a._value),a}return(0,o.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return B.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,B.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Dt),Mt=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,u.Z)(this,n),a=t.call(this,0),(0,i.Z)((0,r.Z)(a),"_string",null),(0,i.Z)((0,r.Z)(a),"_toString",void 0),a._toString=Ae({output:[e,e]}),a}return(0,o.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null!==e&&void 0!==e?e:this._string=this._toString(this._value)}},{key:"setValue",value:function(e){if(B.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,p.Z)((0,v.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Ae({output:[this.getValue(),e]})),this._value=0,(0,p.Z)((0,v.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Lt),Ft={dependencies:null},Vt=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,o.Z)(n,[{key:"getValue",value:function(e){var t={};return G(this.source,(function(n,r){!function(e){return!!e&&e[Nt]===e}(n)?je(n)?t[r]=Ue(n):e||(t[r]=n):t[r]=n.getValue(e)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&K(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return G(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Ft.dependencies&&je(e)&&Ft.dependencies.add(e);var n=Ot(e);n&&K(n,(function(e){return t.add(e)}))}}]),n}(Dt),jt=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,o.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,p.Z)((0,v.Z)(n.prototype),"setValue",this).call(this,e.map(Ut)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Vt);function Ut(e){return(lt(e)?Mt:Lt).create(e)}function zt(e){var t=Pt(e);return t?t.constructor:B.arr(e)?jt:lt(e)?Mt:Lt}var Bt=function(e,t){var n=!B.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,V.forwardRef)((function(r,i){var o=(0,V.useRef)(null),u=n&&(0,V.useCallback)((function(e){o.current=function(e,t){return e&&(B.fun(e)?e(t):e.current=t),t}(i,e)}),[i]),s=function(e,t){var n=new Set;return Ft.dependencies=n,e.style&&(e=(0,k.Z)((0,k.Z)({},e),{},{style:t.createAnimatedStyle(e.style)})),e=new Vt(e),Ft.dependencies=null,[e,n]}(r,t),c=(0,a.Z)(s,2),l=c[0],f=c[1],h=St(),d=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&h()},p=new qt(d,f),v=(0,V.useRef)();_t((function(){return v.current=p,K(f,(function(e){return Ge(e,p)})),function(){v.current&&(K(v.current.deps,(function(e){return We(e,v.current)})),x.cancel(v.current.update))}})),(0,V.useEffect)(d,[]),Et((function(){return function(){var e=v.current;K(e.deps,(function(t){return We(t,e)}))}}));var m=t.getComponentProps(l.getValue());return V.createElement(e,(0,k.Z)((0,k.Z)({},m),{},{ref:u}))}))},qt=function(){function e(t,n){(0,u.Z)(this,e),this.update=t,this.deps=n}return(0,o.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&x.write(this.update)}}]),e}();var Kt=Symbol.for("AnimatedComponent"),Gt=function(e){return B.str(e)?e:e&&B.str(e.displayName)?e.displayName:B.fun(e)&&e.name||null},Wt=(0,o.Z)((function e(){(0,u.Z)(this,e),(0,i.Z)(this,"_",void 0)})),Ht=["children"],Qt=["container"],$t=["container"],Yt=["to","from"],Xt=["root","once","amount"],Jt=["children"],en=["items","children"],tn=["items","children"];function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B.fun(e)?e.apply(void 0,n):e}var rn=function(e,t){return!0===e||!!(t&&e&&(B.fun(e)?e(t):W(e).includes(t)))},an=function(e,t){return B.obj(e)?t&&e[t]:e},on=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},un=function(e){return e},sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un,n=cn;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=(0,b.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=t(e[o],o);B.und(u)||(i[o]=u)}}catch(s){a.e(s)}finally{a.f()}return i},cn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ln={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function fn(e){var t=function(e){var t={},n=0;if(G(e,(function(e,r){ln[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return G(e,(function(e,r){return r in t||(n[r]=e)})),n}return(0,k.Z)({},e)}function hn(e){return e=Ue(e),B.arr(e)?e.map(hn):lt(e)?U.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function dn(e){for(var t in e)return!0;return!1}function pn(e){return B.fun(e)||B.arr(e)&&B.obj(e[0])}function vn(e,t){var n;null!==(n=e.ref)&&void 0!==n&&n.delete(e),null===t||void 0===t||t.delete(e)}function mn(e,t){var n;t&&e.ref!==t&&(null!==(n=e.ref)&&void 0!==n&&n.delete(e),t.add(e),e.ref=t)}function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;_t((function(){if(t){var r=0;K(e,(function(e,i){var a=e.current;if(a.length){var o=n*t[i];isNaN(o)?o=r:r=o,K(a,(function(e){K(e.queue,(function(e){var t=e.delay;e.delay=function(e){return o+nn(t||0,e)}}))})),e.start()}}))}else{var i=Promise.resolve();K(e,(function(e){var t=e.current;if(t.length){var n=t.map((function(e){var t=e.queue;return e.queue=[],t}));i=i.then((function(){return K(t,(function(e,t){return K(n[t]||[],(function(t){return e.queue.push(t)}))})),Promise.all(e.start())}))}}))}}))}var gn={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},kn=(0,k.Z)((0,k.Z)({},gn.default),{},{mass:1,damping:1,easing:Me.linear,clamp:!1}),bn=(0,o.Z)((function e(){(0,u.Z)(this,e),(0,i.Z)(this,"tension",void 0),(0,i.Z)(this,"friction",void 0),(0,i.Z)(this,"frequency",void 0),(0,i.Z)(this,"damping",void 0),(0,i.Z)(this,"mass",void 0),(0,i.Z)(this,"velocity",0),(0,i.Z)(this,"restVelocity",void 0),(0,i.Z)(this,"precision",void 0),(0,i.Z)(this,"progress",void 0),(0,i.Z)(this,"duration",void 0),(0,i.Z)(this,"easing",void 0),(0,i.Z)(this,"clamp",void 0),(0,i.Z)(this,"bounce",void 0),(0,i.Z)(this,"decay",void 0),(0,i.Z)(this,"round",void 0),Object.assign(this,kn)}));function wn(e,t){if(B.und(t.decay)){var n=!B.und(t.tension)||!B.und(t.friction);(n||!B.und(t.frequency)||!B.und(t.damping)||!B.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var xn=[],Zn=(0,o.Z)((function e(){(0,u.Z)(this,e),(0,i.Z)(this,"changed",!1),(0,i.Z)(this,"values",xn),(0,i.Z)(this,"toValues",null),(0,i.Z)(this,"fromValues",xn),(0,i.Z)(this,"to",void 0),(0,i.Z)(this,"from",void 0),(0,i.Z)(this,"config",new bn),(0,i.Z)(this,"immediate",!1)}));function _n(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,u){var s,c,l,f=rn(null!==(s=r.cancel)&&void 0!==s?s:null===i||void 0===i?void 0:i.cancel,n);if(f)v();else{B.und(r.pause)||(a.paused=rn(r.pause,n));var h=null===i||void 0===i?void 0:i.pause;!0!==h&&(h=a.paused||rn(h,n)),c=nn(r.delay||0,n),h?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(l),l.cancel(),c=l.time-x.now()}function p(){c>0&&!U.skipAnimation?(a.delayed=!0,l=x.setTimeout(v,c),a.pauseQueue.add(d),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start((0,k.Z)((0,k.Z)({},r),{},{callId:e,cancel:f}),t)}catch(h){u(h)}}}))}var In=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Tn(e.get()):t.every((function(e){return e.noop}))?Sn(e.get()):En(e.get(),t.every((function(e){return e.finished})))},Sn=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},En=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Tn=function(e){return{value:e,cancelled:!0,finished:!1}};function Cn(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,u=n.asyncTo,s=n.promise;return a||e!==u||t.reset?n.promise=(0,g.Z)((0,y.Z)().mark((function c(){var l,f,h,d,p,v,m,w;return(0,y.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=sn(t,(function(e,t){return"onRest"===t?void 0:e})),d=new Promise((function(e,t){return f=e,h=t})),p=function(e){var t=i<=(n.cancelId||0)&&Tn(r)||i!==n.asyncId&&En(r,!1);if(t)throw e.result=t,h(e),e},v=function(e,t){var a=new Nn,o=new Pn;return(0,g.Z)((0,y.Z)().mark((function u(){var s,c;return(0,y.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!U.skipAnimation){u.next=2;break}throw An(n),o.result=En(r,!1),h(o),o;case 2:return p(a),(s=B.obj(e)?(0,k.Z)({},e):(0,k.Z)((0,k.Z)({},t),{},{to:e})).parentId=i,G(l,(function(e,t){B.und(s[t])&&(s[t]=e)})),u.next=7,r.start(s);case 7:if(c=u.sent,p(a),u.t0=n.paused,!u.t0){u.next=13;break}return u.next=13,new Promise((function(e){n.resumeQueue.add(e)}));case 13:return u.abrupt("return",c);case 14:case"end":return u.stop()}}),u)})))()},!U.skipAnimation){c.next=4;break}return c.abrupt("return",(An(n),En(r,!1)));case 4:return c.prev=4,w=B.arr(e)?function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,b.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=8,Promise.all([w.then(f),d]);case 8:m=En(r.get(),!0,!1),c.next=22;break;case 11:if(c.prev=11,c.t0=c.catch(4),!(c.t0 instanceof Nn)){c.next=17;break}m=c.t0.result,c.next=22;break;case 17:if(!(c.t0 instanceof Pn)){c.next=21;break}m=c.t0.result,c.next=22;break;case 21:throw c.t0;case 22:return c.prev=22,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?s:void 0),c.finish(22);case 25:return c.abrupt("return",(B.fun(o)&&x.batchedUpdates((function(){o(m,r,r.item)})),m));case 26:case"end":return c.stop()}}),c,null,[[4,11,22,25]])})))():s}function An(e,t){H(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Nn=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),(0,i.Z)((0,r.Z)(e),"result",void 0),e}return(0,o.Z)(n)}((0,m.Z)(Error)),Pn=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.call(this,"SkipAnimationSignal"),(0,i.Z)((0,r.Z)(e),"result",void 0),e}return(0,o.Z)(n)}((0,m.Z)(Error)),Rn=function(e){return e instanceof Dn},On=1,Dn=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,i.Z)((0,r.Z)(e),"id",On++),(0,i.Z)((0,r.Z)(e),"_priority",0),e}return(0,o.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Pt(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U.to(this,t)}},{key:"interpolate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return st(),U.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){Be(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||ue.sort(this),Be(this,{type:"priority",parent:this,priority:e})}}]),n}(qe),Ln=Symbol.for("SpringPhase"),Mn=function(e){return(1&e[Ln])>0},Fn=function(e){return(2&e[Ln])>0},Vn=function(e){return(4&e[Ln])>0},jn=function(e,t){return t?e[Ln]|=3:e[Ln]&=-3},Un=function(e,t){return t?e[Ln]|=4:e[Ln]&=-5},zn=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;if((0,u.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"key",void 0),(0,i.Z)((0,r.Z)(o),"animation",new Zn),(0,i.Z)((0,r.Z)(o),"queue",void 0),(0,i.Z)((0,r.Z)(o),"defaultProps",{}),(0,i.Z)((0,r.Z)(o),"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),(0,i.Z)((0,r.Z)(o),"_pendingCalls",new Set),(0,i.Z)((0,r.Z)(o),"_lastCallId",0),(0,i.Z)((0,r.Z)(o),"_lastToId",0),(0,i.Z)((0,r.Z)(o),"_memoizedDuration",0),!B.und(e)||!B.und(a)){var s=B.obj(e)?(0,k.Z)({},e):(0,k.Z)((0,k.Z)({},a),{},{from:e});B.und(s.default)&&(s.default=!0),o.start(s)}return(0,d.Z)(o)}return(0,o.Z)(n,[{key:"idle",get:function(){return!(Fn(this)||this._state.asyncTo)||Vn(this)}},{key:"goal",get:function(){return Ue(this.animation.to)}},{key:"velocity",get:function(){var e=Pt(this);return e instanceof Lt?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return Mn(this)}},{key:"isAnimating",get:function(){return Fn(this)}},{key:"isPaused",get:function(){return Vn(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.toValues,o=i.config,u=Ot(i.to);!u&&je(i.to)&&(a=W(Ue(i.to))),i.values.forEach((function(s,c){if(!s.done){var l=s.constructor==Mt?1:u?u[c].lastPosition:a[c],f=i.immediate,h=l;if(!f){if(h=s.lastPosition,o.tension<=0)return void(s.done=!0);var d,p=s.elapsedTime+=e,v=i.fromValues[c],m=null!=s.v0?s.v0:s.v0=B.arr(o.velocity)?o.velocity[c]:o.velocity,y=o.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v)));if(B.und(o.duration))if(o.decay){var g=!0===o.decay?.998:o.decay,k=Math.exp(-(1-g)*p);h=v+m/(1-g)*(1-k),f=Math.abs(s.lastPosition-h)<=y,d=m*k}else{d=null==s.lastVelocity?m:s.lastVelocity;for(var b=o.restVelocity||y/10,w=o.clamp?0:o.bounce,x=!B.und(w),Z=v==l?s.v0>0:v<l,_=Math.ceil(e/1),I=0;I<_&&(Math.abs(d)>b||!(f=Math.abs(l-h)<=y));++I){x&&((h==l||h>l==Z)&&(d=-d*w,h=l)),h+=1*(d+=1*((1e-6*-o.tension*(h-l)+.001*-o.friction*d)/o.mass))}}else{var S=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,p=s.elapsedTime+=e)),S=(S=(o.progress||0)+p/t._memoizedDuration)>1?1:S<0?0:S,s.durationProgress=S),d=((h=v+o.easing(S)*(l-v))-s.lastPosition)/e,f=1==S}s.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}u&&!u[c].done&&(f=!1),f?s.done=!0:n=!1,s.setValue(h,o.round)&&(r=!0)}}));var s=Pt(this),c=s.getValue();if(n){var l=Ue(i.to);c===l&&!r||o.decay?r&&o.decay&&this._onChange(c):(s.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return x.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(Fn(this)){var t=this.animation,n=t.to,r=t.config;x.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return B.und(e)?(n=this.queue||[],this.queue=[]):n=[B.obj(e)?e:(0,k.Z)((0,k.Z)({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return In(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),An(this._state,e&&this._lastCallId),x.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t,n=this.key||"",r=e.to,i=e.from;(null==(r=B.obj(r)?r[n]:r)||pn(r))&&(r=void 0),null==(i=B.obj(i)?i[n]:i)&&(i=void 0);var a={to:r,from:i};return Mn(this)||(e.reverse&&(r=(t=[i,r])[0],i=t[1]),i=Ue(i),B.und(i)?Pt(this)||this._set(r):this._set(i)),a}},{key:"_update",value:function(e,t){var n=this,r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,sn(r,(function(e,t){return/^on/.test(t)?an(e,i):e}))),Qn(this,r,"onProps"),$n(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var u=this._state;return _n(++this._lastCallId,{key:i,props:r,defaultProps:a,state:u,actions:{pause:function(){Vn(n)||(Un(n,!0),Y(u.pauseQueue),$n(n,"onPause",En(n,Bn(n,n.animation.to)),n))},resume:function(){Vn(n)&&(Un(n,!1),Fn(n)&&n._resume(),Y(u.resumeQueue),$n(n,"onResume",En(n,Bn(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=qn(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r,i=this;if(t.cancel)return this.stop(!0),n(Tn(this));var a=!B.und(e.to),o=!B.und(e.from);if(a||o){if(!(t.callId>this._lastToId))return n(Tn(this));this._lastToId=t.callId}var u=this.key,s=this.defaultProps,c=this.animation,l=c.to,f=c.from,h=e.to,d=void 0===h?l:h,p=e.from,v=void 0===p?f:p;o&&!a&&(!t.default||B.und(d))&&(d=v),t.reverse&&(d=(r=[v,d])[0],v=r[1]);var m=!q(v,f);m&&(c.from=v),v=Ue(v);var y=!q(d,l);y&&this._focus(d);var g=pn(t.to),b=c.config,w=b.decay,Z=b.velocity;(a||o)&&(b.velocity=0),t.config&&!g&&function(e,t,n){for(var r in n&&(wn(n=(0,k.Z)({},n),t),t=(0,k.Z)((0,k.Z)({},n),t)),wn(e,t),Object.assign(e,t),kn)null==e[r]&&(e[r]=kn[r]);var i=e.frequency,a=e.damping,o=e.mass;B.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(b,nn(t.config,u),t.config!==s.config?nn(s.config,u):void 0);var _=Pt(this);if(!_||B.und(d))return n(En(this,!0));var I=B.und(t.reset)?o&&!t.default:!B.und(v)&&rn(t.reset,u),S=I?v:this.get(),E=hn(d),T=B.num(E)||B.arr(E)||lt(E),C=!g&&(!T||rn(s.immediate||t.immediate,u));if(y){var A=zt(d);if(A!==_.constructor){if(!C)throw Error("Cannot animate between ".concat(_.constructor.name," and ").concat(A.name,', as the "to" prop suggests'));_=this._set(E)}}var N=_.constructor,P=je(d),R=!1;if(!P){var O=I||!Mn(this)&&m;(y||O)&&(P=!(R=q(hn(S),E))),(!q(c.immediate,C)&&!C||!q(b.decay,w)||!q(b.velocity,Z))&&(P=!0)}if(R&&Fn(this)&&(c.changed&&!I?P=!0:P||this._stop(l)),!g&&((P||je(l))&&(c.values=_.getPayload(),c.toValues=je(d)?null:N==Mt?[1]:W(E)),c.immediate!=C&&(c.immediate=C,!C&&!I&&this._set(l)),P)){var D=c.onRest;K(Hn,(function(e){return Qn(i,t,e)}));var L=En(this,Bn(this,l));Y(this._pendingCalls,L),this._pendingCalls.add(n),c.changed&&x.batchedUpdates((function(){var e;c.changed=!I,null!==D&&void 0!==D&&D(L,i),I?nn(s.onRest,L):null===(e=c.onStart)||void 0===e||e.call(c,L,i)}))}I&&this._set(S),g?n(Cn(t.to,t,this._state,this)):P?this._start():Fn(this)&&!y?this._pendingCalls.add(n):n(Sn(S))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(ze(this)&&this._detach(),t.to=e,ze(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;je(t)&&(Ge(t,this),Rn(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;je(e)&&We(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Ue(e);if(!B.und(r)){var i=Pt(this);if(!i||!q(r,i.getValue())){var a=zt(r);i&&i.constructor==a?i.setValue(r):Rt(this,a.create(r)),i&&x.batchedUpdates((function(){t._onChange(r,n)}))}}return Pt(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,$n(this,"onStart",En(this,Bn(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),nn(this.animation.onChange,e,this)),nn(this.defaultProps.onChange,e,this),(0,p.Z)((0,v.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Pt(this).reset(Ue(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Fn(this)||(jn(this,!0),Vn(this)||this._resume())}},{key:"_resume",value:function(){U.skipAnimation?this.finish():ue.start(this)}},{key:"_stop",value:function(e,t){if(Fn(this)){jn(this,!1);var n=this.animation;K(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Be(this,{type:"idle",parent:this});var r=t?Tn(this.get()):En(this.get(),Bn(this,null!==e&&void 0!==e?e:n.to));Y(this._pendingCalls,r),n.changed&&(n.changed=!1,$n(this,"onRest",r,this))}}}]),n}(Dn);function Bn(e,t){var n=hn(t);return q(hn(e.get()),n)}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=nn(t);if(r){var i=!0!==r&&fn(r),a=(i||e).reverse,o=!i||i.reset;return Kn((0,k.Z)((0,k.Z)({},e),{},{loop:t,default:!1,pause:void 0,to:!a||pn(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function Kn(e){var t=e=fn(e),n=t.to,r=t.from,i=new Set;return B.obj(n)&&Wn(n,i),B.obj(r)&&Wn(r,i),e.keys=i.size?Array.from(i):null,e}function Gn(e){var t=Kn(e);return B.und(t.default)&&(t.default=sn(t)),t}function Wn(e,t){G(e,(function(e,n){return null!=e&&t.add(n)}))}var Hn=["onStart","onRest","onChange","onPause","onResume"];function Qn(e,t,n){e.animation[n]=t[n]!==on(t,n)?an(t[n],e.key):void 0}function $n(e,t){for(var n,r,i,a,o=arguments.length,u=new Array(o>2?o-2:0),s=2;s<o;s++)u[s-2]=arguments[s];null!==(n=(r=e.animation)[t])&&void 0!==n&&n.call.apply(n,[r].concat(u)),null===(i=(a=e.defaultProps)[t])||void 0===i||i.call.apply(i,[a].concat(u))}var Yn=["onStart","onChange","onRest"],Xn=1,Jn=function(){function e(t,n){(0,u.Z)(this,e),(0,i.Z)(this,"id",Xn++),(0,i.Z)(this,"springs",{}),(0,i.Z)(this,"queue",[]),(0,i.Z)(this,"ref",void 0),(0,i.Z)(this,"_flush",void 0),(0,i.Z)(this,"_initialProps",void 0),(0,i.Z)(this,"_lastAsyncId",0),(0,i.Z)(this,"_active",new Set),(0,i.Z)(this,"_changed",new Set),(0,i.Z)(this,"_started",!1),(0,i.Z)(this,"_item",void 0),(0,i.Z)(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),(0,i.Z)(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map}),this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start((0,k.Z)({default:!0},t))}return(0,o.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];B.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(Kn(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=W(e).map(Kn):this.queue=[],this._flush?this._flush(this,t):(ur(this,t),er(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;K(W(t),(function(t){return n[t].stop(!!e)}))}else An(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(B.und(e))this.start({pause:!0});else{var t=this.springs;K(W(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(B.und(e))this.start({pause:!1});else{var t=this.springs;K(W(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){G(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,H(n,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!o&&this._started,c=u||s&&i.size?this.get():null;u&&r.size&&H(r,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})),s&&(this._started=!1,H(i,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}x.onFrame(this._onFrame)}}]),e}();function er(e,t){return Promise.all(t.map((function(t){return tr(e,t)}))).then((function(t){return In(e,t)}))}function tr(e,t,n){return nr.apply(this,arguments)}function nr(){return nr=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,u=n.loop,s=n.onRest,c=n.onResolve,l=B.obj(n.default)&&n.default,u&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=B.arr(a)||B.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):K(Yn,(function(e){var r=n[e];if(B.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,Y(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),d=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===on(n,"cancel"),(f||p&&h.asyncId)&&d.push(_n(++t._lastAsyncId,{props:n,state:h,actions:{pause:z,resume:z,start:function(e,n){p?(An(h,t._lastAsyncId),n(Tn(t))):(e.onRest=s,n(Cn(f,e,h,t)))}}})),e.t0=h.paused,!e.t0){e.next=12;break}return e.next=12,new Promise((function(e){h.resumeQueue.add(e)}));case 12:return e.t1=In,e.t2=t,e.next=16,Promise.all(d);case 16:if(e.t3=e.sent,v=(0,e.t1)(e.t2,e.t3),!u||!v.finished||r&&v.noop){e.next=22;break}if(!(m=qn(n,u,a))){e.next=22;break}return e.abrupt("return",(ur(t,[m]),tr(t,m,!0)));case 22:return e.abrupt("return",(c&&x.batchedUpdates((function(){return c(v,t,t.item)})),v));case 23:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t){var n=(0,k.Z)({},e.springs);return t&&K(W(t),(function(e){B.und(e.keys)&&(e=Kn(e)),B.obj(e.to)||(e=(0,k.Z)((0,k.Z)({},e),{},{to:void 0})),or(n,e,(function(e){return ar(e)}))})),ir(e,n),n}function ir(e,t){G(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Ge(t,e))}))}function ar(e,t){var n=new zn;return n.key=e,t&&Ge(n,t),n}function or(e,t,n){t.keys&&K(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function ur(e,t){K(t,(function(t){or(e.springs,t,(function(t){return ar(t,e)}))}))}var sr=function(e){var t=e.children,n=f(e,Ht),r=(0,V.useContext)(cr),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,V.useState)((function(){return{inputs:t,result:e()}})),r=(0,a.Z)(n,1)[0],i=(0,V.useRef)(),o=i.current,u=o;return u?t&&u.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,u.inputs)||(u={inputs:t,result:e()}):u=r,(0,V.useEffect)((function(){i.current=u,o==r&&(r.inputs=r.result=void 0)}),[u]),u.result}((function(){return{pause:i,immediate:o}}),[i,o]);var u=cr.Provider;return V.createElement(u,{value:n},t)},cr=function(e,t){return Object.assign(e,V.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(sr,{});sr.Provider=cr.Provider,sr.Consumer=cr.Consumer;var lr=function(){var e=[],t=function(t){ct("".concat(at,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return K(e,(function(e,i){if(B.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return K(e,(function(e){return e.pause.apply(e,(0,h.Z)(t))})),this},t.resume=function(){var t=arguments;return K(e,(function(e){return e.resume.apply(e,(0,h.Z)(t))})),this},t.set=function(t){K(e,(function(e,n){var r=B.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){var n=this,r=[];return K(e,(function(e,i){if(B.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return K(e,(function(e){return e.stop.apply(e,(0,h.Z)(t))})),this},t.update=function(t){var n=this;return K(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return B.fun(e)?e(n,t):e};return t._getProps=n,t};function fr(e,t,n){var r=arguments,i=B.fun(t)&&t;i&&!n&&(n=[]);var a=(0,V.useMemo)((function(){return i||3==r.length?lr():void 0}),[]),o=(0,V.useRef)(0),u=St(),s=(0,V.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=rr(e,t);return o.current>0&&!s.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?er(e,t):new Promise((function(r){ir(e,n),s.queue.push((function(){r(er(e,t))})),u()}))}}}),[]),c=(0,V.useRef)((0,h.Z)(s.ctrls)),l=[],f=Ct(e)||0;function d(e,n){for(var r=e;r<n;r++){var a=c.current[r]||(c.current[r]=new Jn(null,s.flush)),o=i?i(r,a):t[r];o&&(l[r]=Gn(o))}}(0,V.useMemo)((function(){K(c.current.slice(e,f),(function(e){vn(e,a),e.stop(!0)})),c.current.length=e,d(f,e)}),[e]),(0,V.useMemo)((function(){d(0,Math.min(f,e))}),n);var p=c.current.map((function(e,t){return rr(e,l[t])})),v=(0,V.useContext)(sr),m=Ct(v),y=v!==m&&dn(v);_t((function(){o.current++,s.ctrls=c.current;var e=s.queue;e.length&&(s.queue=[],K(e,(function(e){return e()}))),K(c.current,(function(e,t){null!==a&&void 0!==a&&a.add(e),y&&e.start({default:v});var n=l[t];n&&(mn(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Et((function(){return function(){K(s.ctrls,(function(e){return e.stop(!0)}))}}));var g=p.map((function(e){return(0,k.Z)({},e)}));return a?[g,a]:g}function hr(e,t){var n=B.fun(e),r=fr(1,n?e:[e],n?t||[]:t),i=(0,a.Z)(r,2),o=(0,a.Z)(i[0],1)[0],u=i[1];return n||2==arguments.length?[o,u]:o}var dr=function(){return lr()},pr=function(){return(0,V.useState)(dr)[0]},vr=function(e,t){var n=function(e){var t=(0,V.useRef)(null);return null===t.current&&(t.current=e()),t.current}((function(){return new zn(e,t)}));return Et((function(){return function(){n.stop()}})),n};function mr(e,t,n){var r=B.fun(t)&&t;r&&!n&&(n=[]);var i,a=!0,o=fr(e,(function(e,n){var o=r?r(e,n):t;return i=o.ref,a=a&&o.reverse,o}),n||[{}]);if(_t((function(){K(o[1].current,(function(e,t){var n=o[1].current[t+(a?1:-1)];mn(e,i),e.ref?n&&e.update({to:n.springs}):n?e.start({to:n.springs}):e.start()}))}),n),r||3==arguments.length){var u,s=null!==(u=i)&&void 0!==u?u:o[1];return s._getProps=function(e,t,n){var r=B.fun(e)?e(n,t):e;if(r){var i=s.current[n+(r.reverse?1:-1)];return i&&(r.to=i.springs),r}},o}return o[0]}function yr(e,t,n){var r=arguments,i=B.fun(t)&&t,a=i?i():t,o=a.reset,u=a.sort,s=a.trail,c=void 0===s?0:s,l=a.expires,f=void 0===l||l,h=a.exitBeforeEnter,d=void 0!==h&&h,p=a.onDestroyed,v=a.ref,m=a.config,y=(0,V.useMemo)((function(){return i||3==r.length?lr():void 0}),[]),g=W(e),b=[],w=(0,V.useRef)(null),x=o?null:w.current;_t((function(){w.current=b})),Et((function(){return K(b,(function(e){null!==y&&void 0!==y&&y.add(e.ctrl),e.ctrl.ref=y})),function(){K(w.current,(function(e){e.expired&&clearTimeout(e.expirationId),vn(e.ctrl,y),e.ctrl.stop(!0)}))}}));var Z=function(e,t,n){var r=t.key,i=t.keys,a=void 0===i?r:i;if(null===a){var o=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&"leave"!==t.phase&&!o.has(t)}));return t?(o.add(t),t.key):gr++}))}return B.und(a)?e:B.fun(a)?e.map(a):W(a)}(g,i?i():t,x),_=o&&w.current||[];_t((function(){return K(_,(function(e){var t=e.ctrl,n=e.item,r=e.key;vn(t,y),nn(p,n,r)}))}));var I=[];if(x&&K(x,(function(e,t){e.expired?(clearTimeout(e.expirationId),_.push(e)):~(t=I[t]=Z.indexOf(e.key))&&(b[t]=e)})),K(g,(function(e,t){b[t]||(b[t]={key:Z[t],item:e,phase:"mount",ctrl:new Jn},b[t].ctrl.item=e)})),I.length){var S=-1,E=(i?i():t).leave;K(I,(function(e,t){var n=x[t];~e?(S=b.indexOf(n),b[S]=(0,k.Z)((0,k.Z)({},n),{},{item:g[e]})):E&&b.splice(++S,0,n)}))}B.fun(u)&&b.sort((function(e,t){return u(e.item,t.item)}));var T=-c,C=St(),A=sn(t),N=new Map,P=(0,V.useRef)(new Map),R=(0,V.useRef)(!1);K(b,(function(e,n){var r,a,o=e.key,u=e.phase,s=i?i():t,l=nn(s.delay||0,o);if("mount"==u)r=s.enter,a="enter";else{var h=Z.indexOf(o)<0;if("leave"!=u)if(h)r=s.leave,a="leave";else{if(!(r=s.update))return;a="update"}else{if(h)return;r=s.enter,a="enter"}}if(r=nn(r,e.item,n),!(r=B.obj(r)?fn(r):{to:r}).config){var p=m||A.config;r.config=nn(p,e.item,n,a)}T+=c;var y=(0,k.Z)((0,k.Z)({},A),{},{delay:l+T,ref:v,immediate:s.immediate,reset:!1},r);if("enter"==a&&B.und(y.from)){var g=i?i():t,b=B.und(g.initial)||x?g.from:g.initial;y.from=nn(b,e.item,n)}var _=y.onResolve;y.onResolve=function(e){nn(_,e);var t=w.current,n=t.find((function(e){return e.key===o}));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if("leave"==n.phase){var i=nn(f,n.item);if(!1!==i){var a=!0===i?0:i;if(n.expired=!0,!r&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(C,a)))}}r&&t.some((function(e){return e.expired}))&&(P.current.delete(n),d&&(R.current=!0),C())}};var I=rr(e.ctrl,y);"leave"===a&&d?P.current.set(e,{phase:a,springs:I,payload:y}):N.set(e,{phase:a,springs:I,payload:y})}));var O=(0,V.useContext)(sr),D=Ct(O),L=O!==D&&dn(O);_t((function(){L&&K(b,(function(e){e.ctrl.start({default:O})}))}),[O]),K(N,(function(e,t){if(P.current.size){var n=b.findIndex((function(e){return e.key===t.key}));b.splice(n,1)}})),_t((function(){K(P.current.size?P.current:N,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null!==y&&void 0!==y&&y.add(i),L&&"enter"==n&&i.start({default:O}),r&&(mn(i,r.ref),!i.ref&&!y||R.current?(i.start(r),R.current&&(R.current=!1)):i.update(r))}))}),o?void 0:n);var M=function(e){return V.createElement(V.Fragment,null,b.map((function(t,n){var r=(N.get(t)||t.ctrl).springs,i=e((0,k.Z)({},r),t.item,t,n);return i&&i.type?V.createElement(i.type,(0,k.Z)((0,k.Z)({},i.props),{},{key:B.str(t.key)||B.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return y?[M,y]:M}var gr=1;var kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=f(e,Qt),r=hr((function(){return(0,k.Z)({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0},n)}),[]),i=(0,a.Z)(r,2),o=i[0],u=i[1];return _t((function(){var e=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).container,n=void 0===t?document.documentElement:t,r=xt.get(n);r||(r=new Set,xt.set(n,r));var i=new kt(e,n);if(r.add(i),!bt.has(n)){var a=function(){var e;return null!==(e=r)&&void 0!==e&&e.forEach((function(e){return e.advance()})),!0};bt.set(n,a);var o=Zt(n);window.addEventListener("resize",a,{passive:!0}),n!==document.documentElement&&wt.set(n,yt(a,{container:n})),o.addEventListener("scroll",a,{passive:!0})}var u=bt.get(n);return x(u),function(){var e;x.cancel(u);var t=xt.get(n);if(t&&(t.delete(i),!t.size)){var r=bt.get(n);bt.delete(n),r&&(Zt(n).removeEventListener("scroll",r),window.removeEventListener("resize",r),null===(e=wt.get(n))||void 0===e||e())}}}((function(e){var t=e.x,n=e.y;u.start({scrollX:t.current,scrollXProgress:t.progress,scrollY:n.current,scrollYProgress:n.progress})}),{container:(null===t||void 0===t?void 0:t.current)||void 0});return function(){K(Object.values(o),(function(e){return e.stop()})),e()}}),[]),o},br=function(e){var t=e.container,n=f(e,$t),r=hr((function(){return(0,k.Z)({width:0,height:0},n)}),[]),i=(0,a.Z)(r,2),o=i[0],u=i[1];return _t((function(){var e=yt((function(e){var t=e.width,n=e.height;u.start({width:t,height:n,immediate:0===o.width.get()||0===o.height.get()})}),{container:(null===t||void 0===t?void 0:t.current)||void 0});return function(){K(Object.values(o),(function(e){return e.stop()})),e()}}),[]),o},wr={any:0,all:1};function xr(e,t){var n=(0,V.useState)(!1),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=(0,V.useRef)(),s=B.fun(e)&&e,c=s?s():{},l=c.to,h=void 0===l?{}:l,d=c.from,p=void 0===d?{}:d,v=f(c,Yt),m=s?t:e,y=hr((function(){return(0,k.Z)({from:p},v)}),[]),g=(0,a.Z)(y,2),b=g[0],w=g[1];return _t((function(){var e=u.current,t=null!==m&&void 0!==m?m:{},n=t.root,r=t.once,a=t.amount,s=void 0===a?"any":a,c=f(t,Xt);if(!(!e||r&&i||typeof IntersectionObserver>"u")){var l=new WeakMap,d=new IntersectionObserver((function(e){e.forEach((function(e){var t=l.get(e.target);if(e.isIntersecting!==!!t)if(e.isIntersecting){var n=(h&&w.start(h),o(!0),r?void 0:function(){p&&w.start(p),o(!1)});B.fun(n)?l.set(e.target,n):d.unobserve(e.target)}else t&&(t(),l.delete(e.target))}))}),(0,k.Z)({root:n&&n.current||void 0,threshold:"number"==typeof s||Array.isArray(s)?s:wr[s]},c));return d.observe(e),function(){return d.unobserve(e)}}}),[m]),s?[u,b]:[u,i]}function Zr(e){return(0,e.children)(hr(f(e,Jt)))}function _r(e){var t=e.items,n=e.children,r=f(e,en),i=mr(t.length,r);return t.map((function(e,t){var r=n(e,t);return B.fun(r)?r(i[t]):r}))}function Ir(e){var t=e.items,n=e.children;return yr(t,f(e,tn))(n)}var Sr=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;(0,u.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"key",void 0),(0,i.Z)((0,r.Z)(o),"idle",!0),(0,i.Z)((0,r.Z)(o),"calc",void 0),(0,i.Z)((0,r.Z)(o),"_active",new Set),o.source=e,o.calc=Ae.apply(void 0,(0,h.Z)(a));var s=o._get(),c=zt(s);return Rt((0,r.Z)(o),c.create(s)),o}return(0,o.Z)(n,[{key:"advance",value:function(e){var t=this._get();q(t,this.get())||(Pt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Tr(this._active)&&Cr(this)}},{key:"_get",value:function(){var e=B.arr(this.source)?this.source.map(Ue):W(Ue(this.source));return this.calc.apply(this,(0,h.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Tr(this._active)&&(this.idle=!1,K(Ot(this),(function(e){e.done=!1})),U.skipAnimation?(x.batchedUpdates((function(){return e.advance()})),Cr(this)):ue.start(this))}},{key:"_attach",value:function(){var e=this,t=1;K(W(this.source),(function(n){je(n)&&Ge(n,e),Rn(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;K(W(this.source),(function(t){je(t)&&We(t,e)})),this._active.clear(),Cr(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=W(this.source).reduce((function(e,t){return Math.max(e,(Rn(t)?t.priority:0)+1)}),0))}}]),n}(Dn);function Er(e){return!1!==e.idle}function Tr(e){return!e.size||Array.from(e).every(Er)}function Cr(e){e.idle||(e.idle=!0,K(Ot(e),(function(e){e.done=!0})),Be(e,{type:"idle",parent:e}))}var Ar=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Sr(e,n)},Nr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return st(),new Sr(e,n)};U.assign({createStringInterpolator:it,to:function(e,t){return new Sr(e,t)}});var Pr=ue.advance,Rr=n(4164),Or=["style","children","scrollTop","scrollLeft","viewBox"],Dr=["x","y","z"],Lr=["scrollTop","scrollLeft"],Mr=/^--/;function Fr(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||Mr.test(e)||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}var Vr={};var jr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ur=["Webkit","Ms","Moz","O"];jr=Object.keys(jr).reduce((function(e,t){return Ur.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),jr);var zr=/^(matrix|translate|scale|rotate|skew)/,Br=/^(translate)/,qr=/^(rotate|skew)/,Kr=function(e,t){return B.num(e)&&0!==e?e+t:e},Gr=function e(t,n){return B.arr(t)?t.every((function(t){return e(t,n)})):B.num(t)?t===n:parseFloat(t)===n},Wr=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r=e.x,i=e.y,o=e.z,s=f(e,Dr);(0,u.Z)(this,n);var c=[],l=[];return(r||i||o)&&(c.push([r||0,i||0,o||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return Kr(e,"px")})).join(","),")"),Gr(e,0)]}))),G(s,(function(e,t){if("transform"===t)c.push([e||""]),l.push((function(e){return[e,""===e]}));else if(zr.test(t)){if(delete s[t],B.und(e))return;var n=Br.test(t)?"px":qr.test(t)?"deg":"";c.push(W(e)),l.push("rotate3d"===t?function(e){var t=(0,a.Z)(e,4),r=t[0],i=t[1],o=t[2],u=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(o,",").concat(Kr(u,n),")"),Gr(u,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return Kr(e,n)})).join(","),")"),Gr(e,t.startsWith("scale")?1:0)]})}})),c.length&&(s.transform=new Hr(c,l)),t.call(this,s)}return(0,o.Z)(n)}(Vt),Hr=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;return(0,u.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"_value",null),o.inputs=e,o.transforms=a,o}return(0,o.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return K(this.inputs,(function(r,i){var o=Ue(r[0]),u=e.transforms[i](B.arr(o)?o:r.map(Ue)),s=(0,a.Z)(u,2),c=s[0],l=s[1];t+=" "+c,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&K(this.inputs,(function(e){return K(e,(function(e){return je(e)&&Ge(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&K(this.inputs,(function(e){return K(e,(function(e){return je(e)&&We(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Be(this,e)}}]),n}(qe);U.assign({batchedUpdates:Rr.unstable_batchedUpdates,createStringInterpolator:it,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Qr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new Vt(e)}:i,o=t.getComponentProps,u=void 0===o?function(e){return e}:o,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:u},c=function e(t){var n=Gt(t)||"Anonymous";return(t=B.str(t)?e[t]||(e[t]=Bt(t,s)):t[Kt]||(t[Kt]=Bt(t,s))).displayName="Animated(".concat(n,")"),t};return G(e,(function(t,n){B.arr(e)&&(n=Gt(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,i=t.children,a=t.scrollTop,o=t.scrollLeft,u=t.viewBox,s=f(t,Or),c=Object.values(s),l=Object.keys(s).map((function(t){return n||e.hasAttribute(t)?t:Vr[t]||(Vr[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var h in void 0!==i&&(e.textContent=i),r)if(r.hasOwnProperty(h)){var d=Fr(h,r[h]);Mr.test(h)?e.style.setProperty(h,d):e.style[h]=d}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==u&&e.setAttribute("viewBox",u)},createAnimatedStyle:function(e){return new Wr(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return f(e,Lr)}}),$r=Qr.animated},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Z:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ze=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ze?_e?_e.push(e):_e=[e]:Ze=e}function Ee(){if(Ze){var e=Ze,t=_e;if(_e=Ze=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ze||null!==_e)&&(Ce(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function De(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ve=null,je={onError:function(e){Le=!0,Me=e}};function Ue(e,t,n,r,i,a,o,u,s){Le=!1,Me=null,De.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Zt,_t,It,St=!1,Et=[],Tt=null,Ct=null,At=null,Nt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void It(e.priority,(function(){Zt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function jt(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Vt),Pt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Wt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zn[e])&&!!t[e]}function In(){return _n}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Sn),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,Mn=l&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Hn(e){Fr(e,0)}function Qn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Ne(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Zr={},_r={};function Ir(e){if(Zr[e])return Zr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Zr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Er=Ir("animationiteration"),Tr=Ir("animationstart"),Cr=Ir("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Or=Nr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Sr:case Er:case Tr:s=yn;break;case Cr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Zi=-1;function _i(e){return{current:e}}function Ii(e){0>Zi||(e.current=xi[Zi],xi[Zi]=null,Zi--)}function Si(e,t){Zi++,xi[Zi]=e.current,e.current=t}var Ei={},Ti=_i(Ei),Ci=_i(!1),Ai=Ei;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ci),Ii(Ti)}function Oi(e,t,n){if(Ti.current!==Ei)throw Error(a(168));Si(Ti,t),Si(Ci,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ai=Ti.current,Si(Ti,e),Si(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(Ti),Si(Ti,e)):Ii(Ci),Si(Ci,n)}var Fi=null,Vi=!1,ji=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Je,zi),i}finally{kt=t,ji=!1}}return null}var Bi=[],qi=0,Ki=null,Gi=0,Wi=[],Hi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Bi[qi++]=Gi,Bi[qi++]=Ki,Ki=e,Gi=t}function Ji(e,t,n){Wi[Hi++]=$i,Wi[Hi++]=Yi,Wi[Hi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=Bi[--qi],Bi[qi]=null,Gi=Bi[--qi],Bi[qi]=null;for(;e===Qi;)Qi=Wi[--Hi],Wi[Hi]=null,Yi=Wi[--Hi],Wi[Hi]=null,$i=Wi[--Hi],Wi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Za(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ea(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),Da(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ti.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===Z?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===Z&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===Z){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===Z?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(D(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=_i(Xa),eo=_i(Xa),to=_i(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ja),Si(Ja,t)}function io(){Ii(Ja),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Ja,n))}function oo(e){eo.current===e&&(Ii(Ja),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Eo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=Eo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Do(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Eo().memoizedState}function Uo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Zo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Bo(e,t){return Uo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Eo().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ea(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Yo,useReducer:Co,useRef:jo,useState:function(){return Co(To)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(Eo(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Eo().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Yo,useReducer:Ao,useRef:jo,useState:function(){return Ao(To)},useDebugValue:Qo,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Eo().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Zu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Eu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eu(e,t,n,r,i){var a=Pi(n)?Ai:Ti.current;return a=Ni(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Tu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(_a(t,i),null===t.stateNode)qu(e,t),Ba(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Aa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Ai:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Hi++]=$i,Wi[Hi++]=Yi,Wi[Hi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Za(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ci),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Du(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ru(e,t),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ci),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Ju=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?Zs(i):null!==s?(s.return=o,Ju=s):Zs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function Zs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Ps=0,Rs=0,Os=_i(0),Ds=0,Ls=null,Ms=0,Fs=0,Vs=0,js=null,Us=null,zs=0,Bs=1/0,qs=null,Ks=!1,Gs=null,Ws=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,ec=0;function tc(){return 0!==(6&Cs)?Ye():-1!==Js?Js:Js=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ds&&sc(e,Ps)),ic(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ps:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(Zc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=vc();for(As===e&&Ps===t||(qs=null,Bs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Ps=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Us,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Us,qs),t);break}xc(e,Us,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Us,qs),r);break}xc(e,Us,qs);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&uc(t)),e}function uc(e){null===Us?Us=e:Us.push.apply(Us,e)}function sc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cs))throw Error(a(327));Zc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Us,qs),ic(e,Ye()),null}function lc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,Vi&&zi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&Zc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function hc(){Rs=Os.current,Ii(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ci),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ns=e=Oc(e.current,null),Ps=Rs=t,Ds=0,Ls=null,Vs=Fs=Ms=0,Us=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||sc(As,Ps)}function yc(e,t){var n=Cs;Cs|=2;var r=vc();for(As===e&&Ps===t||(qs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Ps=0,Ds}function gc(){for(;null!==Ns;)bc(Ns)}function kc(){for(;null!==Ns&&!Qe();)bc(Ns)}function bc(e){var t=_s(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Es.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Rs)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ds=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ds&&(Ds=5)}function xc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{Zc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return Zc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&Zc(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function Zc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ps&n)===n&&(4===Ds||3===Ds&&(130023424&Ps)===Ps&&500>Ye()-zs?dc(e,0):Vs|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return We(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case Z:return Lc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Pc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case E:u=9;break e;case T:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),Da(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ti.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Eu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Zu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Za(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Za(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Zu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,_a(t,n),Ba(t,r,i),Ka(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,zi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Zt=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Ee,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8892:function(e,t,n){var r=n(7424).default,i=n(7061).default,a=n(7156).default,o=n(2791),u=n(33),s=u.useSpring,c=u.animated,l=window.innerHeight,f=window.innerWidth,h={maxTilt:25,rotationPower:50,swipeThreshold:.5},d={touchResponsive:{friction:50,tension:2e3},animateOut:{friction:30,tension:400},animateBack:{friction:10,tension:200}},p=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},v=function(e){var t=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:e.x/t,y:e.y/t}},m=function(){var e=a(i().mark((function e(t,n){var r,a,o,u,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p(l,f),a=p(t.x,t.y),o=r*t.x,u=r*t.y,s=45*t.x,c=r/a,n.start({xyrot:[o,u,s],config:{duration:c}}),e.next=9,new Promise((function(e){return setTimeout((function(){e()}),c)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t){e.start({xyrot:[0,0,0],config:d.animateBack,onRest:t})}))},g=function(e){if(Math.abs(e.x)>Math.abs(e.y)){if(e.x>h.swipeThreshold)return"right";if(e.x<-h.swipeThreshold)return"left"}else{if(e.y>h.swipeThreshold)return"down";if(e.y<-h.swipeThreshold)return"up"}return"none"},k=c.div,b=o.forwardRef((function(e,t){var n=e.flickOnSwipe,u=void 0===n||n,c=e.children,l=e.onSwipe,f=e.onCardLeftScreen,p=e.className,b=e.preventSwipe,w=void 0===b?[]:b,x=e.swipeRequirementType,Z=void 0===x?"velocity":x,_=e.swipeThreshold,I=void 0===_?h.swipeThreshold:_,S=e.onSwipeRequirementFulfilled,E=e.onSwipeRequirementUnfulfilled,T=s((function(){return{xyrot:[0,0,0],config:d.touchResponsive}})),C=r(T,2),A=C[0].xyrot,N=C[1];h.swipeThreshold=I,o.useImperativeHandle(t,(function(){return{swipe:function(){var e=arguments;return a(i().mark((function t(){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:"right",l&&l(n),r=1.3,a=(Math.random()-.5)/2,"right"!==n){t.next=9;break}return t.next=7,m({x:r,y:a},N);case 7:t.next=22;break;case 9:if("left"!==n){t.next=14;break}return t.next=12,m({x:-r,y:a},N);case 12:t.next=22;break;case 14:if("up"!==n){t.next=19;break}return t.next=17,m({x:a,y:r},N);case 17:t.next=22;break;case 19:if("down"!==n){t.next=22;break}return t.next=22,m({x:a,y:-r},N);case 22:f&&f(n);case 23:case"end":return t.stop()}}),t)})))()},restoreCard:function(){return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(N);case 2:case"end":return e.stop()}}),e)})))()}}}));var P=o.useCallback(function(){var e=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"===(r=g({x:"velocity"===Z?n.vx:n.dx,y:"velocity"===Z?n.vy:n.dy}))){e.next=9;break}if(!u){e.next=9;break}if(w.includes(r)){e.next=9;break}return l&&l(r),e.next=7,m("velocity"===Z?{x:n.vx,y:n.vy}:v({x:n.dx,y:n.dy}),t,Z);case 7:return f&&f(r),e.abrupt("return");case 9:y(t);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[Z,u,w,l,f]),R="none",O=function(e,t,n,r){var i=r?e.touches[0].clientX-t.x:e.clientX-t.x,a=r?e.touches[0].clientY-t.y:e.clientY-t.y;return 0===t.x&&0===t.y&&(i=0,a=0),{dx:i,dy:a,vx:-(i-n.dx)/(n.timeStamp-Date.now()),vy:-(a-n.dy)/(n.timeStamp-Date.now()),timeStamp:Date.now()}};o.useLayoutEffect((function(){var e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()},n=!1;D.current.addEventListener("touchstart",(function(n){!n.srcElement.className.includes("pressable")&&n.cancelable&&n.preventDefault();var r=O(n,e,t,!0);t=r,e={x:n.touches[0].clientX,y:n.touches[0].clientY}})),D.current.addEventListener("mousedown",(function(r){n=!0;var i=O(r,e,t,!1);t=i,e={x:r.clientX,y:r.clientY}}));var r=function(e){if(S||E){var t=g({x:"velocity"===Z?e.vx:e.dx,y:"velocity"===Z?e.vy:e.dy});t!==R&&("none"===(R=t)?E&&E():S&&S(t))}var n=15*e.vx;n=Math.max(Math.min(n,h.maxTilt),-h.maxTilt),N.start({xyrot:[e.dx,e.dy,n],config:d.touchResponsive})};window.addEventListener("mousemove",(function(i){if(n){var a=O(i,e,t,!1);t=a,r(a)}})),window.addEventListener("mouseup",(function(r){n&&(n=!1,P(N,t),e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()})})),D.current.addEventListener("touchmove",(function(n){var i=O(n,e,t,!0);t=i,r(i)})),D.current.addEventListener("touchend",(function(n){P(N,t),e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()}}))}));var D=o.useRef();return o.createElement(k,{ref:D,className:p,style:{transform:A.to((function(e,t,n){return"translate3d(".concat(e,"px, ").concat(t,"px, ",0,"px) rotate(").concat(n,"deg)")}))},children:c})}));e.exports=b},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,Z={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:Z.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:Z};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=Z.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Z,_=!1,I=null,S=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function A(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?Z():(_=!1,I=null)}}else _=!1}if("function"===typeof k)Z=function(){k(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,Z=function(){P.postMessage(null)}}else Z=function(){y(A,0)};function R(e){I=e,_||(_=!0,Z())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(N){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),u=new T(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function v(){}function m(){}function y(){}var g={};f(g,s,(function(){return this}));var k=Object.getPrototypeOf,b=k&&k(k(C([])));b&&b!==n&&a.call(b,s)&&(g=b);var w=y.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function Z(e,t){function n(i,o,u,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(Z.prototype),f(Z.prototype,c,(function(){return this})),t.AsyncIterator=Z,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new Z(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),f(w,l,"Generator"),f(w,s,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611),i=n(8814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(8814),a=n(2963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002),i=n(7326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new E(r||[]);return a(o,"_invoke",{value:Z(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(T([])));k&&k!==t&&n.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,u,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function Z(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(9611);var a=n(5647);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".64343069.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="tinder-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/tinder-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunktinder_clone=self.webpackChunktinder_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return wn},SDK_VERSION:function(){return Nr},_DEFAULT_ENTRY_NAME:function(){return gr},_addComponent:function(){return xr},_addOrOverwriteComponent:function(){return Zr},_apps:function(){return br},_clearComponents:function(){return Er},_components:function(){return wr},_getProvider:function(){return Ir},_registerComponent:function(){return _r},_removeServiceInstance:function(){return Sr},deleteApp:function(){return Dr},getApp:function(){return Rr},getApps:function(){return Or},initializeApp:function(){return Pr},onLog:function(){return Fr},registerVersion:function(){return Mr},setLogLevel:function(){return Vr}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(9439),o=n(3433),u=n(5671),s=n(3144),c=n(136),l=n(9388),f=n(8664),h=n(3878),d=n(9199),p=n(181),v=n(5267);function m(e){return(0,h.Z)(e)||(0,d.Z)(e)||(0,p.Z)(e)||(0,v.Z)()}var y,g=n(7762);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));var b,w="popstate";function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function I(e,t,n,r){return void 0===n&&(n=null),k({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function S(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function E(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=y.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=y.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:S(e);return x(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(k({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(w,p),f=e,function(){o.removeEventListener(w,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=y.Push;var r=I(m.location,e,t);n&&n(r,e);var i=_(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=y.Replace;var r=I(m.location,e,t);n&&n(r,e);var i=_(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function C(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?E(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],z(r));return a}function A(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(x(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=W([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),A(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:V(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=(0,g.Z)(N(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function N(e){var t=e.split("/");if(0===t.length)return[];var n=m(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),u=r.replace(/\?$/,"");if(0===i.length)return a?[u,""]:[u];var s=N(i.join("/")),c=[];return c.push.apply(c,(0,o.Z)(s.map((function(e){return""===e?u:[u,e].join("/")})))),a&&c.push.apply(c,(0,o.Z)(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var P=/^:\w+$/,R=3,O=2,D=1,L=10,M=-2,F=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=O),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(P.test(t)?R:""===t?D:L)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:W([i,l.pathname]),pathnameBase:H(W([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=W([i,l.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function z(e){try{return decodeURI(e)}catch(t){return Z(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function K(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function G(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=E(e):(x(!(i=k({},e)).pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),x(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),x(!i.search||!i.search.includes("#"),q("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?E(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Q(a),hash:$(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var W=function(e){return e.join("/").replace(/\/\/+/g,"/")},H=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Y=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}((0,f.Z)(Error));function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["post","put","patch","delete"],ee=(new Set(J),["get"].concat(J));new Set(ee),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var te="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ne=t.useState,re=t.useEffect,ie=t.useLayoutEffect,ae=t.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!te(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ue=t.createContext(null);var se=t.createContext(null);var ce=t.createContext(null);var le=t.createContext(null);var fe=t.createContext(null);var he=t.createContext({outlet:null,matches:[]});var de=t.createContext(null);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function ve(){return null!=t.useContext(fe)}function me(){return ve()||x(!1),t.useContext(fe).location}function ye(){ve()||x(!1);var e=t.useContext(le),n=e.basename,r=e.navigator,i=t.useContext(he).matches,a=me().pathname,o=JSON.stringify(K(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=G(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:W([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function ge(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(he).matches,a=me().pathname,o=JSON.stringify(K(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return G(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ke(){var e=function(){var e,n=t.useContext(de),r=Ie(we.UseRouteError),i=Se(we.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=X(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var be,we,xe=function(e){(0,c.Z)(r,e);var n=(0,l.Z)(r);function r(e){var t;return(0,u.Z)(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return(0,s.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(he.Provider,{value:this.props.routeContext},t.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ze(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ue);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(he.Provider,{value:n},i)}function _e(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||x(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(ke,null));var l=n.concat(i.slice(0,u+1)),f=function(){var n=e;return s?n=c:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(Ze,{match:o,routeContext:{outlet:e,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?t.createElement(xe,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ie(e){var n=t.useContext(se);return n||x(!1),n}function Se(e){var n=function(e){var n=t.useContext(he);return n||x(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||x(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(be||(be={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(we||(we={}));var Ee;function Te(e){x(!1)}function Ce(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?y.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;ve()&&x(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=E(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,k=void 0===g?"":g,b=p.hash,w=void 0===b?"":b,Z=p.state,_=void 0===Z?null:Z,I=p.key,S=void 0===I?"default":I,T=t.useMemo((function(){var e=B(m,h);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:S},navigationType:s}}),[h,m,k,w,_,S,s]);return null==T?null:t.createElement(le.Provider,{value:d},t.createElement(fe.Provider,{children:a,value:T}))}function Ae(e){var n=e.children,r=e.location,i=t.useContext(ue);return function(e,n){ve()||x(!1);var r,i=t.useContext(le).navigator,a=t.useContext(se),o=t.useContext(he).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,me());if(n){var f,h="string"===typeof n?E(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||x(!1),r=h}else r=l;var d=r.pathname||"/",p=C(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=_e(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:W([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:W([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(fe.Provider,{value:{location:pe({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:y.Pop}},v):v}(i&&!n?i.router.routes:Pe(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ee||(Ee={}));var Ne=new Promise((function(){}));t.Component;function Pe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat((0,o.Z)(n),[i]);if(e.type!==t.Fragment){e.type!==Te&&x(!1),e.props.index&&e.props.children&&x(!1);var u={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(u.children=Pe(e.props.children,a)),r.push(u)}else r.push.apply(r,Pe(e.props.children,a))}})),r}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var De=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Le(e){var n,r=e.basename,i=e.children,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),T((function(e,t){var n=e.location;return I("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,n)));var s=u.current,c=t.useState({action:s.action,location:s.location}),l=(0,a.Z)(c,2),f=l[0],h=l[1];return t.useLayoutEffect((function(){return s.listen(h)}),[s]),t.createElement(Ce,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:s})}var Me="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Fe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Oe(e,De),d=t.useContext(le).basename,p=!1;if("string"===typeof l&&Fe.test(l)&&(r=l,Me)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=B(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;ve()||x(!1);var i=t.useContext(le),a=i.basename,o=i.navigator,u=ge(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:W([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=ye(),l=me(),f=ge(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:S(l)===S(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Re({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var je,Ue;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(je||(je={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));var ze=n(501),Be=n(5003),qe=n(4942),Ke=n(3366),Ge=n(7462),We=n(8182),He=n(4419),Qe=n(2065),$e=n(7288),Ye=n(2771),Xe=n(4843),Je=n(6868),et=n(3031);function tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nt=n(7326),rt=n(9611);var it=t.createContext(null);function at(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function ot(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ut(e,n,r){var i=at(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:ot(u,"exit",e),enter:ot(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:ot(u,"exit",e),enter:ot(u,"enter",e)})}})),a}var st=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ct=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,nt.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,(0,rt.Z)(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,at(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ot(e,"appear",r),enter:ot(e,"enter",r),exit:ot(e,"exit",r)})}))):ut(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=at(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Ge.Z)({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,Ke.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=st(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(it.Provider,{value:a},o):t.createElement(it.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);ct.propTypes={},ct.defaultProps={component:"div",childFactory:function(e){return e}};var lt=ct,ft=(n(3361),n(2110),n(9140));n(2561);function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,ft.O)(t)}var dt=function(){var e=ht.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var pt=n(184);var vt=function(e){var n=e.className,r=e.classes,i=e.pulsate,o=void 0!==i&&i,u=e.rippleX,s=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=t.useState(!1),p=(0,a.Z)(d,2),v=p[0],m=p[1],y=(0,We.Z)(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),g={width:c,height:c,top:-c/2+s,left:-c/2+u},k=(0,We.Z)(r.child,v&&r.childLeaving,o&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,pt.jsx)("span",{className:y,style:g,children:(0,pt.jsx)("span",{className:k})})},mt=n(5878);var yt,gt,kt,bt,wt,xt,Zt,_t,It=(0,mt.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),St=["center","classes","className"],Et=dt(wt||(wt=yt||(yt=tt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Tt=dt(xt||(xt=gt||(gt=tt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ct=dt(Zt||(Zt=kt||(kt=tt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),At=(0,$e.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Nt=(0,$e.ZP)(vt,{name:"MuiTouchRipple",slot:"Ripple"})(_t||(_t=bt||(bt=tt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),It.rippleVisible,Et,550,(function(e){return e.theme.transitions.easing.easeInOut}),It.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),It.child,It.childLeaving,Tt,550,(function(e){return e.theme.transitions.easing.easeInOut}),It.childPulsate,Ct,(function(e){return e.theme.transitions.easing.easeInOut})),Pt=t.forwardRef((function(e,n){var r=(0,Ye.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,u=void 0!==i&&i,s=r.classes,c=void 0===s?{}:s,l=r.className,f=(0,Ke.Z)(r,St),h=t.useState([]),d=(0,a.Z)(h,2),p=d[0],v=d[1],m=t.useRef(0),y=t.useRef(null);t.useEffect((function(){y.current&&(y.current(),y.current=null)}),[p]);var g=t.useRef(!1),k=t.useRef(null),b=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(k.current)}}),[]);var x=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat((0,o.Z)(e),[(0,pt.jsx)(Nt,{classes:{ripple:(0,We.Z)(c.ripple,It.ripple),rippleVisible:(0,We.Z)(c.rippleVisible,It.rippleVisible),ripplePulsate:(0,We.Z)(c.ripplePulsate,It.ripplePulsate),child:(0,We.Z)(c.child,It.child),childLeaving:(0,We.Z)(c.childLeaving,It.childLeaving),childPulsate:(0,We.Z)(c.childPulsate,It.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,y.current=a}),[c]),Z=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?u||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&g.current)g.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(g.current=!0);var l,f,h,d=c?null:w.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(o)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var Z=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(Z,2)+Math.pow(_,2))}null!=e&&e.touches?null===b.current&&(b.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},k.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[u,x]),_=t.useCallback((function(){Z({},{pulsate:!0})}),[Z]),I=t.useCallback((function(e,t){if(clearTimeout(k.current),"touchend"===(null==e?void 0:e.type)&&b.current)return b.current(),b.current=null,void(k.current=setTimeout((function(){I(e,t)})));b.current=null,v((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:_,start:Z,stop:I}}),[_,Z,I]),(0,pt.jsx)(At,(0,Ge.Z)({className:(0,We.Z)(It.root,c.root,l),ref:w},f,{children:(0,pt.jsx)(lt,{component:null,exit:!0,children:p})}))})),Rt=Pt,Ot=n(1217);function Dt(e){return(0,Ot.Z)("MuiButtonBase",e)}var Lt,Mt=(0,mt.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Ft=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Vt=(0,$e.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Lt={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,qe.Z)(Lt,"&.".concat(Mt.disabled),{pointerEvents:"none",cursor:"default"}),(0,qe.Z)(Lt,"@media print",{colorAdjust:"exact"}),Lt)),jt=t.forwardRef((function(e,n){var r=(0,Ye.Z)({props:e,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,u=void 0!==o&&o,s=r.children,c=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,k=void 0!==g&&g,b=r.LinkComponent,w=void 0===b?"a":b,x=r.onBlur,Z=r.onClick,_=r.onContextMenu,I=r.onDragLeave,S=r.onFocus,E=r.onFocusVisible,T=r.onKeyDown,C=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,P=r.onMouseUp,R=r.onTouchEnd,O=r.onTouchMove,D=r.onTouchStart,L=r.tabIndex,M=void 0===L?0:L,F=r.TouchRippleProps,V=r.touchRippleRef,j=r.type,U=(0,Ke.Z)(r,Ft),z=t.useRef(null),B=t.useRef(null),q=(0,Xe.Z)(B,V),K=(0,et.Z)(),G=K.isFocusVisibleRef,W=K.onFocus,H=K.onBlur,Q=K.ref,$=t.useState(!1),Y=(0,a.Z)($,2),X=Y[0],J=Y[1];d&&X&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),z.current.focus()}}}),[]);var ee=t.useState(!1),te=(0,a.Z)(ee,2),ne=te[0],re=te[1];t.useEffect((function(){re(!0)}),[]);var ie=ne&&!v&&!d;function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,Je.Z)((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}t.useEffect((function(){X&&k&&!v&&ne&&B.current.pulsate()}),[v,k,X,ne]);var oe=ae("start",A),ue=ae("stop",_),se=ae("stop",I),ce=ae("stop",P),le=ae("stop",(function(e){X&&e.preventDefault(),N&&N(e)})),fe=ae("start",D),he=ae("stop",R),de=ae("stop",O),pe=ae("stop",(function(e){H(e),!1===G.current&&J(!1),x&&x(e)}),!1),ve=(0,Je.Z)((function(e){z.current||(z.current=e.currentTarget),W(e),!0===G.current&&(J(!0),E&&E(e)),S&&S(e)})),me=function(){var e=z.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),ge=(0,Je.Z)((function(e){k&&!ye.current&&X&&B.current&&" "===e.key&&(ye.current=!0,B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!d&&(e.preventDefault(),Z&&Z(e))})),ke=(0,Je.Z)((function(e){k&&" "===e.key&&B.current&&X&&!e.defaultPrevented&&(ye.current=!1,B.current.stop(e,(function(){B.current.pulsate(e)}))),C&&C(e),Z&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&Z(e)})),be=f;"button"===be&&(U.href||U.to)&&(be=w);var we={};"button"===be?(we.type=void 0===j?"button":j,we.disabled=d):(U.href||U.to||(we.role="button"),d&&(we["aria-disabled"]=d));var xe=(0,Xe.Z)(n,Q,z);var Ze=(0,Ge.Z)({},r,{centerRipple:u,component:f,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:k,tabIndex:M,focusVisible:X}),_e=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,He.Z)(a,Dt,i);return n&&r&&(o.root+=" ".concat(r)),o}(Ze);return(0,pt.jsxs)(Vt,(0,Ge.Z)({as:be,className:(0,We.Z)(_e.root,c),ownerState:Ze,onBlur:pe,onClick:Z,onContextMenu:ue,onFocus:ve,onKeyDown:ge,onKeyUp:ke,onMouseDown:oe,onMouseLeave:le,onMouseUp:ce,onDragLeave:se,onTouchEnd:he,onTouchMove:de,onTouchStart:fe,ref:xe,tabIndex:d?-1:M,type:j},we,U,{children:[s,ie?(0,pt.jsx)(Rt,(0,Ge.Z)({ref:q,center:u},F)):null]}))})),Ut=jt,zt=n(4036);function Bt(e){return(0,Ot.Z)("MuiIconButton",e)}var qt=(0,mt.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Kt=["edge","children","className","color","disabled","disableFocusRipple","size"],Gt=(0,$e.ZP)(Ut,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,zt.Z)(n.color))],n.edge&&t["edge".concat((0,zt.Z)(n.edge))],t["size".concat((0,zt.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Ge.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Qe.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return(0,Ge.Z)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,Ge.Z)({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":(0,Ge.Z)({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Qe.Fq)(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,qe.Z)({},"&.".concat(qt.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),Wt=t.forwardRef((function(e,t){var n=(0,Ye.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,d=n.size,p=void 0===d?"medium":d,v=(0,Ke.Z)(n,Kt),m=(0,Ge.Z)({},n,{edge:i,color:s,disabled:l,disableFocusRipple:h,size:p}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,zt.Z)(r)),i&&"edge".concat((0,zt.Z)(i)),"size".concat((0,zt.Z)(a))]};return(0,He.Z)(o,Bt,t)}(m);return(0,pt.jsx)(Gt,(0,Ge.Z)({className:(0,We.Z)(y.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:m},v,{children:a}))})),Ht=n(2017);var Qt=function(e){var t=e.backButton;return(0,pt.jsxs)("div",{className:"header",children:[t?(0,pt.jsx)(Ve,{to:"/",children:(0,pt.jsx)(Wt,{children:(0,pt.jsx)(Ht.Z,{fontSize:"large",className:"header__icon"})})}):(0,pt.jsx)(Wt,{children:(0,pt.jsx)(ze.Z,{className:"header__icon",fontSize:"large"})}),(0,pt.jsx)(Ve,{to:"/",children:(0,pt.jsx)(Wt,{children:(0,pt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",role:"img",id:"logo",className:"header__logo",children:[(0,pt.jsx)("title",{children:"Tinder icon"}),(0,pt.jsx)("path",{d:"M9.317 9.451c.045.073.123.12.212.12.06 0 .116-.021.158-.057l.015-.012c.39-.325.741-.66 1.071-1.017 3.209-3.483 1.335-7.759 1.32-7.799-.09-.21-.03-.459.15-.594.195-.135.435-.12.615.033 10.875 10.114 7.995 17.818 7.785 18.337-.87 3.141-4.335 5.414-8.444 5.53-.138.008-.242.008-.363.008-4.852 0-8.977-2.989-8.977-6.807v-.06c0-5.297 4.795-10.522 5.009-10.744.136-.149.345-.195.525-.105.18.076.297.255.291.451-.043 1.036.167 1.935.631 2.7v.015l.002.001z"})]})})}),(0,pt.jsx)(Ve,{to:"/chats",children:(0,pt.jsx)(Wt,{children:(0,pt.jsx)(Be.Z,{className:"header__icon",fontSize:"large"})})})]})},$t=n(1963),Yt=n(9823),Xt=n(151),Jt=n(7237),en=n(7630);var tn=function(){return(0,pt.jsxs)("div",{className:"swipeButtons",children:[(0,pt.jsx)(Wt,{className:"swipeButtons__repeat",children:(0,pt.jsx)($t.Z,{fontSize:"large"})}),(0,pt.jsx)(Wt,{className:"swipeButtons__left",children:(0,pt.jsx)(Yt.Z,{fontSize:"large"})}),(0,pt.jsx)(Wt,{className:"swipeButtons__star",children:(0,pt.jsx)(Xt.Z,{fontSize:"large"})}),(0,pt.jsx)(Wt,{className:"swipeButtons__right",children:(0,pt.jsx)(Jt.Z,{fontSize:"large"})}),(0,pt.jsx)(Wt,{className:"swipeButtons__lightning",children:(0,pt.jsx)(en.Z,{fontSize:"large"})})]})},nn=n(8892),rn=n.n(nn),an=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(an(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new un;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},un=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,s.Z)(n)}((0,f.Z)(Error)),sn=function(e){return function(e){var t=an(e);return on.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cn=function(e){try{return on.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ln(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ln(e[n],t[n]));return e}var fn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},hn=function(){try{return fn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/tinder-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&cn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},dn=function(){var e;return null===(e=hn())||void 0===e?void 0:e.config},pn=function(){function e(){var t=this;(0,u.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,s.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mn(){var e,t=null===(e=hn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function yn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function gn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function kn(){var e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var wn=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,nt.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,nt.Z)(a),xn.prototype.create),a}return(0,s.Z)(n)}((0,f.Z)(Error)),xn=function(){function e(t,n,r){(0,u.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,s.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Zn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new wn(n,a,t)}}]),e}();var Zn=/\{\$([^}]+)}/g;function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function In(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Sn(u)&&Sn(s)){if(!In(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Sn(e){return null!==e&&"object"===typeof e}function En(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Tn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Cn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function An(e,t){var n=new Nn(e,t);return n.subscribe.bind(n)}var Nn=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,s.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,g.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Pn),void 0===r.error&&(r.error=Pn),void 0===r.complete&&(r.complete=Pn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Pn(){}function Rn(e){return e&&e._delegate?e._delegate:e}var On=n(4165),Dn=n(5861),Ln=function(){function e(t,n,r){(0,u.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,s.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Mn="[DEFAULT]",Fn=function(){function e(t,n){(0,u.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch(c){}var t,n=(0,g.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,o.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,o.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=(0,g.Z)(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ag){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Mn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ag){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.component?this.component.multipleInstances?e:Mn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Vn,jn,Un=function(){function e(t){(0,u.Z)(this,e),this.name=t,this.providers=new Map}return(0,s.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Fn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),zn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jn||(jn={}));var Bn={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},qn=jn.INFO,Kn=(Vn={},(0,qe.Z)(Vn,jn.DEBUG,"log"),(0,qe.Z)(Vn,jn.VERBOSE,"log"),(0,qe.Z)(Vn,jn.INFO,"info"),(0,qe.Z)(Vn,jn.WARN,"warn"),(0,qe.Z)(Vn,jn.ERROR,"error"),Vn),Gn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Kn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wn=function(){function e(t){(0,u.Z)(this,e),this.name=t,this._logLevel=qn,this._logHandler=Gn,this._userLogHandler=null,zn.push(this)}return(0,s.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in jn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.DEBUG].concat(t)),this._logHandler.apply(this,[this,jn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,jn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.INFO].concat(t)),this._logHandler.apply(this,[this,jn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.WARN].concat(t)),this._logHandler.apply(this,[this,jn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.ERROR].concat(t)),this._logHandler.apply(this,[this,jn.ERROR].concat(t))}}]),e}();var Hn,Qn,$n=n(1413),Yn=function(e,t){return t.some((function(t){return e instanceof t}))};var Xn=new WeakMap,Jn=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap;var rr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||er.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ir(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ur(this),n),or(Xn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return or(e.apply(ur(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ur(this),t].concat(r));return er.set(a,t.sort?t.sort():[t]),or(a)}}function ar(e){return"function"===typeof e?ir(e):(e instanceof IDBTransaction&&function(e){if(!Jn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Jn.set(e,t)}}(e),Yn(e,Hn||(Hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,rr):e)}function or(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(or(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Xn.set(t,e)})).catch((function(){})),nr.set(t,e),t}(e);if(tr.has(e))return tr.get(e);var t=ar(e);return t!==e&&(tr.set(e,t),nr.set(t,e)),t}var ur=function(e){return nr.get(e)};var sr,cr,lr=["get","getKey","getAll","getAllKeys","count"],fr=["put","add","delete","clear"],hr=new Map;function dr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(hr.get(t))return hr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=fr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||lr.includes(n))){var a=function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var a,o,u,s,c,l,f=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return hr.set(t,a),a}}}rr=function(e){return(0,$n.Z)((0,$n.Z)({},e),{},{get:function(t,n,r){return dr(t,n)||e.get(t,n,r)},has:function(t,n){return!!dr(t,n)||e.has(t,n)}})}(rr);var pr=function(){function e(t){(0,u.Z)(this,e),this.container=t}return(0,s.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var vr="@firebase/app",mr="0.9.7",yr=new Wn("@firebase/app"),gr="[DEFAULT]",kr=(sr={},(0,qe.Z)(sr,vr,"fire-core"),(0,qe.Z)(sr,"@firebase/app-compat","fire-core-compat"),(0,qe.Z)(sr,"@firebase/analytics","fire-analytics"),(0,qe.Z)(sr,"@firebase/analytics-compat","fire-analytics-compat"),(0,qe.Z)(sr,"@firebase/app-check","fire-app-check"),(0,qe.Z)(sr,"@firebase/app-check-compat","fire-app-check-compat"),(0,qe.Z)(sr,"@firebase/auth","fire-auth"),(0,qe.Z)(sr,"@firebase/auth-compat","fire-auth-compat"),(0,qe.Z)(sr,"@firebase/database","fire-rtdb"),(0,qe.Z)(sr,"@firebase/database-compat","fire-rtdb-compat"),(0,qe.Z)(sr,"@firebase/functions","fire-fn"),(0,qe.Z)(sr,"@firebase/functions-compat","fire-fn-compat"),(0,qe.Z)(sr,"@firebase/installations","fire-iid"),(0,qe.Z)(sr,"@firebase/installations-compat","fire-iid-compat"),(0,qe.Z)(sr,"@firebase/messaging","fire-fcm"),(0,qe.Z)(sr,"@firebase/messaging-compat","fire-fcm-compat"),(0,qe.Z)(sr,"@firebase/performance","fire-perf"),(0,qe.Z)(sr,"@firebase/performance-compat","fire-perf-compat"),(0,qe.Z)(sr,"@firebase/remote-config","fire-rc"),(0,qe.Z)(sr,"@firebase/remote-config-compat","fire-rc-compat"),(0,qe.Z)(sr,"@firebase/storage","fire-gcs"),(0,qe.Z)(sr,"@firebase/storage-compat","fire-gcs-compat"),(0,qe.Z)(sr,"@firebase/firestore","fire-fst"),(0,qe.Z)(sr,"@firebase/firestore-compat","fire-fst-compat"),(0,qe.Z)(sr,"fire-js","fire-js"),(0,qe.Z)(sr,"firebase","fire-js-all"),sr),br=new Map,wr=new Map;function xr(e,t){try{e.container.addComponent(t)}catch(n){yr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Zr(e,t){e.container.addOrOverwriteComponent(t)}function _r(e){var t=e.name;if(wr.has(t))return yr.debug("There were multiple attempts to register component ".concat(t,".")),!1;wr.set(t,e);var n,r=(0,g.Z)(br.values());try{for(r.s();!(n=r.n()).done;){xr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ir(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gr;Ir(e,t).clearInstance(n)}function Er(){wr.clear()}var Tr=(cr={},(0,qe.Z)(cr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,qe.Z)(cr,"bad-app-name","Illegal App name: '{$appName}"),(0,qe.Z)(cr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,qe.Z)(cr,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,qe.Z)(cr,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,qe.Z)(cr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,qe.Z)(cr,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,qe.Z)(cr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,qe.Z)(cr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,qe.Z)(cr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,qe.Z)(cr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),cr),Cr=new xn("app","Firebase",Tr),Ar=function(){function e(t,n,r){var i=this;(0,u.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",(function(){return i}),"PUBLIC"))}return(0,s.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}]),e}(),Nr="9.19.1";function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:gr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=dn()),!n)throw Cr.create("no-options");var a=br.get(i);if(a){if(In(n,a.options)&&In(r,a.config))return a;throw Cr.create("duplicate-app",{appName:i})}var o,u=new Un(i),s=(0,g.Z)(wr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ar(n,r,u);return br.set(i,l),l}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=br.get(e);if(!t&&e===gr)return Pr();if(!t)throw Cr.create("no-app",{appName:e});return t}function Or(){return Array.from(br.values())}function Dr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!br.has(n)){e.next=6;break}return br.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t,n){var r,i=null!==(r=kr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yr.warn(u.join(" "))}_r(new Ln("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Fr(e,t){if(null!==e&&"function"!==typeof e)throw Cr.create("invalid-log-argument");!function(e,t){var n,r=(0,g.Z)(zn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:jn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Vr(e){var t;t=e,zn.forEach((function(e){e.setLogLevel(t)}))}var jr="firebase-heartbeat-database",Ur=1,zr="firebase-heartbeat-store",Br=null;function qr(){return Br||(Br=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=or(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(or(u.result),e.oldVersion,e.newVersion,or(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(jr,Ur,{upgrade:function(e,t){if(0===t)e.createObjectStore(zr)}}).catch((function(e){throw Cr.create("idb-open",{originalErrorMessage:e.message})}))),Br}function Kr(e){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qr();case 3:return n=e.sent,e.abrupt("return",n.transaction(zr).objectStore(zr).get(Qr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof wn?yr.warn(e.t0.message):(r=Cr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Gr.apply(this,arguments)}function Wr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qr();case 3:return r=e.sent,i=r.transaction(zr,"readwrite"),a=i.objectStore(zr),e.next=8,a.put(n,Qr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof wn?yr.warn(e.t0.message):(o=Cr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yr.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Hr.apply(this,arguments)}function Qr(e){return"".concat(e.name,"!").concat(e.options.appId)}var $r=function(){function e(t){var n=this;(0,u.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ti(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,s.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Yr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Yr(),n=Xr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=sn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yr(){return(new Date).toISOString().substring(0,10)}function Xr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,g.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ni(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ni(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jr,ei,ti=function(){function e(t){(0,u.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,s.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Kr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(r.heartbeats),(0,o.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ni(e){return sn(JSON.stringify({version:2,heartbeats:e})).length}Jr="",_r(new Ln("platform-logger",(function(e){return new pr(e)}),"PRIVATE")),_r(new Ln("heartbeat",(function(e){return new $r(e)}),"PRIVATE")),Mr(vr,mr,Jr),Mr(vr,mr,"esm2017"),Mr("fire-js","");var ri=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this._delegate=t,this.firebase=n,xr(t,new Ln("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,s.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Dr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){xr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Zr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ii=(ei={},(0,qe.Z)(ei,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,qe.Z)(ei,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ei),ai=new xn("app-compat","Firebase",ii);var oi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_n(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Mr,setLogLevel:Vr,onLog:Fr,apps:null,SDK_VERSION:Nr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(_r(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ai.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ln(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_n(n,e=e||gr))throw ai.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ri);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ln(n,e)},createSubscribe:An,ErrorFactory:xn,deepExtend:ln}),n}(),ui=new Wn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ui.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var si=self.firebase.SDK_VERSION;si&&si.indexOf("LITE")>=0&&ui.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ci=oi;!function(e){Mr("@firebase/app-compat","0.2.7",e)}();ci.registerVersion("firebase","9.19.1","app-compat");var li,fi=n(5647),hi=n(1752),di=n(1120),pi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vi={},mi=mi||{},yi=pi||self;function gi(){}function ki(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wi="closure_uid_"+(1e9*Math.random()>>>0),xi=0;function Zi(e,t,n){return e.call.apply(e.bind,arguments)}function _i(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ii(e,t,n){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zi:_i).apply(null,arguments)}function Si(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ei(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ti(){this.s=this.s,this.o=this.o}Ti.prototype.s=!1,Ti.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,wi)&&e[wi]||(e[wi]=++xi))},Ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ci=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ai(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ni(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ki(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Pi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pi.prototype.h=function(){this.defaultPrevented=!0};var Ri=function(){if(!yi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yi.addEventListener("test",gi,t),yi.removeEventListener("test",gi,t)}catch(n){}return e}();function Oi(e){return/^[\s\xa0]*$/.test(e)}var Di=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Li(e,t){return e<t?-1:e>t?1:0}function Mi(){var e=yi.navigator;return e&&(e=e.userAgent)?e:""}function Fi(e){return-1!=Mi().indexOf(e)}function Vi(e){return Vi[" "](e),e}Vi[" "]=gi;var ji,Ui=Fi("Opera"),zi=Fi("Trident")||Fi("MSIE"),Bi=Fi("Edge"),qi=Bi||zi,Ki=Fi("Gecko")&&!(-1!=Mi().toLowerCase().indexOf("webkit")&&!Fi("Edge"))&&!(Fi("Trident")||Fi("MSIE"))&&!Fi("Edge"),Gi=-1!=Mi().toLowerCase().indexOf("webkit")&&!Fi("Edge");function Wi(){var e=yi.document;return e?e.documentMode:void 0}e:{var Hi="",Qi=function(){var e=Mi();return Ki?/rv:([^\);]+)(\)|;)/.exec(e):Bi?/Edge\/([\d\.]+)/.exec(e):zi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gi?/WebKit\/(\S+)/.exec(e):Ui?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qi&&(Hi=Qi?Qi[1]:""),zi){var $i=Wi();if(null!=$i&&$i>parseFloat(Hi)){ji=String($i);break e}}ji=Hi}var Yi,Xi={};function Ji(){return function(e){var t=Xi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Di(String(ji)).split("."),n=Di("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Li(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Li(0==a[2].length,0==o[2].length)||Li(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(yi.document&&zi){var ea=Wi();Yi=ea||(parseInt(ji,10)||void 0)}else Yi=void 0;var ta=Yi;function na(e,t){if(Pi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ki){e:{try{Vi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ra[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&na.X.h.call(this)}}Ei(na,Pi);var ra={2:"touch",3:"pen",4:"mouse"};na.prototype.h=function(){na.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),aa=0;function oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++aa,this.ba=this.ea=!1}function ua(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function sa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ca(e){var t={};for(var n in e)t[n]=e[n];return t}var la="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fa(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<la.length;a++)n=la[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ha(e){this.src=e,this.g={},this.h=0}function da(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ci(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ua(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pa(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ha.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pa(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new oa(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var va="closure_lm_"+(1e6*Math.random()|0),ma={};function ya(e,t,n,r,i){if(r&&r.once)return ka(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ya(e,t[a],n,r,i);return null}return n=Sa(n),e&&e[ia]?e.N(t,n,bi(r)?!!r.capture:!!r,i):ga(e,t,n,!1,r,i)}function ga(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bi(i)?!!i.capture:!!i,u=_a(e);if(u||(e[va]=u=new ha(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Za;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ri||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ka(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ka(e,t[a],n,r,i);return null}return n=Sa(n),e&&e[ia]?e.O(t,n,bi(r)?!!r.capture:!!r,i):ga(e,t,n,!0,r,i)}function ba(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ba(e,t[a],n,r,i);else r=bi(r)?!!r.capture:!!r,n=Sa(n),e&&e[ia]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pa(a=e.g[t],n,r,i))&&(ua(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_a(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pa(t,n,r,i)),(n=-1<e?t[e]:null)&&wa(n))}function wa(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ia])da(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_a(t))?(da(n,e),0==n.h&&(n.src=null,t[va]=null)):ua(e)}}}function xa(e){return e in ma?ma[e]:ma[e]="on"+e}function Za(e,t){if(e.ba)e=!0;else{t=new na(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&wa(e),e=n.call(r,t)}return e}function _a(e){return(e=e[va])instanceof ha?e:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(e){return"function"===typeof e?e:(e[Ia]||(e[Ia]=function(t){return e.handleEvent(t)}),e[Ia])}function Ea(){Ti.call(this),this.i=new ha(this),this.P=this,this.I=null}function Ta(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Pi(t,e);else if(t instanceof Pi)t.target=t.target||e;else{var i=t;fa(t=new Pi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ca(o,r,!0,t)&&i}if(i=Ca(o=t.g=e,r,!0,t)&&i,i=Ca(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ca(o=t.g=n[a],r,!1,t)&&i}function Ca(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&da(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ei(Ea,Ti),Ea.prototype[ia]=!0,Ea.prototype.removeEventListener=function(e,t,n,r){ba(this,e,t,n,r)},Ea.prototype.M=function(){if(Ea.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ua(n[r]);delete t.g[e],t.h--}}this.I=null},Ea.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ea.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Aa=yi.JSON.stringify;function Na(){var e=Va,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pa,Ra=function(){function e(){(0,u.Z)(this,e),this.h=this.g=null}return(0,s.Z)(e,[{key:"add",value:function(e,t){var n=Oa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Oa=new(function(){function e(t,n){(0,u.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,s.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Da}),(function(e){return e.reset()})),Da=function(){function e(){(0,u.Z)(this,e),this.next=this.g=this.h=null}return(0,s.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function La(e){yi.setTimeout((function(){throw e}),0)}function Ma(e,t){Pa||function(){var e=yi.Promise.resolve(void 0);Pa=function(){e.then(ja)}}(),Fa||(Pa(),Fa=!0),Va.add(e,t)}var Fa=!1,Va=new Ra;function ja(){for(var e;e=Na();){try{e.h.call(e.g)}catch(n){La(n)}var t=Oa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fa=!1}function Ua(e,t){Ea.call(this),this.h=e||1,this.g=t||yi,this.j=Ii(this.lb,this),this.l=Date.now()}function za(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ba(e,t,n){if("function"===typeof e)n&&(e=Ii(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ii(e.handleEvent,e)}return 2147483647<Number(t)?-1:yi.setTimeout(e,t||0)}function qa(e){e.g=Ba((function(){e.g=null,e.i&&(e.i=!1,qa(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ei(Ua,Ea),(li=Ua.prototype).ca=!1,li.R=null,li.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ta(this,"tick"),this.ca&&(za(this),this.start()))}},li.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},li.M=function(){Ua.X.M.call(this),za(this),delete this.g};var Ka=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,s.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qa(this)}},{key:"M",value:function(){(0,hi.Z)((0,di.Z)(n.prototype),"M",this).call(this),this.g&&(yi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ti);function Ga(e){Ti.call(this),this.h=e,this.g={}}Ei(Ga,Ti);var Wa=[];function Ha(e,t,n,r){Array.isArray(n)||(n&&(Wa[0]=n.toString()),n=Wa);for(var i=0;i<n.length;i++){var a=ya(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qa(e){sa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wa(e)}),e),e.g={}}function $a(){this.g=!0}function Ya(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Aa(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ga.prototype.M=function(){Ga.X.M.call(this),Qa(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$a.prototype.Aa=function(){this.g=!1},$a.prototype.info=function(){};var Xa={},Ja=null;function eo(){return Ja=Ja||new Ea}function to(e){Pi.call(this,Xa.Pa,e)}function no(e){var t=eo();Ta(t,new to(t))}function ro(e,t){Pi.call(this,Xa.STAT_EVENT,e),this.stat=t}function io(e){var t=eo();Ta(t,new ro(t,e))}function ao(e,t){Pi.call(this,Xa.Qa,e),this.size=t}function oo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yi.setTimeout((function(){e()}),t)}Xa.Pa="serverreachability",Ei(to,Pi),Xa.STAT_EVENT="statevent",Ei(ro,Pi),Xa.Qa="timingevent",Ei(ao,Pi);var uo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},so={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function co(){}function lo(e){return e.h||(e.h=e.i())}function fo(){}co.prototype.h=null;var ho,po={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vo(){Pi.call(this,"d")}function mo(){Pi.call(this,"c")}function yo(){}function go(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ga(this),this.O=bo,e=qi?125:void 0,this.T=new Ua(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ko}function ko(){this.i=null,this.g="",this.h=!1}Ei(vo,Pi),Ei(mo,Pi),Ei(yo,co),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},ho=new yo;var bo=45e3,wo={},xo={};function Zo(e,t,n){e.K=1,e.v=zo(Mo(t)),e.s=n,e.P=!0,_o(e,null)}function _o(e,t){e.F=Date.now(),To(e),e.A=Mo(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),tu(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ko,e.g=ns(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ka(Ii(e.La,e,e.g),e.N)),Ha(e.S,e.g,"readystatechange",e.ib),t=e.H?ca(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),no(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Io(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function So(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Eo(e,n))==xo){4==t&&(e.o=4,io(14),i=!1),Ya(e.j,e.m,null,"[Incomplete Response]");break}if(r==wo){e.o=4,io(15),Ya(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ya(e.j,e.m,r,null),Ro(e,r)}Io(e)&&r!=xo&&r!=wo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,io(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hu(t),t.K=!0,io(11))):(Ya(e.j,e.m,n,"[Invalid Chunked Response]"),Po(e),No(e))}function Eo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xo:(n=Number(t.substring(n,r)),isNaN(n)?wo:(r+=1)+n>t.length?xo:(t=t.substr(r,n),e.C=r+n,t))}function To(e){e.V=Date.now()+e.O,Co(e,e.O)}function Co(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oo(Ii(e.gb,e),t)}function Ao(e){e.B&&(yi.clearTimeout(e.B),e.B=null)}function No(e){0==e.l.G||e.I||Yu(e.l,e)}function Po(e){Ao(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,za(e.T),Qa(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ro(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cu(n.h,e)))if(!e.J&&cu(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$u(n),ju(n)}Wu(n),io(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=oo(Ii(n.cb,n),6e3));if(1>=su(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ju(n,11)}else if((e.J||n.g==e)&&$u(n),!Oi(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(lu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Uo(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ts(r,r.H?r.ka:null,r.V),d.J){fu(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ao(p),To(p)),r.g=d}else Gu(r);0<n.i.length&&zu(n)}else"stop"!=a[0]&&"close"!=a[0]||Ju(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ju(n,7):Vu(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}no()}catch(a){}}function Oo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ki(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ki(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ki(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(li=go.prototype).setTimeout=function(e){this.O=e},li.ib=function(e){e=e.target;var t=this.L;t&&3==Ru(e)?t.l():this.La(e)},li.La=function(e){try{if(e==this.g)e:{var t=Ru(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||qi||this.g&&(this.h.h||this.g.fa()||Ou(this.g)))){this.I||4!=t||7==n||no(),Ao(this);var r=this.g.aa();this.Y=r;t:if(Io(this)){var i=Ou(this.g);e="";var a=i.length,o=4==Ru(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Po(this),No(this);var u="";break t}this.h.i=new yi.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oi(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,io(12),Po(this),No(this);break e}Ya(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ro(this,r)}this.P?(So(this,t,u),qi&&this.i&&3==t&&(Ha(this.S,this.T,"tick",this.hb),this.T.start())):(Ya(this.j,this.m,u,null),Ro(this,u)),4==t&&Po(this),this.i&&!this.I&&(4==t?Yu(this.l,this):(this.i=!1,To(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,io(12)):(this.o=0,io(13)),Po(this),No(this)}}}catch(t){}},li.hb=function(){if(this.g){var e=Ru(this.g),t=this.g.fa();this.C<t.length&&(Ao(this),So(this,e,t),this.i&&4!=e&&To(this))}},li.cancel=function(){this.I=!0,Po(this)},li.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(no(),io(17)),Po(this),this.o=2,No(this)):Co(this,this.V-e)};var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lo(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lo){this.h=void 0!==t?t:e.h,Fo(this,e.j),this.s=e.s,this.g=e.g,Vo(this,e.m),this.l=e.l,t=e.i;var n=new Yo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jo(this,n),this.o=e.o}else e&&(n=String(e).match(Do))?(this.h=!!t,Fo(this,n[1]||"",!0),this.s=Bo(n[2]||""),this.g=Bo(n[3]||"",!0),Vo(this,n[4]),this.l=Bo(n[5]||"",!0),jo(this,n[6]||"",!0),this.o=Bo(n[7]||"")):(this.h=!!t,this.i=new Yo(null,this.h))}function Mo(e){return new Lo(e)}function Fo(e,t,n){e.j=n?Bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jo(e,t,n){t instanceof Yo?(e.i=t,function(e,t){t&&!e.j&&(Xo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jo(this,t),tu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=qo(t,Qo)),e.i=new Yo(t,e.h))}function Uo(e,t,n){e.i.set(t,n)}function zo(e){return Uo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ko),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ko(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qo(t,Go,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qo(t,Go,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(qo(n,"/"==n.charAt(0)?Ho:Wo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qo(n,$o)),e.join("")};var Go=/[#\/\?@]/g,Wo=/[#\?:]/g,Ho=/[#\?]/g,Qo=/[#\?@]/g,$o=/#/g;function Yo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jo(e,t){Xo(e),t=nu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function eu(e,t){return Xo(e),t=nu(e,t),e.g.has(t)}function tu(e,t,n){Jo(e,t),0<n.length&&(e.i=null,e.g.set(nu(e,t),Ai(n)),e.h+=n.length)}function nu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(li=Yo.prototype).add=function(e,t){Xo(this),this.i=null,e=nu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},li.forEach=function(e,t){Xo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},li.oa=function(){Xo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},li.W=function(e){Xo(this);var t=[];if("string"===typeof e)eu(this,e)&&(t=t.concat(this.g.get(nu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},li.set=function(e,t){return Xo(this),this.i=null,eu(this,e=nu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},li.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},li.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ru=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.h=t,this.g=n}));function iu(e){this.l=e||ou,yi.PerformanceNavigationTiming?e=0<(e=yi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yi.g&&yi.g.Ga&&yi.g.Ga()&&yi.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var au,ou=10;function uu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function su(e){return e.h?1:e.g?e.g.size:0}function cu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lu(e,t){e.g?e.g.add(t):e.h=t}function fu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,g.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ai(e.i)}function du(){}function pu(){this.g=new du}function vu(e,t,n){var r=n||"";try{Oo(e,(function(e,n){var i=e;bi(e)&&(i=Aa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yu(e){this.l=e.ac||null,this.j=e.jb||!1}function gu(e,t){Ea.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ku,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iu.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,g.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},du.prototype.stringify=function(e){return yi.JSON.stringify(e,void 0)},du.prototype.parse=function(e){return yi.JSON.parse(e,void 0)},Ei(yu,co),yu.prototype.g=function(){return new gu(this.l,this.j)},yu.prototype.i=(au={},function(){return au}),Ei(gu,Ea);var ku=0;function bu(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function wu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xu(e)}function xu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(li=gu.prototype).open=function(e,t){if(this.readyState!=ku)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xu(this)},li.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||yi).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},li.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wu(this)),this.readyState=ku},li.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof yi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bu(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},li.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wu(this):xu(this),3==this.readyState&&bu(this)}},li.Va=function(e){this.g&&(this.response=this.responseText=e,wu(this))},li.Ua=function(e){this.g&&(this.response=e,wu(this))},li.ga=function(){this.g&&wu(this)},li.setRequestHeader=function(e,t){this.v.append(e,t)},li.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},li.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zu=yi.JSON.parse;function _u(e){Ea.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Iu,this.K=this.L=!1}Ei(_u,Ea);var Iu="",Su=/^https?$/i,Eu=["POST","PUT"];function Tu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cu(e),Nu(e)}function Cu(e){e.D||(e.D=!0,Ta(e,"complete"),Ta(e,"error"))}function Au(e){if(e.h&&"undefined"!=typeof mi&&(!e.C[1]||4!=Ru(e)||2!=e.aa()))if(e.v&&4==Ru(e))Ba(e.Ha,0,e);else if(Ta(e,"readystatechange"),4==Ru(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Do)[1]||null;if(!a&&yi.self&&yi.self.location){var o=yi.self.location.protocol;a=o.substr(0,o.length-1)}i=!Su.test(a?a.toLowerCase():"")}t=i}if(t)Ta(e,"complete"),Ta(e,"success");else{e.m=6;try{var u=2<Ru(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Cu(e)}}finally{Nu(e)}}}function Nu(e,t){if(e.g){Pu(e);var n=e.g,r=e.C[0]?gi:null;e.g=null,e.C=null,t||Ta(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(yi.clearTimeout(e.A),e.A=null)}function Ru(e){return e.g?e.g.readyState:0}function Ou(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Iu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ks){return null}}function Du(e){var t="";return sa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Du(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Uo(e,t,n))}function Mu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fu(e){this.Ca=0,this.i=[],this.j=new $a,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mu("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mu("baseRetryDelayMs",5e3,e),this.bb=Mu("retryDelaySeedMs",1e4,e),this.$a=Mu("forwardChannelMaxRetries",2,e),this.ta=Mu("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new iu(e&&e.concurrentRequestLimit),this.Fa=new pu,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vu(e){if(Uu(e),3==e.G){var t=e.U++,n=Mo(e.F);Uo(n,"SID",e.I),Uo(n,"RID",t),Uo(n,"TYPE","terminate"),qu(e,n),(t=new go(e,e.j,t,void 0)).K=2,t.v=zo(Mo(n)),n=!1,yi.navigator&&yi.navigator.sendBeacon&&(n=yi.navigator.sendBeacon(t.v.toString(),"")),!n&&yi.Image&&((new Image).src=t.v,n=!0),n||(t.g=ns(t.l,null),t.g.da(t.v)),t.F=Date.now(),To(t)}es(e)}function ju(e){e.g&&(Hu(e),e.g.cancel(),e.g=null)}function Uu(e){ju(e),e.u&&(yi.clearTimeout(e.u),e.u=null),$u(e),e.h.cancel(),e.m&&("number"===typeof e.m&&yi.clearTimeout(e.m),e.m=null)}function zu(e){uu(e.h)||e.m||(e.m=!0,Ma(e.Ja,e),e.C=0)}function Bu(e,t){var n;n=t?t.m:e.U++;var r=Mo(e.F);Uo(r,"SID",e.I),Uo(r,"RID",n),Uo(r,"AID",e.T),qu(e,r),e.o&&e.s&&Lu(r,e.o,e.s),n=new go(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ku(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),lu(e.h,n),Zo(n,r,t)}function qu(e,t){e.ia&&sa(e.ia,(function(e,n){Uo(t,n,e)})),e.l&&Oo({},(function(e,n){Uo(t,n,e)}))}function Ku(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ii(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{vu(l,o,"req"+c+"_")}catch(Cs){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Gu(e){e.g||e.u||(e.Z=1,Ma(e.Ia,e),e.A=0)}function Wu(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=oo(Ii(e.Ia,e),Xu(e,e.A)),e.A++,!0)}function Hu(e){null!=e.B&&(yi.clearTimeout(e.B),e.B=null)}function Qu(e){e.g=new go(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Mo(e.sa);Uo(t,"RID","rpc"),Uo(t,"SID",e.I),Uo(t,"CI",e.L?"0":"1"),Uo(t,"AID",e.T),Uo(t,"TYPE","xmlhttp"),qu(e,t),e.o&&e.s&&Lu(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=zo(Mo(t)),n.s=null,n.P=!0,_o(n,e)}function $u(e){null!=e.v&&(yi.clearTimeout(e.v),e.v=null)}function Yu(e,t){var n=null;if(e.g==t){$u(e),Hu(e),e.g=null;var r=2}else{if(!cu(e.h,t))return;n=t.D,fu(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ta(r=eo(),new ao(r,n)),zu(e)}else Gu(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(su(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=oo(Ii(e.Ja,e,t),Xu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wu(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ju(e,5);break;case 4:Ju(e,10);break;case 3:Ju(e,6);break;default:Ju(e,2)}}function Xu(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ju(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ii(e.kb,e);n||(n=new Lo("//www.google.com/images/cleardot.gif"),yi.location&&"http"==yi.location.protocol||Fo(n,"https"),zo(n)),function(e,t){var n=new $a;if(yi.Image){var r=new Image;r.onload=Si(mu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Si(mu,n,r,"TestLoadImage: error",!1,t),r.onabort=Si(mu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Si(mu,n,r,"TestLoadImage: timeout",!1,t),yi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else io(2);e.G=0,e.l&&e.l.va(t),es(e),Uu(e)}function es(e){if(e.G=0,e.la=[],e.l){var t=hu(e.h);0==t.length&&0==e.i.length||(Ni(e.la,t),Ni(e.la,e.i),e.h.i.length=0,Ai(e.i),e.i.length=0),e.l.ua()}}function ts(e,t,n){var r=n instanceof Lo?Mo(n):new Lo(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Vo(r,r.m);else{var i=yi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Lo(null,void 0);r&&Fo(a,r),t&&(a.g=t),i&&Vo(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Uo(r,n,t),Uo(r,"VER",e.ma),qu(e,r),r}function ns(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new _u(new yu({jb:!0})):new _u(e.ra)).Ka(e.H),t}function rs(){}function is(){if(zi&&!(10<=Number(ta)))throw Error("Environmental error: no available transport.")}function as(e,t){Ea.call(this),this.g=new Fu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Oi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ss(this)}function os(e){vo.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function us(){mo.call(this),this.status=1}function ss(e){this.g=e}(li=_u.prototype).Ka=function(e){this.L=e},li.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ho.g(),this.C=this.u?lo(this.u):lo(ho),this.g.onreadystatechange=Ii(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Tu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=(0,g.Z)(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=yi.FormData&&e instanceof yi.FormData,!(0<=Ci(Eu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=(0,g.Z)(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pu(this),0<this.B&&((this.K=function(e){return zi&&Ji()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.qa,this)):this.A=Ba(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Tu(this,s)}},li.qa=function(){"undefined"!=typeof mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ta(this,"timeout"),this.abort(8))},li.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ta(this,"complete"),Ta(this,"abort"),Nu(this))},li.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nu(this,!0)),_u.X.M.call(this)},li.Ha=function(){this.s||(this.F||this.v||this.l?Au(this):this.fb())},li.fb=function(){Au(this)},li.aa=function(){try{return 2<Ru(this)?this.g.status:-1}catch(au){return-1}},li.fa=function(){try{return this.g?this.g.responseText:""}catch(au){return""}},li.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zu(t)}},li.Ea=function(){return this.m},li.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(li=Fu.prototype).ma=8,li.G=1,li.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new go(this,this.j,e,void 0),n=this.s;if(this.S&&(n?fa(n=ca(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ku(this,t,r),Uo(i=Mo(this.F),"RID",e),Uo(i,"CVER",22),this.D&&Uo(i,"X-HTTP-Session-Id",this.D),qu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Du(n)))+"&"+r:this.o&&Lu(i,this.o,n)),lu(this.h,t),this.Ya&&Uo(i,"TYPE","init"),this.O?(Uo(i,"$req",r),Uo(i,"SID","null"),t.Z=!0,Zo(t,i,null)):Zo(t,i,r),this.G=2}}else 3==this.G&&(e?Bu(this,e):0==this.i.length||uu(this.h)||Bu(this))},li.Ia=function(){if(this.u=null,Qu(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=oo(Ii(this.eb,this),e)}},li.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,io(10),ju(this),Qu(this))},li.cb=function(){null!=this.v&&(this.v=null,ju(this),Wu(this),io(19))},li.kb=function(e){e?(this.j.info("Successfully pinged google.com"),io(2)):(this.j.info("Failed to ping google.com"),io(1))},(li=rs.prototype).xa=function(){},li.wa=function(){},li.va=function(){},li.ua=function(){},li.Ra=function(){},is.prototype.g=function(e,t){return new as(e,t)},Ei(as,Ea),as.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;io(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ts(e,null,e.V),zu(e)},as.prototype.close=function(){Vu(this.g)},as.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Aa(e),e=n);t.i.push(new ru(t.ab++,e)),3==t.G&&zu(t)},as.prototype.M=function(){this.g.l=null,delete this.j,Vu(this.g),delete this.g,as.X.M.call(this)},Ei(os,vo),Ei(us,mo),Ei(ss,rs),ss.prototype.xa=function(){Ta(this.g,"a")},ss.prototype.wa=function(e){Ta(this.g,new os(e))},ss.prototype.va=function(e){Ta(this.g,new us)},ss.prototype.ua=function(){Ta(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,so.COMPLETE="complete",fo.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Ea.prototype.listen=Ea.prototype.N,_u.prototype.listenOnce=_u.prototype.O,_u.prototype.getLastError=_u.prototype.Oa,_u.prototype.getLastErrorCode=_u.prototype.Ea,_u.prototype.getStatus=_u.prototype.aa,_u.prototype.getResponseJson=_u.prototype.Sa,_u.prototype.getResponseText=_u.prototype.fa,_u.prototype.send=_u.prototype.da,_u.prototype.setWithCredentials=_u.prototype.Ka;var cs=vi.createWebChannelTransport=function(){return new is},ls=vi.getStatEventTarget=function(){return eo()},fs=vi.ErrorCode=uo,hs=vi.EventType=so,ds=vi.Event=Xa,ps=vi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vs=vi.FetchXmlHttpFactory=yu,ms=vi.WebChannel=fo,ys=vi.XhrIo=_u,gs="@firebase/firestore",ks=function(){function e(t){(0,u.Z)(this,e),this.uid=t}return(0,s.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");var bs="9.19.0",ws=new Wn("@firebase/firestore");function xs(){return ws.logLevel}function Zs(e){if(ws.logLevel<=jn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ss);ws.debug.apply(ws,["Firestore (".concat(bs,"): ").concat(e)].concat((0,o.Z)(i)))}}function _s(e){if(ws.logLevel<=jn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ss);ws.error.apply(ws,["Firestore (".concat(bs,"): ").concat(e)].concat((0,o.Z)(i)))}}function Is(e){if(ws.logLevel<=jn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ss);ws.warn.apply(ws,["Firestore (".concat(bs,"): ").concat(e)].concat((0,o.Z)(i)))}}function Ss(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bs,") INTERNAL ASSERTION FAILED: ")+e;throw _s(t),new Error(t)}function Ts(e,t){e||Es()}function Cs(e,t){return e}var As={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ns=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,s.Z)(n)}(wn),Ps=(0,s.Z)((function e(){var t=this;(0,u.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Rs=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Os=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ks.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ds=function(){function e(t){(0,u.Z)(this,e),this.token=t,this.changeListener=null}return(0,s.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ls=function(){function e(t){(0,u.Z)(this,e),this.t=t,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,s.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ps;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ps,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Zs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Zs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ts("string"==typeof n.accessToken),new Rs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ts(null===e||"string"==typeof e),new ks(e)}}]),e}(),Ms=function(){function e(t,n,r){(0,u.Z)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.g=new Map}return(0,s.Z)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Fs=function(){function e(t,n,r){(0,u.Z)(this,e),this.h=t,this.l=n,this.m=r}return(0,s.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Ms(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ks.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vs=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),js=function(){function e(t){(0,u.Z)(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return(0,s.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Zs("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Zs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ts("string"==typeof t.token),e.T=t.token,new Vs(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Us(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zs=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Us(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bs(e,t){return e<t?-1:e>t?1:0}function qs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ks(e){return e+"\0"}var Gs=function(){function e(t,n){if((0,u.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ns(As.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ns(As.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ns(As.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ns(As.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,s.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bs(this.nanoseconds,e.nanoseconds):Bs(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ws=function(){function e(t){(0,u.Z)(this,e),this.timestamp=t}return(0,s.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gs(0,0))}},{key:"max",value:function(){return new e(new Gs(253402300799,999999999))}}]),e}(),Hs=function(){function e(t,n,r){(0,u.Z)(this,e),void 0===n?n=0:n>t.length&&Es(),void 0===r?r=t.length-n:r>t.length-n&&Es(),this.segments=t,this.offset=n,this.len=r}return(0,s.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qs=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,u=r;a<u.length;a++){var s=u[a];if(s.indexOf("//")>=0)throw new Ns(As.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,o.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hs),$s=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ys=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $s.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ns(As.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ns(As.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ns(As.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ns(As.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hs),Xs=function(){function e(t){(0,u.Z)(this,e),this.path=t}return(0,s.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qs.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qs.fromString(t))}},{key:"fromName",value:function(t){return new e(Qs.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qs.emptyPath())}},{key:"comparator",value:function(e,t){return Qs.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qs(t.slice()))}}]),e}(),Js=(0,s.Z)((function e(t,n,r,i){(0,u.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ec(e){return e.fields.find((function(e){return 2===e.kind}))}function tc(e){return e.fields.filter((function(e){return 2!==e.kind}))}Js.UNKNOWN_ID=-1;var nc=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.fieldPath=t,this.kind=n}));var rc=function(){function e(t,n){(0,u.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,s.Z)(e,null,[{key:"empty",value:function(){return new e(0,oc.min())}}]),e}();function ic(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ws.fromTimestamp(1e9===r?new Gs(n+1,0):new Gs(n,r));return new oc(i,Xs.empty(),t)}function ac(e){return new oc(e.readTime,e.key,-1)}var oc=function(){function e(t,n,r){(0,u.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,s.Z)(e,null,[{key:"min",value:function(){return new e(Ws.min(),Xs.empty(),-1)}},{key:"max",value:function(){return new e(Ws.max(),Xs.empty(),-1)}}]),e}();function uc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Xs.comparator(e.documentKey,t.documentKey))?n:Bs(e.largestBatchId,t.largestBatchId)}var sc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cc=function(){function e(){(0,u.Z)(this,e),this.onCommittedListeners=[]}return(0,s.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function lc(e){return fc.apply(this,arguments)}function fc(){return fc=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===As.FAILED_PRECONDITION&&t.message===sc){e.next=2;break}throw t;case 2:Zs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}var hc=function(){function e(t){var n=this;(0,u.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,s.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Es(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,g.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),dc=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Ps,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new mc(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=wc(e.target.error);r.R.reject(new mc(t,n))}}return(0,s.Z)(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Zs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new gc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new mc(n,t)}}}]),e}(),pc=function(){function e(t,n,r){(0,u.Z)(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(vn())&&_s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,s.Z)(e,[{key:"$",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zs("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new mc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ns(As.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ns(As.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new mc(t,n))},i.onupgradeneeded=function(e){Zs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){Zs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u,s,c=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=(0,On.Z)().mark((function e(){var n,u,s,l;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=dc.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),hc.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Zs("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zs("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!bn())return!1;if(e.C())return!0;var t=vn(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/tinder-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),vc=function(){function e(t){(0,u.Z)(this,e),this.L=t,this.q=!1,this.U=null}return(0,s.Z)(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return kc(this.L.delete())}}]),e}(),mc=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,As.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,s.Z)(n)}(Ns);function yc(e){return"IndexedDbTransactionError"===e.name}var gc=function(){function e(t){(0,u.Z)(this,e),this.store=t}return(0,s.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kc(n)}},{key:"add",value:function(e){return Zs("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return kc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zs("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zs("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}},{key:"count",value:function(){return Zs("SimpleDb","COUNT",this.store.name),kc(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new hc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new hc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Zs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new hc((function(n,r){t.onerror=function(e){var t=wc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new hc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new vc(i),o=t(i.primaryKey,i.value,a);if(o instanceof hc){var u=o.catch((function(e){return a.done(),hc.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return hc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function kc(e){return new hc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=wc(e.target.error);n(t)}}))}var bc=!1;function wc(e){var t=pc.S(vn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ns("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bc||(bc=!0,setTimeout((function(){throw r}),0)),r}}return e}var xc=function(){function e(t,n){(0,u.Z)(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return(0,s.Z)(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Zs("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Zs,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!yc(e.t4)){e.next=17;break}Zs("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,lc(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Zc=function(){function e(t,n){(0,u.Z)(this,e),this.localStore=t,this.persistence=n}return(0,s.Z)(e,[{key:"nt",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n=this,r=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return hc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Zs("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Zs("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ac(t);uc(r,n)>0&&(n=r)})),new oc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),_c=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return(0,s.Z)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ic(e){return null==e}function Sc(e){return 0===e&&1/e==-1/0}function Ec(e){return"number"==typeof e&&Number.isInteger(e)&&!Sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Tc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ac(t)),t=Cc(e.get(n),t);return Ac(t)}function Cc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ac(e){return e+"\x01\x01"}function Nc(e){var t=e.length;if(Ts(t>=2),2===t)return Ts("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qs.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Es(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Es()}a=o+2}return new Qs(r)}_c.ct=-1;var Pc=["userId","batchId"];function Rc(e,t){return[e,Tc(t)]}function Oc(e,t,n){return[e,Tc(t),n]}var Dc={},Lc=["prefixPath","collectionGroup","readTime","documentId"],Mc=["prefixPath","collectionGroup","documentId"],Fc=["collectionGroup","readTime","prefixPath","documentId"],Vc=["canonicalId","targetId"],jc=["targetId","path"],Uc=["path","targetId"],zc=["collectionId","parent"],Bc=["indexId","uid"],qc=["uid","sequenceNumber"],Kc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gc=["indexId","uid","orderedDocumentKey"],Wc=["userId","collectionPath","documentId"],Hc=["userId","collectionPath","largestBatchId"],Qc=["userId","collectionGroup","largestBatchId"],$c=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Yc=[].concat((0,o.Z)($c),["documentOverlays"]),Xc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jc=Xc,el=[].concat(Jc,["indexConfiguration","indexState","indexEntries"]),tl=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return(0,s.Z)(n)}(cc);function nl(e,t){var n=Cs(e);return pc.O(n.at,t)}function rl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function al(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ol=function(){function e(t,n){(0,u.Z)(this,e),this.comparator=t,this.root=n||sl.EMPTY}return(0,s.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ul(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ul(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ul(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ul(this.root,e,this.comparator,!0)}}]),e}(),ul=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,s.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),sl=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,s.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Es();if(this.right.isRed())throw Es();var e=this.left.check();if(e!==this.right.check())throw Es();return e+(this.isRed()?0:1)}}]),e}();sl.EMPTY=null,sl.RED=!0,sl.BLACK=!1,sl.EMPTY=new(function(){function e(){(0,u.Z)(this,e),this.size=0}return(0,s.Z)(e,[{key:"key",get:function(){throw Es()}},{key:"value",get:function(){throw Es()}},{key:"color",get:function(){throw Es()}},{key:"left",get:function(){throw Es()}},{key:"right",get:function(){throw Es()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new sl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cl=function(){function e(t){(0,u.Z)(this,e),this.comparator=t,this.data=new ol(this.comparator)}return(0,s.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ll(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ll(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ll=function(){function e(t){(0,u.Z)(this,e),this.iter=t}return(0,s.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function fl(e){return e.hasNext()?e.getNext():void 0}var hl=function(){function e(t){(0,u.Z)(this,e),this.fields=t,t.sort(Ys.comparator)}return(0,s.Z)(e,[{key:"unionWith",value:function(t){var n,r=new cl(Ys.comparator),i=(0,g.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=(0,g.Z)(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,g.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),dl=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,s.Z)(n)}((0,f.Z)(Error));var pl=function(e){function t(e){(0,u.Z)(this,t),this.binaryString=e}return(0,s.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bs(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dl("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);pl.EMPTY_BYTE_STRING=new pl("");var vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(e){if(Ts(!!e),"string"==typeof e){var t=0,n=vl.exec(e);if(Ts(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yl(e.seconds),nanos:yl(e.nanos)}}function yl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gl(e){return"string"==typeof e?pl.fromBase64String(e):pl.fromUint8Array(e)}function kl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bl(e){var t=e.mapValue.fields.__previous_value__;return kl(t)?bl(t):t}function wl(e){var t=ml(e.mapValue.fields.__local_write_time__.timestampValue);return new Gs(t.seconds,t.nanos)}var xl=(0,s.Z)((function e(t,n,r,i,a,o,s,c){(0,u.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Zl=function(){function e(t,n){(0,u.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,s.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),_l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Il={nullValue:"NULL_VALUE"};function Sl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kl(e)?4:jl(e)?9007199254740991:10:Es()}function El(e,t){if(e===t)return!0;var n=Sl(e);if(n!==Sl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wl(e).isEqual(wl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ml(e.timestampValue),r=ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gl(e.bytesValue).isEqual(gl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yl(e.geoPointValue.latitude)===yl(t.geoPointValue.latitude)&&yl(e.geoPointValue.longitude)===yl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yl(e.integerValue)===yl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yl(e.doubleValue),r=yl(t.doubleValue);return n===r?Sc(n)===Sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qs(e.arrayValue.values||[],t.arrayValue.values||[],El);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rl(n)!==rl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!El(n[i],r[i])))return!1;return!0}(e,t);default:return Es()}}function Tl(e,t){return void 0!==(e.values||[]).find((function(e){return El(e,t)}))}function Cl(e,t){if(e===t)return 0;var n=Sl(e),r=Sl(t);if(n!==r)return Bs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yl(e.integerValue||e.doubleValue),r=yl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Al(e.timestampValue,t.timestampValue);case 4:return Al(wl(e),wl(t));case 5:return Bs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gl(e),r=gl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bs(n[i],r[i]);if(0!==a)return a}return Bs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bs(yl(e.latitude),yl(t.latitude));return 0!==n?n:Bs(yl(e.longitude),yl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cl(n[i],r[i]);if(a)return a}return Bs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_l.mapValue&&t===_l.mapValue)return 0;if(e===_l.mapValue)return 1;if(t===_l.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bs(r[o],a[o]);if(0!==u)return u;var s=Cl(n[r[o]],i[a[o]]);if(0!==s)return s}return Bs(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Es()}}function Al(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bs(e,t);var n=ml(e),r=ml(t),i=Bs(n.seconds,r.seconds);return 0!==i?i:Bs(n.nanos,r.nanos)}function Nl(e){return Pl(e)}function Pl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ml(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,g.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Pl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,g.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(Pl(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):Es();var t,n}function Rl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ol(e){return!!e&&"integerValue"in e}function Dl(e){return!!e&&"arrayValue"in e}function Ll(e){return!!e&&"nullValue"in e}function Ml(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fl(e){return!!e&&"mapValue"in e}function Vl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return il(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Vl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function jl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ul(e){return"nullValue"in e?Il:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Rl(Zl.empty(),Xs.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Es()}function zl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Rl(Zl.empty(),Xs.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?_l:Es()}function Bl(e,t){var n=Cl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ql(e,t){var n=Cl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Kl=function(){function e(t){(0,u.Z)(this,e),this.value=t}return(0,s.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}},{key:"setAll",value:function(e){var t=this,n=Ys.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Vl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return El(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){il(t,(function(t,n){return e[t]=n}));var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Vl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gl(e){var t=[];return il(e.fields,(function(e,n){var r=new Ys([e]);if(Fl(n)){var i=Gl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,g.Z)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new hl(t)}var Wl=function(){function e(t,n,r,i,a,o,s){(0,u.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return(0,s.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ws.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Kl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Kl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ws.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ws.min(),Ws.min(),Ws.min(),Kl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Ws.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ws.min(),Ws.min(),Kl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ws.min(),Ws.min(),Kl.empty(),2)}}]),e}(),Hl=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.position=t,this.inclusive=n}));function Ql(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xs.comparator(Xs.fromName(o.referenceValue),n.key):Cl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function $l(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!El(e.position[n],t.position[n]))return!1;return!0}var Yl=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,u.Z)(this,e),this.field=t,this.dir=n}));function Xl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Jl=(0,s.Z)((function e(){(0,u.Z)(this,e)})),ef=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,s.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cl(t,this.value)):null!==t&&Sl(this.value)===Sl(t)&&this.matchesComparison(Cl(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Es()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ff(e,t,r):"array-contains"===t?new vf(e,r):"in"===t?new mf(e,r):"not-in"===t?new yf(e,r):"array-contains-any"===t?new gf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new hf(e,n):new df(e,n)}}]),n}(Jl),tf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return(0,s.Z)(n,[{key:"matches",value:function(e){return nf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=(0,g.Z)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Jl);function nf(e){return"and"===e.op}function rf(e){return"or"===e.op}function af(e){return of(e)&&nf(e)}function of(e){var t,n=(0,g.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof tf)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function uf(e){if(e instanceof ef)return e.field.canonicalString()+e.op.toString()+Nl(e.value);if(af(e))return e.filters.map((function(e){return uf(e)})).join(",");var t=e.filters.map((function(e){return uf(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function sf(e,t){return e instanceof ef?function(e,t){return t instanceof ef&&e.op===t.op&&e.field.isEqual(t.field)&&El(e.value,t.value)}(e,t):e instanceof tf?function(e,t){return t instanceof tf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&sf(n,t.filters[r])}),!0)}(e,t):void Es()}function cf(e,t){var n=e.filters.concat(t);return tf.create(n,e.op)}function lf(e){return e instanceof ef?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Nl(e.value))}(e):e instanceof tf?function(e){return e.op.toString()+" {"+e.getFilters().map(lf).join(" ,")+"}"}(e):"Filter"}var ff=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this,e,r,i)).key=Xs.fromName(i.referenceValue),a}return(0,s.Z)(n,[{key:"matches",value:function(e){var t=Xs.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ef),hf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,"in",r)).keys=pf("in",r),i}return(0,s.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ef),df=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=pf("not-in",r),i}return(0,s.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ef);function pf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xs.fromName(e.referenceValue)}))}var vf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,s.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Dl(t)&&Tl(t.arrayValue,this.value)}}]),n}(ef),mf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"in",r)}return(0,s.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Tl(this.value.arrayValue,t)}}]),n}(ef),yf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"not-in",r)}return(0,s.Z)(n,[{key:"matches",value:function(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Tl(this.value.arrayValue,t)}}]),n}(ef),gf=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,s.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Tl(t.value.arrayValue,e)}))}}]),n}(ef),kf=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,u.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function bf(e){return new kf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wf(e){var t=Cs(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return uf(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ic(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Nl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Nl(e)})).join(",")),t.ft=n}return t.ft}function xf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!sf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$l(e.startAt,t.startAt)&&$l(e.endAt,t.endAt)}function Zf(e){return Xs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _f(e,t){return e.filters.filter((function(e){return e instanceof ef&&e.field.isEqual(t)}))}function If(e,t,n){var r,i=Il,a=!0,o=(0,g.Z)(_f(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Il,c=!0;switch(u.op){case"<":case"<=":s=Ul(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Il}Bl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Bl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Sf(e,t,n){var r,i=_l,a=!0,o=(0,g.Z)(_f(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=_l,c=!0;switch(u.op){case">=":case">":s=zl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=_l}ql({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ql({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ef=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,u.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Tf(e,t,n,r,i,a,o,u){return new Ef(e,t,n,r,i,a,o,u)}function Cf(e){return new Ef(e)}function Af(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pf(e){var t,n=(0,g.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Rf(e){return null!==e.collectionGroup}function Of(e){var t=Cs(e);if(null===t.dt){t.dt=[];var n=Pf(t),r=Nf(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Yl(n)),t.dt.push(new Yl(Ys.keyField(),"asc"));else{var i,a=!1,o=(0,g.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Yl(Ys.keyField(),s))}}}return t.dt}function Df(e){var t=Cs(e);if(!t.wt)if("F"===t.limitType)t.wt=bf(t.path,t.collectionGroup,Of(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,g.Z)(Of(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Yl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;t.wt=bf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Lf(e,t){t.getFirstInequalityField(),Pf(e);var n=e.filters.concat([t]);return new Ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mf(e,t,n){return new Ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return xf(Df(e),Df(t))&&e.limitType===t.limitType}function Vf(e){return"".concat(wf(Df(e)),"|lt:").concat(e.limitType)}function jf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return lf(e)})).join(", "),"]")),Ic(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Nl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Nl(e)})).join(",")),"Target(".concat(t,")")}(Df(e)),"; limitType=").concat(e.limitType,")")}function Uf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,g.Z)(Of(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,g.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ql(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Of(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ql(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Of(e),t))}(e,t)}function zf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bf(e){return function(t,n){var r,i=!1,a=(0,g.Z)(Of(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=qf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function qf(e,t,n){var r=e.field.isKeyField()?Xs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cl(r,i):Es()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Es()}}var Kf=function(){function e(t,n){(0,u.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){il(this.inner,(function(t,n){var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return al(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gf=new ol(Xs.comparator);function Wf(){return Gf}var Hf=new ol(Xs.comparator);function Qf(){for(var e=Hf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $f(e){var t=Hf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Yf(){return Jf()}function Xf(){return Jf()}function Jf(){return new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var eh=new ol(Xs.comparator),th=new cl(Xs.comparator);function nh(){for(var e=th,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rh=new cl(Bs);function ih(){return rh}function ah(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(t)?"-0":t}}function oh(e){return{integerValue:""+e}}function uh(e,t){return Ec(t)?oh(t):ah(e,t)}var sh=(0,s.Z)((function e(){(0,u.Z)(this,e),this._=void 0}));function ch(e,t,n){return e instanceof hh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dh?ph(e,t):e instanceof vh?mh(e,t):function(e,t){var n=fh(e,t),r=gh(n)+gh(e._t);return Ol(n)&&Ol(e._t)?oh(r):ah(e.serializer,r)}(e,t)}function lh(e,t,n){return e instanceof dh?ph(e,t):e instanceof vh?mh(e,t):n}function fh(e,t){return e instanceof yh?Ol(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(sh),dh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,s.Z)(n)}(sh);function ph(e,t){var n,r=kh(t),i=(0,g.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return El(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,s.Z)(n)}(sh);function mh(e,t){var n,r=kh(t),i=(0,g.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!El(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return(0,s.Z)(n)}(sh);function gh(e){return yl(e.integerValue||e.doubleValue)}function kh(e){return Dl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bh=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.field=t,this.transform=n}));var wh=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.version=t,this.transformResults=n})),xh=function(){function e(t,n){(0,u.Z)(this,e),this.updateTime=t,this.exists=n}return(0,s.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _h=(0,s.Z)((function e(){(0,u.Z)(this,e)}));function Ih(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mh(e.key,xh.none()):new Ah(e.key,e.data,xh.none());var n,r=e.data,i=Kl.empty(),a=new cl(Ys.comparator),o=(0,g.Z)(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Nh(e.key,i,new hl(a.toArray()),xh.none())}function Sh(e,t,n){e instanceof Ah?function(e,t,n){var r=e.value.clone(),i=Rh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nh?function(e,t,n){if(Zh(e.precondition,t)){var r=Rh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ph(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Eh(e,t,n,r){return e instanceof Ah?function(e,t,n,r){if(!Zh(e.precondition,t))return n;var i=e.value.clone(),a=Oh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Nh?function(e,t,n,r){if(!Zh(e.precondition,t))return n;var i=Oh(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ph(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Zh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Th(e,t){var n,r=null,i=(0,g.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=fh(a.transform,o||null);null!=u&&(null===r&&(r=Kl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ch(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qs(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dh&&t instanceof dh||e instanceof vh&&t instanceof vh?qs(e.elements,t.elements,El):e instanceof yh&&t instanceof yh?El(e._t,t._t):e instanceof hh&&t instanceof hh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ah=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,u.Z)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,s.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_h),Nh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,u.Z)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,s.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(_h);function Ph(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rh(e,t,n){var r=new Map;Ts(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,lh(o,u,n[i]))}return r}function Oh(e,t,n){var r,i=new Map,a=(0,g.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ch(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Dh,Lh,Mh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,s.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_h),Fh=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,s.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_h),Vh=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,s.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Sh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,g.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Eh(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=(0,g.Z)(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Eh(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Xf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Ih(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Ws.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),nh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(function(e,t){return Ch(e,t)}))&&qs(this.baseMutations,e.baseMutations,(function(e,t){return Ch(e,t)}))}}]),e}(),jh=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,s.Z)(e,null,[{key:"from",value:function(t,n,r){Ts(t.mutations.length===r.length);for(var i=eh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Uh=function(){function e(t,n){(0,u.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,s.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zh=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.count=t}));function Bh(e){switch(e){default:return Es();case As.CANCELLED:case As.UNKNOWN:case As.DEADLINE_EXCEEDED:case As.RESOURCE_EXHAUSTED:case As.INTERNAL:case As.UNAVAILABLE:case As.UNAUTHENTICATED:return!1;case As.INVALID_ARGUMENT:case As.NOT_FOUND:case As.ALREADY_EXISTS:case As.PERMISSION_DENIED:case As.FAILED_PRECONDITION:case As.ABORTED:case As.OUT_OF_RANGE:case As.UNIMPLEMENTED:case As.DATA_LOSS:return!0}}function qh(e){if(void 0===e)return _s("GRPC error has no .code"),As.UNKNOWN;switch(e){case Dh.OK:return As.OK;case Dh.CANCELLED:return As.CANCELLED;case Dh.UNKNOWN:return As.UNKNOWN;case Dh.DEADLINE_EXCEEDED:return As.DEADLINE_EXCEEDED;case Dh.RESOURCE_EXHAUSTED:return As.RESOURCE_EXHAUSTED;case Dh.INTERNAL:return As.INTERNAL;case Dh.UNAVAILABLE:return As.UNAVAILABLE;case Dh.UNAUTHENTICATED:return As.UNAUTHENTICATED;case Dh.INVALID_ARGUMENT:return As.INVALID_ARGUMENT;case Dh.NOT_FOUND:return As.NOT_FOUND;case Dh.ALREADY_EXISTS:return As.ALREADY_EXISTS;case Dh.PERMISSION_DENIED:return As.PERMISSION_DENIED;case Dh.FAILED_PRECONDITION:return As.FAILED_PRECONDITION;case Dh.ABORTED:return As.ABORTED;case Dh.OUT_OF_RANGE:return As.OUT_OF_RANGE;case Dh.UNIMPLEMENTED:return As.UNIMPLEMENTED;case Dh.DATA_LOSS:return As.DATA_LOSS;default:return Es()}}(Lh=Dh||(Dh={}))[Lh.OK=0]="OK",Lh[Lh.CANCELLED=1]="CANCELLED",Lh[Lh.UNKNOWN=2]="UNKNOWN",Lh[Lh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lh[Lh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lh[Lh.NOT_FOUND=5]="NOT_FOUND",Lh[Lh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lh[Lh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lh[Lh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lh[Lh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lh[Lh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lh[Lh.ABORTED=10]="ABORTED",Lh[Lh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lh[Lh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lh[Lh.INTERNAL=13]="INTERNAL",Lh[Lh.UNAVAILABLE=14]="UNAVAILABLE",Lh[Lh.DATA_LOSS=15]="DATA_LOSS";var Kh=function(){function e(){(0,u.Z)(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return(0,s.Z)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Gh}},{key:"getOrCreateInstance",value:function(){return null===Gh&&(Gh=new e),Gh}}]),e}(),Gh=null,Wh=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,s.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ws.min(),i,ih(),Wf(),nh())}}]),e}(),Hh=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,s.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,nh(),nh(),nh())}}]),e}(),Qh=(0,s.Z)((function e(t,n,r,i){(0,u.Z)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),$h=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.targetId=t,this.Et=n})),Yh=(0,s.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,u.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xh=function(){function e(){(0,u.Z)(this,e),this.At=0,this.Rt=td(),this.vt=pl.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return(0,s.Z)(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=nh(),t=nh(),n=nh();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Es()}})),new Hh(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=td()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),Jh=function(){function e(t){(0,u.Z)(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Wf(),this.qt=ed(),this.Ut=new cl(Bs)}return(0,s.Z)(e,[{key:"Kt",value:function(e){var t,n=(0,g.Z)(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=(0,g.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Es()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Zf(a))if(0===r){var o=new Xs(a.path);this.Qt(n,o,Wl.newNoDocument(o,Ws.min()))}else Ts(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Kh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Zf(a.target)){var o=new Xs(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Wl.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=nh();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wh(e,n,this.Ut,this.Lt,r);return this.Lt=Wf(),this.qt=ed(),this.Ut=new cl(Bs),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new Xh,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new cl(Bs),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Zs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Xh),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function ed(){return new ol(Xs.comparator)}function td(){return new ol(Xs.comparator)}var nd={asc:"ASCENDING",desc:"DESCENDING"},rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},id={and:"AND",or:"OR"},ad=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.databaseId=t,this.useProto3Json=n}));function od(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ud(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sd(e,t){return od(e,t.toTimestamp())}function cd(e){return Ts(!!e),Ws.fromTimestamp(function(e){var t=ml(e);return new Gs(t.seconds,t.nanos)}(e))}function ld(e,t){return function(e){return new Qs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fd(e){var t=Qs.fromString(e);return Ts(Od(t)),t}function hd(e,t){return ld(e.databaseId,t.path)}function dd(e,t){var n=fd(t);if(n.get(1)!==e.databaseId.projectId)throw new Ns(As.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ns(As.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xs(yd(n))}function pd(e,t){return ld(e.databaseId,t)}function vd(e){var t=fd(e);return 4===t.length?Qs.emptyPath():yd(t)}function md(e){return new Qs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yd(e){return Ts(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gd(e,t,n){return{name:hd(e,t),fields:n.value.mapValue.fields}}function kd(e,t,n){var r=dd(e,t.name),i=cd(t.updateTime),a=t.createTime?cd(t.createTime):Ws.min(),o=new Kl({mapValue:{fields:t.fields}}),u=Wl.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function bd(e,t){return"found"in t?function(e,t){Ts(!!t.found),t.found.name,t.found.updateTime;var n=dd(e,t.found.name),r=cd(t.found.updateTime),i=t.found.createTime?cd(t.found.createTime):Ws.min(),a=new Kl({mapValue:{fields:t.found.fields}});return Wl.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Ts(!!t.missing),Ts(!!t.readTime);var n=dd(e,t.missing),r=cd(t.readTime);return Wl.newNoDocument(n,r)}(e,t):Es()}function wd(e,t){var n;if(t instanceof Ah)n={update:gd(e,t.key,t.value)};else if(t instanceof Mh)n={delete:hd(e,t.key)};else if(t instanceof Nh)n={update:gd(e,t.key,t.data),updateMask:Rd(t.fieldMask)};else{if(!(t instanceof Fh))return Es();n={verify:hd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yh)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Es()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Es()}(e,t.precondition)),n}function xd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xh.updateTime(cd(e.updateTime)):void 0!==e.exists?xh.exists(e.exists):xh.none()}(t.currentDocument):xh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ts("REQUEST_TIME"===t.setToServerValue),n=new hh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new dh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vh(i)}else"increment"in t?n=new yh(e,t.increment):Es();var a=Ys.fromServerFormat(t.fieldPath);return new bh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=dd(e,t.update.name),a=new Kl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new hl(t.map((function(e){return Ys.fromServerFormat(e)})))}(t.updateMask);return new Nh(i,a,o,n,r)}return new Ah(i,a,n,r)}if(t.delete){var u=dd(e,t.delete);return new Mh(u,n)}if(t.verify){var s=dd(e,t.verify);return new Fh(s,n)}return Es()}function Zd(e,t){return{documents:[pd(e,t.path)]}}function _d(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Pd(tf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ad(e.field),direction:Ed(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||Ic(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Id(e){var t=vd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ts(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Sd(e);return t instanceof tf&&af(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yl(Nd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ic(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Hl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Hl(n,t)}(n.endAt)),Tf(t,i,u,o,s,"F",c,l)}function Sd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Nd(e.unaryFilter.field);return ef.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Nd(e.unaryFilter.field);return ef.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nd(e.unaryFilter.field);return ef.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nd(e.unaryFilter.field);return ef.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Es()}}(e):void 0!==e.fieldFilter?function(e){return ef.create(Nd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Es()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return tf.create(e.compositeFilter.filters.map((function(e){return Sd(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Es()}}(e.compositeFilter.op))}(e):Es()}function Ed(e){return nd[e]}function Td(e){return rd[e]}function Cd(e){return id[e]}function Ad(e){return{fieldPath:e.canonicalString()}}function Nd(e){return Ys.fromServerFormat(e.fieldPath)}function Pd(e){return e instanceof ef?function(e){if("=="===e.op){if(Ml(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NAN"}};if(Ll(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ml(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NAN"}};if(Ll(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(e.field),op:Td(e.op),value:e.value}}}(e):e instanceof tf?function(e){var t=e.getFilters().map((function(e){return Pd(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Cd(e.op),filters:t}}}(e):Es()}function Rd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Dd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ws.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ws.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pl.EMPTY_BYTE_STRING;(0,u.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return(0,s.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ld=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.se=t}));function Md(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:od(e,t.version.toTimestamp()),createTime:od(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vd(t.version)};else{if(!t.isUnknownDocument())return Es();r.unknownDocument={path:n.path.toArray(),version:Vd(t.version)}}return r}function Fd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jd(e){var t=new Gs(e.seconds,e.nanoseconds);return Ws.fromTimestamp(t)}function Ud(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xd(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return xd(e.se,t)})),u=Gs.fromMillis(t.localWriteTimeMs);return new Vh(t.batchId,u,n,o)}function zd(e){var t,n,r=jd(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jd(e.lastLimboFreeSnapshotVersion):Ws.min();return void 0!==e.query.documents?(Ts(1===(n=e.query).documents.length),t=Df(Cf(vd(n.documents[0])))):t=function(e){return Df(Id(e))}(e.query),new Dd(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pl.fromBase64String(e.resumeToken))}function Bd(e,t){var n,r=Vd(t.snapshotVersion),i=Vd(t.lastLimboFreeSnapshotVersion);n=Zf(t.target)?Zd(e.se,t.target):_d(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function qd(e){var t=Id({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mf(t,t.limit,"L"):t}function Kd(e,t){return new Uh(t.largestBatchId,xd(e.se,t.overlayMutation))}function Gd(e,t){var n=t.path.lastSegment();return[e,Tc(t.path.popLast()),n]}function Wd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Vd(r.readTime),documentKey:Tc(r.documentKey.path),largestBatchId:r.largestBatchId}}var Hd=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Qd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jd(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Qd(e).put({bundleId:(n=t).id,createTime:Vd(cd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return $d(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:qd(t.bundledQuery),readTime:jd(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return $d(e).put(function(e){return{name:e.name,readTime:Vd(cd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Qd(e){return nl(e,"bundles")}function $d(e){return nl(e,"namedQueries")}var Yd=function(){function e(t,n){(0,u.Z)(this,e),this.serializer=t,this.userId=n}return(0,s.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Xd(e).get(Gd(this.userId,t)).next((function(e){return e?Kd(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yf();return hc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Uh(t,a);i.push(r.re(e,o))})),hc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Tc(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Xd(e).J("collectionPathOverlayIndex",i))})),hc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yf(),a=Tc(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Xd(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,g.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Kd(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xd(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Kd(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return Xd(e).put(function(e,t,n){var r=Gd(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wd(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Xd(e){return nl(e,"documentOverlays")}var Jd=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(yl(e.integerValue));else if("doubleValue"in e){var n=yl(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Sc(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(gl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?jl(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Es()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Xs.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function ep(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ep(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Jd.pe=new Jd;var np=function(){function e(){(0,u.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,s.Z)(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=(0,g.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=(0,g.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=tp(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=tp(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),rp=function(){function e(t){(0,u.Z)(this,e),this.Me=t}return(0,s.Z)(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),ip=function(){function e(t){(0,u.Z)(this,e),this.Me=t}return(0,s.Z)(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),ap=function(){function e(){(0,u.Z)(this,e),this.Me=new np,this.Fe=new rp(this.Me),this.Be=new ip(this.Me)}return(0,s.Z)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),op=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,s.Z)(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function up(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sp(e.arrayValue,t.arrayValue))?n:0!==(n=sp(e.directionalValue,t.directionalValue))?n:Xs.comparator(e.documentKey,t.documentKey)}function sp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var cp=function(){function e(t){(0,u.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=(0,g.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,s.Z)(e,[{key:"Qe",value:function(e){Ts(e.collectionGroup===this.collectionId);var t=ec(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=tc(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=(0,g.Z)(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function lp(e){var t,n;if(Ts(e instanceof ef||e instanceof tf),e instanceof ef){if(e instanceof mf){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ef.create(e.field,"==",t)})))||[];return tf.create(r,"or")}return e}var i=e.filters.map((function(e){return lp(e)}));return tf.create(i,e.op)}function fp(e){if(0===e.getFilters().length)return[];var t=vp(lp(e));return Ts(pp(t)),hp(t)||dp(t)?[t]:t.getFilters()}function hp(e){return e instanceof ef}function dp(e){return e instanceof tf&&af(e)}function pp(e){return hp(e)||dp(e)||function(e){if(e instanceof tf&&rf(e)){var t,n=(0,g.Z)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!hp(r)&&!dp(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function vp(e){if(Ts(e instanceof ef||e instanceof tf),e instanceof ef)return e;if(1===e.filters.length)return vp(e.filters[0]);var t=e.filters.map((function(e){return vp(e)})),n=tf.create(t,e.op);return pp(n=gp(n))?n:(Ts(n instanceof tf),Ts(nf(n)),Ts(n.filters.length>1),n.filters.reduce((function(e,t){return mp(e,t)})))}function mp(e,t){var n;return Ts(e instanceof ef||e instanceof tf),Ts(t instanceof ef||t instanceof tf),n=e instanceof ef?t instanceof ef?function(e,t){return tf.create([e,t],"and")}(e,t):yp(e,t):t instanceof ef?yp(t,e):function(e,t){if(Ts(e.filters.length>0&&t.filters.length>0),nf(e)&&nf(t))return cf(e,t.getFilters());var n=rf(e)?e:t,r=rf(e)?t:e,i=n.filters.map((function(e){return mp(e,r)}));return tf.create(i,"or")}(e,t),gp(n)}function yp(e,t){if(nf(t))return cf(t,e.getFilters());var n=t.filters.map((function(t){return mp(e,t)}));return tf.create(n,"or")}function gp(e){if(Ts(e instanceof ef||e instanceof tf),e instanceof ef)return e;var t=e.getFilters();if(1===t.length)return gp(t[0]);if(of(e))return e;var n=t.map((function(e){return gp(e)})),r=[];return n.forEach((function(t){t instanceof ef?r.push(t):t instanceof tf&&(t.op===e.op?r.push.apply(r,(0,o.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:tf.create(r,e.op)}var kp=function(){function e(){(0,u.Z)(this,e),this.He=new bp}return(0,s.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),hc.resolve()}},{key:"getCollectionParents",value:function(e,t){return hc.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return hc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return hc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return hc.resolve(null)}},{key:"getIndexType",value:function(e,t){return hc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return hc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return hc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return hc.resolve(oc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return hc.resolve(oc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return hc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return hc.resolve()}}]),e}(),bp=function(){function e(){(0,u.Z)(this,e),this.index={}}return(0,s.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cl(Qs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cl(Qs.comparator)).toArray()}}]),e}(),wp=new Uint8Array(0),xp=function(){function e(t,n){(0,u.Z)(this,e),this.user=t,this.databaseId=n,this.Je=new bp,this.Ye=new Kf((function(e){return wf(e)}),(function(e,t){return xf(e,t)})),this.uid=t.uid||""}return(0,s.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:Tc(i)};return Zp(e).put(a)}return hc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ks(t),""],!1,!0);return Zp(e).j(r).next((function(e){var r,i=(0,g.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Nc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Ip(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Sp(e);return a.next((function(e){o.put(Wd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ip(e),r=Sp(e),i=_p(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_p(e),i=!0,a=new Map;return hc.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=nh(),o=[];return hc.forEach(a,(function(i,a){var u;Zs("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(wf(t)));var s=function(e,t){var n=ec(t);if(void 0===n)return null;var r,i=(0,g.Z)(_f(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=(0,g.Z)(tc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=(0,g.Z)(_f(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=(0,g.Z)(tc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?If(e,o.fieldPath,e.startAt):Sf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Hl(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,g.Z)(tc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Sf(e,o.fieldPath,e.endAt):If(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Hl(r,i)}(a,i),h=n.tn(i,a,l),d=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return hc.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Xs.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return hc.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:fp(tf.create(e.filters,"and")).map((function(t){return bf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,u){for(var s=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?s.sn(t[d/l]):wp,h=s.rn(e,c,n[d%l],r),p=s.on(e,c,i[d%l],a),v=u.map((function(t){return s.rn(e,c,t,!0)}));f.push.apply(f,(0,o.Z)(s.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"rn",value:function(e,t,n,r){var i=new op(e,Xs.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new op(e,Xs.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new cp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,g.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return hc.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new cl(Ys.comparator),r=!1,i=(0,g.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,u=(0,g.Z)(o.getFlattenedFilters());try{for(u.s();!(a=u.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){i.e(h)}finally{i.f()}var c,l=(0,g.Z)(e.orderBy);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.field.isKeyField()||(n=n.add(f.field))}}catch(h){l.e(h)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new ap,i=(0,g.Z)(tc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Le(a.kind);Jd.pe.oe(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new ap;return Jd.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new ap;return Jd.pe.oe(Rl(this.databaseId,t),n.Le(function(e){var t=tc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ap);var i,a=0,o=(0,g.Z)(tc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=(0,g.Z)(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&Dl(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);Jd.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=(0,o.Z)(e),a=[],u=(0,g.Z)(n.arrayValue.values||[]);try{for(u.s();!(r=u.n()).done;){var s,c=r.value,l=(0,g.Z)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new ap;h.seed(f.$e()),Jd.pe.oe(c,h.Le(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ef&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ip(e),i=Sp(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return hc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new rc(t.sequenceNumber,new oc(jd(t.readTime),new Xs(Nc(t.documentKey)),t.largestBatchId)):rc.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new nc(Ys.fromServerFormat(n),r)}));return new Js(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bs(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ip(e),a=Sp(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return hc.forEach(t,(function(t){return a.put(Wd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return hc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?hc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),hc.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?hc.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return _p(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return _p(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=_p(e),i=new cl(up);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new op(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new cl(up),r=this.un(t,e);if(null==r)return n;var i=ec(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Dl(a)){var o,u=(0,g.Z)(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new op(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new op(t.indexId,e.key,wp,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Zs("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=fl(a),s=fl(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=fl(o)):l?(i(u),u=fl(a)):(u=fl(a),s=fl(o))}}(r,i,up,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),hc.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Sp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return up(e,t)})).filter((function(e,t,n){return!t||0!==up(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,g.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=up(o,e),s=up(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,wp,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,wp,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return up(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ep)}},{key:"getMinOffset",value:function(e,t){var n=this;return hc.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||Es()}))})).next(Ep)}}]),e}();function Zp(e){return nl(e,"collectionParents")}function _p(e){return nl(e,"indexEntries")}function Ip(e){return nl(e,"indexConfiguration")}function Sp(e){return nl(e,"indexState")}function Ep(e){Ts(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;uc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new oc(t.readTime,t.documentKey,n)}var Tp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cp=function(){function e(t,n,r){(0,u.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,s.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ap(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ts(1===u)})));var c,l=[],f=(0,g.Z)(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Oc(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return hc.waitFor(a).next((function(){return l}))}function Np(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Es();t=e.noDocument}return JSON.stringify(t).length}Cp.DEFAULT_COLLECTION_PERCENTILE=10,Cp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cp.DEFAULT=new Cp(41943040,Cp.DEFAULT_COLLECTION_PERCENTILE,Cp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cp.DISABLED=new Cp(-1,0,0);var Pp=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return(0,s.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Op(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Dp(e),o=Op(e);return o.add({}).next((function(u){Ts("number"==typeof u);var s,c=new Vh(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wd(e.se,t)})),i=n.mutations.map((function(t){return wd(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new cl((function(e,t){return Bs(e.canonicalString(),t.canonicalString())})),d=(0,g.Z)(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Oc(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Dc))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[u]=c.keys()})),hc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Op(e).get(t).next((function(e){return e?(Ts(e.userId===n.userId),Ud(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?hc.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Op(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ts(t.batchId>=r),a=Ud(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Op(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Op(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ud(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Rc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Dp(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Nc(l);if(c===n.userId&&t.path.isEqual(h))return Op(e).get(f).next((function(e){if(!e)throw Es();Ts(e.userId===n.userId),o.push(Ud(n.serializer,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cl(Bs),i=[];return t.forEach((function(t){var o=Rc(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Dp(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Nc(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),hc.waitFor(i).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Rc(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new cl(Bs);return Dp(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Nc(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.Tn(e,s)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Op(e).get(t).next((function(e){if(null===e)throw Es();Ts(e.userId===n.userId),r.push(Ud(n.serializer,e))})))})),hc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ap(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),hc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return hc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Dp(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Nc(e[1]);i.push(a)}else r.done()})).next((function(){Ts(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Rp(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return Lp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return Ts(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Rp(e,t,n){var r=Rc(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Dp(e).Z({range:o,Y:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Op(e){return nl(e,"mutations")}function Dp(e){return nl(e,"documentMutations")}function Lp(e){return nl(e,"mutationQueues")}var Mp=function(){function e(t){(0,u.Z)(this,e),this.Rn=t}return(0,s.Z)(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),Fp=function(){function e(t,n){(0,u.Z)(this,e),this.referenceDelegate=t,this.serializer=n}return(0,s.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new Mp(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return Ws.fromTimestamp(new Gs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Vp(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return Ts(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Vp(e).Z((function(o,u){var s=zd(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return hc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Vp(e).Z((function(e,n){var r=zd(n);t(r)}))}},{key:"Pn",value:function(e){return jp(e).get("targetGlobalKey").next((function(e){return Ts(null!==e),e}))}},{key:"Vn",value:function(e,t){return jp(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return Vp(e).put(Bd(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=wf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vp(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=zd(n);xf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Up(e);return t.forEach((function(t){var o=Tc(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),hc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Up(e);return hc.forEach(t,(function(t){var a=Tc(t.path);return hc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Up(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Up(e),i=nh();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Nc(e[1]),a=new Xs(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Tc(t.path),r=IDBKeyRange.bound([n],[Ks(n)],!1,!0),i=0;return Up(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Vp(e).get(t).next((function(e){return e?zd(e):null}))}}]),e}();function Vp(e){return nl(e,"targets")}function jp(e){return nl(e,"targetGlobal")}function Up(e){return nl(e,"targetDocuments")}function zp(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=Bs(r,u);return 0===c?Bs(i,s):c}var Bp=function(){function e(t){(0,u.Z)(this,e),this.Cn=t,this.buffer=new cl(zp),this.xn=0}return(0,s.Z)(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),qp=function(){function e(t,n,r){(0,u.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return(0,s.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;Zs("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!yc(e.t0)){e.next=12;break}Zs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,lc(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Kp=function(){function e(t,n){(0,u.Z)(this,e),this.Mn=t,this.params=n}return(0,s.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return hc.resolve(_c.ct);var r=new Bp(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zs("LruGarbageCollector","Garbage collection skipped; disabled"),hc.resolve(Tp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zs("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tp):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),xs()<=jn.DEBUG&&Zs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),hc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Gp=function(){function e(t,n){(0,u.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Kp(e,t)}(this,n)}return(0,s.Z)(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Wp(e,n)}},{key:"removeReference",value:function(e,t,n){return Wp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Wp(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return Lp(e).X((function(r){return Rp(e,r,t).next((function(e){return e&&(n=!0),hc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,u){if(u<=t){var s=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ws.min()),Up(e).delete([0,Tc(o.path)])}))}));i.push(s)}})).next((function(){return hc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Wp(e,t)}},{key:"Un",value:function(e,t){var n,r=Up(e),i=_c.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==_c.ct&&t(new Xs(Nc(n)),i),i=c,n=s):i=_c.ct})).next((function(){i!==_c.ct&&t(new Xs(Nc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Wp(e,t){return Up(e).put(function(e,t){return{targetId:0,path:Tc(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Hp=function(){function e(){(0,u.Z)(this,e),this.changes=new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,s.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Qp=function(){function e(t){(0,u.Z)(this,e),this.serializer=t}return(0,s.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Jp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Jp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Fd(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wl.newInvalidDocument(t);return Jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ev(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Wl.newInvalidDocument(t)};return Jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ev(t))},(function(e,i){r={document:n.Qn(t,i),size:Np(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Wf();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=Wf(),i=new ol(Xs.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,Np(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return hc.resolve();var r=new cl(nv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ev(r.first()),ev(r.last())),a=r.getIterator(),u=a.getNext();return Jp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Xs.fromSegments([].concat((0,o.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));u&&nv(u,i)<0;)n(u,null),u=a.getNext();u&&u.isEqual(i)&&(n(u,t),u=a.hasNext()?a.getNext():null),u?r.G(ev(u)):r.done()})).next((function(){for(;u;)n(u,null),u=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Fd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jp(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Wf(),o=(0,g.Z)(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Qn(Xs.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Uf(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Wf(),o=tv(t,n),u=tv(t,oc.max());return Jp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Qn(Xs.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Yp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Xp(e).get("remoteDocumentGlobalKey").next((function(e){return Ts(!!e),e}))}},{key:"Gn",value:function(e,t){return Xp(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=kd(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Xs.fromSegments(t.noDocument.path),i=jd(t.noDocument.readTime);n=Wl.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Es();var a=Xs.fromSegments(t.unknownDocument.path),o=jd(t.unknownDocument.version);n=Wl.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Gs(e[0],e[1]);return Ws.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Ws.min()))return n}return Wl.newInvalidDocument(e)}}]),e}();function $p(e){return new Qp(e)}var Yp=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,s.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cl((function(e,t){return Bs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Md(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=Np(s);r+=c-u.size,n.push(t.Jn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Md(t.Jn.serializer,o.convertToNoDocument(Ws.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),hc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Hp);function Xp(e){return nl(e,"remoteDocumentGlobal")}function Jp(e){return nl(e,"remoteDocumentsV14")}function ev(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tv(e,t){var n=t.documentKey.path.toArray();return[e,Fd(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Bs(n[a],r[a]))return i;return(i=Bs(n.length,r.length))||((i=Bs(n[n.length-2],r[r.length-2]))||Bs(n[n.length-1],r[r.length-1]))}var rv=(0,s.Z)((function e(t,n){(0,u.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),iv=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,s.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Eh(r.mutation,e,hl.empty(),Gs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,nh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nh(),i=Yf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Qf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,nh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Wf(),a=Jf(),o=Jf();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Nh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Eh(o.mutation,t,o.mutation.getFieldMask(),Gs.now())):a.set(t.key,hl.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Jf(),i=new ol((function(e,t){return e-t})),a=nh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,g.Z)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||hl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||nh()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Xf();c.forEach((function(e){if(!a.has(e)){var n=Ih(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return hc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Xs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hc.resolve(Yf()),u=-1,s=a;return o.next((function(t){return hc.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?hc.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,nh())})).next((function(e){return{batchId:u,changes:$f(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Xs(t)).next((function(e){var t=Qf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qf();return this.indexManager.getCollectionParents(e,i).next((function(o){return hc.forEach(o,(function(o){var u=function(e,t){return new Ef(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wl.newInvalidDocument(r)))}));var n=Qf();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Eh(a.mutation,i,hl.empty(),Gs.now()),Uf(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),av=function(){function e(t){(0,u.Z)(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return(0,s.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return hc.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:cd(n.createTime)}),hc.resolve()}},{key:"getNamedQuery",value:function(e,t){return hc.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:qd(e.bundledQuery),readTime:cd(e.readTime)}}(t)),hc.resolve()}}]),e}(),ov=function(){function e(){(0,u.Z)(this,e),this.overlays=new ol(Xs.comparator),this.ts=new Map}return(0,s.Z)(e,[{key:"getOverlay",value:function(e,t){return hc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yf();return hc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),hc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),hc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yf(),i=t.length+1,a=new Xs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return hc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ol((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return hc.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Uh(t,n));var a=this.ts.get(t);void 0===a&&(a=nh(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),uv=function(){function e(){(0,u.Z)(this,e),this.es=new cl(sv.ns),this.ss=new cl(sv.rs)}return(0,s.Z)(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new sv(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new sv(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Xs(new Qs([])),r=new sv(n,e),i=new sv(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Xs(new Qs([])),n=new sv(t,e),r=new sv(t,e+1),i=nh();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new sv(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),sv=function(){function e(t,n){(0,u.Z)(this,e),this.key=t,this.ds=n}return(0,s.Z)(e,null,[{key:"ns",value:function(e,t){return Xs.comparator(e.key,t.key)||Bs(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Bs(e.ds,t.ds)||Xs.comparator(e.key,t.key)}}]),e}(),cv=function(){function e(t,n){(0,u.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new cl(sv.ns)}return(0,s.Z)(e,[{key:"checkEmpty",value:function(e){return hc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Vh(i,t,n,r);this.mutationQueue.push(a);var o,u=(0,g.Z)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new sv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return hc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hc.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return hc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hc.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return hc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new sv(t,0),i=new sv(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),hc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cl(Bs);return t.forEach((function(e){var t=new sv(e,0),i=new sv(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),hc.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xs.isDocumentKey(i)||(i=i.child(""));var a=new sv(new Xs(i),0),o=new cl(Bs);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),hc.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ts(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return hc.forEach(t.mutations,(function(i){var a=new sv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new sv(t,0),r=this._s.firstAfterOrEqual(n);return hc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,hc.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lv=function(){function e(t){(0,u.Z)(this,e),this.Ts=t,this.docs=new ol(Xs.comparator),this.size=0}return(0,s.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hc.resolve(n?n.document.mutableCopy():Wl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Wf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wl.newInvalidDocument(e))})),hc.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Wf(),a=t.path,o=new Xs(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||uc(ac(l),n)<=0||(r.has(l.key)||Uf(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return hc.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Es()}},{key:"Es",value:function(e,t){return hc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fv(this)}},{key:"getSize",value:function(e){return hc.resolve(this.size)}}]),e}(),fv=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).Jn=e,r}return(0,s.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),hc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Hp),hv=function(){function e(t){(0,u.Z)(this,e),this.persistence=t,this.As=new Kf((function(e){return wf(e)}),xf),this.lastRemoteSnapshotVersion=Ws.min(),this.highestTargetId=0,this.Rs=0,this.vs=new uv,this.targetCount=0,this.bs=Mp.vn()}return(0,s.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),hc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hc.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),hc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),hc.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,hc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),hc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,hc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),hc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return hc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),hc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),hc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return hc.resolve(n)}},{key:"containsKey",value:function(e,t){return hc.resolve(this.vs.containsKey(t))}}]),e}(),dv=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.Ps={},this.overlays={},this.Vs=new _c(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new hv(this),this.indexManager=new kp,this.remoteDocumentCache=new lv((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new Ld(n),this.xs=new av(this.serializer)}return(0,s.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ov,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new cv(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zs("MemoryPersistence","Starting transaction:",e);var i=new pv(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return hc.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pv=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,s.Z)(n)}(cc),vv=function(){function e(t){(0,u.Z)(this,e),this.persistence=t,this.$s=new uv,this.Ms=null}return(0,s.Z)(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Es()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),hc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),hc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),hc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hc.forEach(this.Bs,(function(r){var i=Xs.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Ws.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return hc.or([function(){return hc.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),mv=function(){function e(t){(0,u.Z)(this,e),this.serializer=t}return(0,s.Z)(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new dc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pc,{unique:!0}),e.createObjectStore("documentMutations")}(e),yv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=hc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),yv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ws.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pc,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return hc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Wc});t.createIndex("collectionPathOverlayIndex",Hc,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qc,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lc});t.createIndex("documentKeyIndex",Mc),t.createIndex("collectionGroupIndex",Fc)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Bc}).createIndex("sequenceNumberIndex",qc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Kc}).createIndex("documentKeyIndex",Gc,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Np(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return hc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return hc.forEach(r,(function(r){Ts(r.userId===n.userId);var i=Ud(t.serializer,r);return Ap(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Qs(n),o=function(e){return[0,Tc(e)]}(a);r.push(t.get(o).next((function(n){return n?hc.resolve():function(n){return t.put({targetId:0,path:Tc(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return hc.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:zc});var n=t.store("collectionParents"),r=new bp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Tc(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Qs(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],Nc(r));return i(o.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=zd(r),a=Bd(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Xs(Qs.fromString(i.document.name).popFirst(5)):i.noDocument?Xs.fromSegments(i.noDocument.path):i.unknownDocument?Xs.fromSegments(i.unknownDocument.path):Es()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return hc.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=$p(this.serializer),a=new dv(vv.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:nh();Ud(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),hc.forEach(r,(function(e,r){var o=new ks(r),u=Yd.ie(n.serializer,o),s=a.getIndexManager(o),c=Pp.ie(o,n.serializer,s,a.referenceDelegate);return new iv(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new tl(t,_c.ct),e).next()}))}))}}]),e}();function yv(e){e.createObjectStore("targetDocuments",{keyPath:jc}).createIndex("documentTargetsIndex",Uc,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vc,{unique:!0}),e.createObjectStore("targetGlobal")}var gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kv=function(){function e(t,n,r,i,a,o,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if((0,u.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=s,this.Hs=l,this.Js=f,this.Ys=h,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new Ns(As.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gp(this,i),this.si=n+"main",this.serializer=new Ld(c),this.ii=new pc(this.si,this.Ys,new mv(this.serializer)),this.Ds=new Fp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$p(this.serializer),this.xs=new Hd,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===f&&_s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,s.Z)(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ns(As.FAILED_PRECONDITION,gv);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new _c(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=(0,Dn.Z)((0,On.Z)().mark((function n(r){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(yc(t))return Zs("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return bv(e).get("owner").next((function(e){return hc.resolve(t._i(e))}))}},{key:"mi",value:function(e){return wv(e).delete(this.clientId)}},{key:"gi",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i,a=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=nl(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return hc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=(0,g.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?hc.resolve(!0):bv(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new Ns(As.FAILED_PRECONDITION,gv);return!1}}return!(!t.networkEnabled||!t.inForeground)||wv(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zs("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new tl(e,_c.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wv(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return Pp.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new xp(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Yd.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zs("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Ys)?el:14===i?Jc:13===i?Xc:12===i?Yc:11===i?$c:void Es();return this.ii.runTransaction(e,o,u,(function(i){return a=new tl(i,r.Vs?r.Vs.next():_c.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw _s("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new Ns(As.FAILED_PRECONDITION,sc);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return bv(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ns(As.FAILED_PRECONDITION,gv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bv(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=bv(e);return n.get("owner").next((function(e){return t._i(e)?(Zs("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):hc.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(_s("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;!mn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Zs("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return _s("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(Ei){_s("Failed to set zombie client id.",Ei)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(Ei){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return pc.D()}}]),e}();function bv(e){return nl(e,"owner")}function wv(e){return nl(e,"clientMetadata")}function xv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zv=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return(0,s.Z)(e,null,[{key:"Di",value:function(t,n){var r,i=nh(),a=nh(),o=(0,g.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_v=function(){function e(){(0,u.Z)(this,e),this.Ci=!1}return(0,s.Z)(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Af(t))return hc.resolve(null);var r=Df(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Mf(t,null,"F"),r=Df(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=nh.apply(void 0,(0,o.Z)(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Mf(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Af(t)||r.isEqual(Ws.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(xs()<=jn.DEBUG&&Zs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jf(t)),i.Fi(e,o,t,ic(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new cl(Bf(e));return t.forEach((function(t,r){Uf(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return xs()<=jn.DEBUG&&Zs("QueryEngine","Using full collection scan to execute query:",jf(t)),this.xi.getDocumentsMatchingQuery(e,t,oc.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Iv=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new ol(Bs),this.qi=new Kf((function(e){return wf(e)}),xf),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return(0,s.Z)(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iv(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Sv(e,t,n,r){return new Iv(e,t,n,r)}function Ev(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=nh(),s=(0,g.Z)(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=(0,g.Z)(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=(0,g.Z)(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=(0,g.Z)(v.mutations);try{for(y.s();!(m=y.n()).done;){var k=m.value;u=u.add(k.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Cv(e,t){var n=Cs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ts(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=nh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Av(e){var t=Cs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function Nv(e,t){var n=Cs(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(pl.EMPTY_BYTE_STRING,Ws.min()).withLastLimboFreeSnapshotVersion(Ws.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=Wf(),s=nh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Pv(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(Ws.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return hc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function Pv(e,t,n){var r=nh(),i=nh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Wf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ws.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Zs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function Rv(e,t){var n=Cs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ov(e,t){var n=Cs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,hc.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Dd(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Dv(e,t,n){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cs(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yc(e.t1)){e.next=12;break}throw e.t1;case 12:Zs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Lv.apply(this,arguments)}function Mv(e,t,n){var r=Cs(e),i=Ws.min(),a=nh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cs(e),i=r.qi.get(n);return void 0!==i?hc.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Df(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Ws.min(),n?a:nh())})).next((function(e){return jv(r,zf(t),e),{documents:e,Wi:a}}))}))}function Fv(e,t){var n=Cs(e),r=Cs(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Vv(e,t){var n=Cs(e),r=n.Ui.get(t)||Ws.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,ic(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return jv(n,t,e),e}))}function jv(e,t,n){var r=e.Ui.get(t)||Ws.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function Uv(e,t,n,r){return zv.apply(this,arguments)}function zv(){return zv=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Cs(t),o=nh(),u=Wf(),s=(0,g.Z)(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,Ov(a,function(e){return Df(Cf(Qs.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Pv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Bv(e,t){return qv.apply(this,arguments)}function qv(){return qv=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:nh(),e.next=3,Ov(t,Df(qd(n.bundledQuery)));case 3:return i=e.sent,a=Cs(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=cd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(pl.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Kv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Gv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Wv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Hv=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,s.Z)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ns(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(_s("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Qv=function(){function e(t,n,r){(0,u.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,s.Z)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ns(i.error.code,i.error.message))),a?new e(t,i.state,r):(_s("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),$v=function(){function e(t,n){(0,u.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,s.Z)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ih(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ec(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(_s("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Yv=function(){function e(t,n){(0,u.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,s.Z)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(_s("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Xv=function(){function e(){(0,u.Z)(this,e),this.activeTargetIds=ih()}return(0,s.Z)(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Jv=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ol(Bs),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=Kv(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Xv),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return(0,s.Z)(e,[{key:"start",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=(0,g.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Kv(this.persistenceKey,i)))&&(o=$v.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=(0,g.Z)(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Wv(this.persistenceKey,e));if(n){var r=Qv.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Wv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zs("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zs("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zs("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void _s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Dn.Z)((0,On.Z)().mark((function e(){var r,i,a,o,u,s,c;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=_c.ct;if(null!=e)try{var n=JSON.parse(e);Ts("number"==typeof n),t=n}catch(e){_s("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==_c.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new Hv(this.currentUser,e,t,n),i=Gv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=Gv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=Wv(this.persistenceKey,e),i=new Qv(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return $v.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hv.Zi(new ks(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return Qv.Zi(r,t)}},{key:"gr",value:function(e){return Yv.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Zs("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=ih();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),em=function(){function e(){(0,u.Z)(this,e),this.Br=new Xv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,s.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new Xv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tm=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nm=function(){function e(){var t=this;(0,u.Z)(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return(0,s.Z)(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Zs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,g.Z)(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Zs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,g.Z)(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rm=null;function im(){return null===rm?rm=268435456+Math.round(2147483648*Math.random()):rm++,"0x"+rm.toString(16)}var am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},om=function(){function e(t){(0,u.Z)(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return(0,s.Z)(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),um="WebChannelConnection",sm=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,s.Z)(n,[{key:"lo",value:function(e,t,n,r){var i=im();return new Promise((function(a,o){var u=new ys;u.setWithCredentials(!0),u.listenOnce(hs.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case fs.NO_ERROR:var t=u.getResponseJson();Zs(um,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case fs.TIMEOUT:Zs(um,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ns(As.DEADLINE_EXCEEDED,"Request time out"));break;case fs.HTTP_ERROR:var n=u.getStatus();if(Zs(um,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(As).indexOf(t)>=0?t:As.UNKNOWN}(s.status);o(new Ns(c,s.message))}else o(new Ns(As.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Ns(As.UNAVAILABLE,"Connection failed."));break;default:Es()}}finally{Zs(um,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Zs(um,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=im(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cs(),o=ls(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new vs({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Zs(um,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new om({Wr:function(t){f?Zs(um,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Zs(um,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Zs(um,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,ms.EventType.OPEN,(function(){f||Zs(um,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,ms.EventType.CLOSE,(function(){f||(f=!0,Zs(um,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,ms.EventType.ERROR,(function(t){f||(f=!0,Is(um,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new Ns(As.UNAVAILABLE,"The operation could not be completed")))})),d(c,ms.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Ts(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Zs(um,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Dh[e];if(void 0!==t)return qh(t)}(u),l=o.message;void 0===s&&(s=As.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new Ns(s,l)),c.close()}else Zs(um,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,ds.STAT_EVENT,(function(t){t.stat===ps.PROXY?Zs(um,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ps.NOPROXY&&Zs(um,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){(0,u.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,s.Z)(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=im(),o=this.ao(e,t);Zs("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return Zs("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Is("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=am[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function cm(){return"undefined"!=typeof window?window:null}function lm(){return"undefined"!=typeof document?document:null}function fm(e){return new ad(e,!0)}var hm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,u.Z)(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return(0,s.Z)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Zs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),dm=function(){function e(t,n,r,i,a,o,s,c){(0,u.Z)(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new hm(t,n)}return(0,s.Z)(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===As.RESOURCE_EXHAUSTED?(_s(n.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===As.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.Vo===n&&e.Ko(i,o)}),(function(n){t((function(){var t=new Ns(As.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Zs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Zs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pm=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a,o,s){var c;return(0,u.Z)(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c}return(0,s.Z)(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Es()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ts(void 0===t||"string"==typeof t),pl.fromBase64String(t||"")):(Ts(void 0===t||t instanceof Uint8Array),pl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?As.UNKNOWN:qh(e.code);return new Ns(t,e.message||"")}(o);n=new Yh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=dd(e,s.document.name),l=cd(s.document.updateTime),f=s.document.createTime?cd(s.document.createTime):Ws.min(),h=new Kl({mapValue:{fields:s.document.fields}}),d=Wl.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Qh(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=dd(e,m.document),g=m.readTime?cd(m.readTime):Ws.min(),k=Wl.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Qh([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=dd(e,w.document),Z=w.removedTargetIds||[];n=new Qh([],Z,x,null)}else{if(!("filter"in t))return Es();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new zh(I),E=_.targetId;n=new $h(E,S)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ws.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ws.min():t.readTime?cd(t.readTime):Ws.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=md(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Zf(r)?{documents:Zd(e,r)}:{query:_d(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ud(e,t.resumeToken):t.snapshotVersion.compareTo(Ws.min())>0&&(n.readTime=od(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Es()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=md(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(dm),vm=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a,o,s){var c;return(0,u.Z)(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c.Ho=!1,c}return(0,s.Z)(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,(0,hi.Z)((0,di.Z)(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ts(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Ts(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cd(e.updateTime):cd(t);return n.isEqual(Ws.min())&&(n=cd(t)),new wh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cd(e.commitTime);return this.listener.Zo(n,t)}return Ts(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=md(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wd(t.serializer,e)}))};this.Fo(n)}}]),n}(dm),mm=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a){var o;return(0,u.Z)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return(0,s.Z)(n,[{key:"nu",value:function(){if(this.eu)throw new Ns(As.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===As.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ns(As.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection.fo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===As.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ns(As.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return(0,s.Z)((function e(){(0,u.Z)(this,e)}))}());var ym=function(){function e(t,n){(0,u.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return(0,s.Z)(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(_s(t),this.ru=!1):Zs("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),gm=(0,s.Z)((function e(t,n,r,i,a){var o=this;(0,u.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Cm(o),!e.t0){e.next=5;break}return Zs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cs(t)).du.add(4),e.next=4,wm(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,km(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new ym(r,i)}));function km(e){return bm.apply(this,arguments)}function bm(){return bm=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cm(t)){e.next=18;break}n=(0,g.Z)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),bm.apply(this,arguments)}function wm(e){return xm.apply(this,arguments)}function xm(){return xm=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,g.Z)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xm.apply(this,arguments)}function Zm(e,t){var n=Cs(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Tm(n)?Em(n):iy(n).No()&&Im(n,t))}function _m(e,t){var n=Cs(e),r=iy(n);n.fu.delete(t),r.No()&&Sm(n,t),0===n.fu.size&&(r.No()?r.$o():Cm(n)&&n.mu.set("Unknown"))}function Im(e,t){e.gu.Ot(t.targetId),iy(e).jo(t)}function Sm(e,t){e.gu.Ot(t),iy(e).Wo(t)}function Em(e){e.gu=new Jh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),iy(e).start(),e.mu.ou()}function Tm(e){return Cm(e)&&!iy(e).xo()&&e.fu.size>0}function Cm(e){return 0===Cs(e).du.size}function Am(e){e.gu=void 0}function Nm(e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Im(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Rm(e,t){return Om.apply(this,arguments)}function Om(){return Om=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Am(t),Tm(t)?(t.mu.au(n),Em(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Dm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof Yh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=(0,g.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Mm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Qh?t.gu.Kt(n):n instanceof $h?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Ws.min())){e.next=29;break}return e.prev=14,e.next=17,Av(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(pl.EMPTY_BYTE_STRING,n.snapshotVersion)),Sm(e,t);var r=new Dd(n.target,t,1,n.sequenceNumber);Im(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Mm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Lm.apply(this,arguments)}function Mm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yc(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,wm(t);case 5:t.mu.set("Offline"),r||(r=function(){return Av(t.localStore)}),t.asyncQueue.enqueueRetryable((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,km(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t){return t().catch((function(n){return Mm(e,n,t)}))}function jm(e){return Um.apply(this,arguments)}function Um(){return Um=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cs(t),r=ay(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!zm(n)){e.next=19;break}return e.prev=3,e.next=6,Rv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Bm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Mm(n,e.t0);case 17:e.next=2;break;case 19:qm(n)&&Km(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Um.apply(this,arguments)}function zm(e){return Cm(e)&&e.lu.length<10}function Bm(e,t){e.lu.push(t);var n=ay(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function qm(e){return Cm(e)&&!ay(e).xo()&&e.lu.length>0}function Km(e){ay(e).start()}function Gm(e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ay(t).tu();case 1:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Hm(e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ay(t),r=(0,g.Z)(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function $m(e,t,n){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=jh.from(i,n,r),e.next=3,Vm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,jm(t);case 5:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ay(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bh(i=n.code)||i===As.ABORTED){e.next=7;break}return r=t.lu.shift(),ay(t).Oo(),e.next=5,Vm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,jm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:qm(t)&&Km(t);case 5:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Cs(t)).asyncQueue.verifyOperationInProgress(),Zs("RemoteStore","RemoteStore received new credentials"),i=Cm(r),r.du.add(3),e.next=6,wm(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,km(r);case 12:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return ry=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cs(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,km(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,wm(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e){return e.yu||(e.yu=function(e,t,n){var r=Cs(e);return r.nu(),new pm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Nm.bind(null,e),Zr:Rm.bind(null,e),zo:Dm.bind(null,e)}),e.wu.push(function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Tm(e)?Em(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Am(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function ay(e){return e.pu||(e.pu=function(e,t,n){var r=Cs(e);return r.nu(),new vm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Gm.bind(null,e),Zr:Xm.bind(null,e),Xo:Hm.bind(null,e),Zo:$m.bind(null,e)}),e.wu.push(function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,jm(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Zs("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var oy=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,s.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ns(As.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function uy(e,t){if(_s("AsyncQueue","".concat(t,": ").concat(e)),yc(e))return new Ns(As.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var sy=function(){function e(t){(0,u.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||Xs.comparator(e.key,n.key)}:function(e,t){return Xs.comparator(e.key,t.key)},this.keyedMap=Qf(),this.sortedSet=new ol(this.comparator)}return(0,s.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cy=function(){function e(){(0,u.Z)(this,e),this.Iu=new ol(Xs.comparator)}return(0,s.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Es():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ly=function(){function e(t,n,r,i,a,o,s,c,l){(0,u.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}return(0,s.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,sy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),fy=(0,s.Z)((function e(){(0,u.Z)(this,e),this.Eu=void 0,this.listeners=[]})),hy=(0,s.Z)((function e(){(0,u.Z)(this,e),this.queries=new Kf((function(e){return Vf(e)}),Ff),this.onlineState="Unknown",this.Au=new Set}));function dy(e,t){return py.apply(this,arguments)}function py(){return py=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cs(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=uy(e.t0,"Initialization of query '".concat(jf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&ky(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),py.apply(this,arguments)}function vy(e,t){return my.apply(this,arguments)}function my(){return my=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cs(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e,t){var n,r=Cs(e),i=!1,a=(0,g.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=(0,g.Z)(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&ky(r)}function gy(e,t,n){var r=Cs(e),i=r.queries.get(t);if(i){var a,o=(0,g.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ky(e){e.Au.forEach((function(e){e.next()}))}var by=function(){function e(t,n,r){(0,u.Z)(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return(0,s.Z)(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,g.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ly(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),wy=function(){function e(t,n){(0,u.Z)(this,e),this.Nu=t,this.byteLength=n}return(0,s.Z)(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),xy=function(){function e(t){(0,u.Z)(this,e),this.serializer=t}return(0,s.Z)(e,[{key:"Hi",value:function(e){return dd(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?kd(this.serializer,e.document,!1):Wl.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return cd(e)}}]),e}(),Zy=function(){function e(t,n,r){(0,u.Z)(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_y(t)}return(0,s.Z)(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=Qs.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new xy(this.serializer),i=(0,g.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hi(a.metadata.name),s=(0,g.Z)(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||nh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uv(this.localStore,new xy(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=(0,g.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Bv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _y(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Iy=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.key=t})),Sy=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.key=t})),Ey=function(){function e(t,n){(0,u.Z)(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=nh(),this.mutatedKeys=nh(),this.Ku=Bf(t),this.Gu=new sy(this.Ku)}return(0,s.Z)(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new cy,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Uf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Es()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new ly(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new cy,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=nh(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Sy(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new Iy(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=nh();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return ly.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Ty=(0,s.Z)((function e(t,n,r){(0,u.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),Cy=(0,s.Z)((function e(t){(0,u.Z)(this,e),this.key=t,this.ec=!1})),Ay=function(){function e(t,n,r,i,a,o){(0,u.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Kf((function(e){return Vf(e)}),Ff),this.ic=new Map,this.rc=new Set,this.oc=new ol(Xs.comparator),this.uc=new Map,this.cc=new uv,this.ac={},this.hc=new Map,this.lc=Mp.bn(),this.onlineState="Unknown",this.fc=void 0}return(0,s.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Ny(e,t){return Py.apply(this,arguments)}function Py(){return Py=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_g(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Ov(r.localStore,Df(n));case 8:return u=e.sent,r.isPrimaryClient&&Zm(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Ry(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ry(e,t,n,r,i){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Mv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(eg(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Mv(t.localStore,n,!0);case 3:return o=e.sent,u=new Ey(n,o.Wi),s=u.zu(o.documents),c=Hh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),eg(t,r,l.Yu),f=new Ty(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Dy(e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cs(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Ff(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Dv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),_m(r.remoteStore,i.targetId),Xy(r,i.targetId)})).catch(lc);case 9:e.next=14;break;case 11:return Xy(r,i.targetId),e.next=14,Dv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ig(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Cs(e),a=Gs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),nh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Wf(),s=nh();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=(0,g.Z)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Th(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Nh(c.key,l,Gl(l.value.mapValue),xh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$f(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new ol(Bs)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,rg(i,a.changes);case 9:return e.next=11,jm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=uy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Fy.apply(this,arguments)}function Vy(e,t){return jy.apply(this,arguments)}function jy(){return jy=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),e.prev=1,e.next=4,Nv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Ts(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Ts(n.ec):e.removedDocuments.size>0&&(Ts(n.ec),n.ec=!1))})),e.next=8,rg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,lc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),jy.apply(this,arguments)}function Uy(e,t,n){var r=Cs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,g.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ky(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zy(e,t,n){return By.apply(this,arguments)}function By(){return By=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s,c;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Cs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ol(Xs.comparator)).insert(o,Wl.newNoDocument(o,Ws.min())),s=nh().add(o),c=new Wh(Ws.min(),new Map,new cl(Bs),u,s),e.next=9,Vy(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),ng(i),e.next=16;break;case 14:return e.next=16,Dv(i.localStore,n,!1).then((function(){return Xy(i,n,r)})).catch(lc);case 16:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function qy(e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),i=n.batch.batchId,e.prev=1,e.next=4,Cv(r.localStore,n);case 4:return a=e.sent,Yy(r,i,null),$y(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,rg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ky.apply(this,arguments)}function Gy(e,t,n){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cs(t),e.prev=1,e.next=4,function(e,t){var n=Cs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ts(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Yy(i,n,r),$y(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,rg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wy.apply(this,arguments)}function Hy(e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cm((r=Cs(t)).remoteStore)||Zs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Cs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=uy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Qy.apply(this,arguments)}function $y(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Yy(e,t,n){var r=Cs(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Xy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,g.Z)(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||Jy(e,t)}))}function Jy(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(_m(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),ng(e))}function eg(e,t,n){var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Iy?(e.cc.addReference(a.key,t),tg(e,a)):a instanceof Sy?(Zs("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Jy(e,a.key)):Es()}}catch(o){i.e(o)}finally{i.f()}}function tg(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Zs("SyncEngine","New document in limbo: "+n),e.rc.add(r),ng(e))}function ng(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Xs(Qs.fromString(t)),r=e.lc.next();e.uc.set(r,new Cy(n)),e.oc=e.oc.insert(n,r),Zm(e.remoteStore,new Dd(Df(Cf(n.path)),r,2,_c.ct))}}function rg(e,t,n){return ig.apply(this,arguments)}function ig(){return ig=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cs(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zv.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s,c,l;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hc.forEach(n,(function(t){return hc.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hc.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yc(e.t0)){e.next=10;break}throw e.t0;case 10:Zs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,g.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t){return og.apply(this,arguments)}function og(){return og=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Cs(t)).currentUser.isEqual(n)){e.next=11;break}return Zs("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ev(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Ns(As.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,rg(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}function ug(e,t){var n=Cs(e),r=n.uc.get(t);if(r&&r.ec)return nh().add(r.key);var i=nh(),a=n.ic.get(t);if(!a)return i;var o,u=(0,g.Z)(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),e.next=3,Mv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&eg(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),e.abrupt("return",Vv(r.localStore,n).then((function(e){return rg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t,n,r){return dg.apply(this,arguments)}function dg(){return dg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cs(t),e.next=3,function(e,t){var n=Cs(e),r=Cs(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):hc.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,jm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Yy(a,n,i||null),$y(a,n),function(e,t){Cs(Cs(e).mutationQueue).En(t)}(a.localStore,n)):Es();case 11:return e.next=13,rg(a,o);case 13:e.next=16;break;case 15:Zs("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){return vg.apply(this,arguments)}function vg(){return vg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s,c,l;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_g(r=Cs(t)),Ig(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,mg(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,ny(r.remoteStore,!0);case 9:o=(0,g.Z)(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Zm(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Xy(r,t),Dv(r.localStore,t,!0)})),_m(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,mg(r,c);case 21:return function(e){var t=Cs(e);t.uc.forEach((function(e,n){_m(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new ol(Xs.comparator)}(r),r.fc=!1,e.next=25,ny(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e,t,n){return yg.apply(this,arguments)}function yg(){return yg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Cs(t),a=[],o=[],u=(0,g.Z)(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Ov(i.localStore,Df(f[0]));case 11:l=e.sent,h=(0,g.Z)(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,sg(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Fv(i.localStore,c);case 36:return y=e.sent,e.next=39,Ov(i.localStore,y);case 39:return l=e.sent,e.next=42,Ry(i,gg(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),yg.apply(this,arguments)}function gg(e){return Tf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kg(e){var t=Cs(e);return Cs(Cs(t.localStore).persistence).bi()}function bg(e,t,n,r){return wg.apply(this,arguments)}function wg(){return wg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Cs(t)).fc){e.next=3;break}return e.abrupt("return",void Zs("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Vv(a.localStore,zf(o[0]));case 10:return u=e.sent,s=Wh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,pl.EMPTY_BYTE_STRING),e.next=14,rg(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Dv(a.localStore,n,!0);case 17:return Xy(a,n,i),e.abrupt("break",20);case 19:Es();case 20:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function xg(e,t,n){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_g(t)).fc){e.next=45;break}a=(0,g.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Zs("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Fv(i.localStore,u);case 12:return s=e.sent,e.next=15,Ov(i.localStore,s);case 15:return c=e.sent,e.next=18,Ry(i,gg(s),c.targetId,!1,c.resumeToken);case 18:Zm(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=(0,g.Z)(r),e.prev=30,h=(0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Dv(i.localStore,t,!1).then((function(){_m(i.remoteStore,t),Xy(i,t)})).catch(lc);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Zg.apply(this,arguments)}function _g(e){var t=Cs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ug.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zy.bind(null,t),t.nc.zo=yy.bind(null,t.eventManager),t.nc.wc=gy.bind(null,t.eventManager),t}function Ig(e){var t=Cs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gy.bind(null,t),t}function Sg(e,t,n){var r=Cs(e);(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Cs(e),r=cd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(_y(i)),a=new Zy(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,rg(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Cs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Is("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Eg=function(){function e(){(0,u.Z)(this,e),this.synchronizeTabs=!1}return(0,s.Z)(e,[{key:"initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=fm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Sv(this.persistence,new _v,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new dv(vv.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new em}},{key:"terminate",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tg=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,s.Z)(n,[{key:"initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var r=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,hi.Z)((0,di.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,Ig(this.mc.syncEngine);case 6:return e.next=8,jm(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Sv(this.persistence,new _v,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new qp(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Zc(t,this.persistence);return new xc(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=xv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Cp.withCacheSize(this.cacheSizeBytes):Cp.DEFAULT;return new kv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cm(),lm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new em}}]),n}(Eg),Cg=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,s.Z)(n,[{key:"initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var r,i=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,hi.Z)((0,di.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof Jv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:hg.bind(null,r),Mr:bg.bind(null,r),Fr:xg.bind(null,r),bi:kg.bind(null,r),Or:lg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pg(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=cm();if(!Jv.D(t))throw new Ns(As.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Tg),Ag=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Uy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ag.bind(null,this.syncEngine),e.next=12,ny(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new hy}},{key:"createDatastore",value:function(e){var t,n=fm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new sm(t));return function(e,t,n,r){return new mm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Uy(o.syncEngine,e,0)},a=nm.D()?new nm:new tm,new gm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ay(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cs(t),Zs("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,wm(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ng(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,Dn.Z)((0,On.Z)().mark((function r(){var i;return(0,On.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Pg=function(){function e(t){(0,u.Z)(this,e),this.observer=t,this.muted=!1}return(0,s.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Rg=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.Ic=t,this.serializer=n,this.metadata=new Ps,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return(0,s.Z)(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new wy(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Og=function(){function e(t){(0,u.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,s.Z)(e,[{key:"lookup",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ns(As.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),i=md(r.serializer)+"/documents",a={documents:n.map((function(e){return hd(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=bd(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ts(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Xs.fromPath(t);n.mutations.push(new Fh(r,n.precondition(r)))})),e.next=7,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t),i=md(r.serializer)+"/documents",a={writes:n.map((function(e){return wd(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Es();t=Ws.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ns(As.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ws.min())?xh.exists(!1):xh.updateTime(t):xh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ws.min()))throw new Ns(As.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xh.updateTime(t)}return xh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Dg=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new hm(this.asyncQueue,"transaction_retry")}return(0,s.Z)(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao((0,Dn.Z)((0,On.Z)().mark((function t(){var n,r;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Og(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ic(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Bh(t)}return!1}}]),e}(),Lg=function(){function e(t,n,r,i){var a=this;(0,u.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ks.UNAUTHENTICATED,this.clientId=zs.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,s.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ns(As.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Dn.Z)((0,On.Z)().mark((function n(){var r;return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=uy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Mg(e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ev(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function Vg(e,t){return jg.apply(this,arguments)}function jg(){return jg=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zg(t);case 3:return r=e.sent,Zs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ey(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ey(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Ug(e){return"FirebaseError"===e.name?e.code===As.FAILED_PRECONDITION||e.code===As.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function zg(e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Zs("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Mg(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ug(n=e.t0)){e.next=13;break}throw n;case 13:return Is("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Mg(t,new Eg);case 16:e.next=21;break;case 18:return Zs("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Mg(t,new Eg);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Bg.apply(this,arguments)}function qg(e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Zs("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Vg(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Zs("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Vg(t,new Ag);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e){return zg(e).then((function(e){return e.persistence}))}function Wg(e){return zg(e).then((function(e){return e.localStore}))}function Hg(e){return qg(e).then((function(e){return e.remoteStore}))}function Qg(e){return qg(e).then((function(e){return e.syncEngine}))}function $g(e){return qg(e).then((function(e){return e.datastore}))}function Yg(e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ny.bind(null,n.syncEngine),r.onUnlisten=Dy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Jg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function i(){return(0,On.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Pg({next:function(a){t.enqueueAndForget((function(){return vy(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ns(As.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ns(As.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new by(Cf(n.path),a,{includeMetadataChanges:!0,xu:!0});return dy(e,o)},i.next=3,Yg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ek(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function i(){return(0,On.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Pg({next:function(n){t.enqueueAndForget((function(){return vy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ns(As.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new by(n,a,{includeMetadataChanges:!0,xu:!0});return dy(e,o)},i.next=3,Yg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tk=new Map;function nk(e,t,n){if(!n)throw new Ns(As.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rk(e,t,n,r){if(!0===t&&!0===r)throw new Ns(As.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ik(e){if(!Xs.isDocumentKey(e))throw new Ns(As.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ak(e){if(Xs.isDocumentKey(e))throw new Ns(As.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ok(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Es()}function uk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ns(As.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ok(e);throw new Ns(As.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sk(e,t){if(t<=0)throw new Ns(As.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ck=function(){function e(t){var n;if((0,u.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ns(As.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ns(As.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,s.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lk=function(){function e(t,n,r,i){(0,u.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ck({}),this._settingsFrozen=!1}return(0,s.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Ns(As.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ns(As.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ck(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Os;switch(e.type){case"firstParty":return new Fs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ns(As.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tk.get(e);t&&(Zs("ComponentProvider","Removing Datastore"),tk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uk(e,lk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Is("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ks.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sn(JSON.stringify({alg:"none",type:"JWT"})),sn(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ns(As.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ks(s)}e._authCredentials=new Ds(new Rs(o,u))}}var hk=function(){function e(t,n,r){(0,u.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,s.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dk=function(){function e(t,n,r){(0,u.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,s.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this,e,r,Cf(i)))._path=i,a.type="collection",a}return(0,s.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hk(this.firestore,null,new Xs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(dk);function vk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),nk("collection","path",t),e instanceof lk){var a=Qs.fromString.apply(Qs,[t].concat(r));return ak(a),new pk(e,null,a)}if(!(e instanceof hk||e instanceof pk))throw new Ns(As.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qs.fromString.apply(Qs,[t].concat(r)));return ak(o),new pk(e.firestore,null,o)}function mk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),1===arguments.length&&(t=zs.A()),nk("doc","path",t),e instanceof lk){var a=Qs.fromString.apply(Qs,[t].concat(r));return ik(a),new hk(e,null,new Xs(a))}if(!(e instanceof hk||e instanceof pk))throw new Ns(As.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qs.fromString.apply(Qs,[t].concat(r)));return ik(o),new hk(e.firestore,e instanceof pk?e.converter:null,new Xs(o))}function yk(e,t){return e=Rn(e),t=Rn(t),(e instanceof hk||e instanceof pk)&&(t instanceof hk||t instanceof pk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gk(e,t){return e=Rn(e),t=Rn(t),e instanceof dk&&t instanceof dk&&e.firestore===t.firestore&&Ff(e._query,t._query)&&e.converter===t.converter}var kk=function(){function e(){var t=this;(0,u.Z)(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new hm(this,"async_queue_retry"),this.qc=function(){var e=lm();e&&Zs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=lm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return(0,s.Z)(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=lm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Ps;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yc(e.t0)){e.next=12;break}throw e.t0;case 12:Zs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _s("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=oy.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Es()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=(0,g.Z)(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,g.Z)(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function bk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,g.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var wk=function(){function e(){(0,u.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new Ps,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,s.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a){var o;return(0,u.Z)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new kk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,s.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||_k(this),this._firestoreClient.terminate()}}]),n}(lk);function Zk(e){return e._firestoreClient||_k(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _k(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new xl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Lg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Ik(e,t,n){var r=new Ps;return e.asyncQueue.enqueue((0,Dn.Z)((0,On.Z)().mark((function i(){var a;return(0,On.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mg(e,n);case 3:return i.next=5,Vg(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Ug(a=i.t0)){i.next=13;break}throw a;case 13:Is("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Sk(e){return function(e){return e.asyncQueue.enqueue((0,Dn.Z)((0,On.Z)().mark((function t(){var n,r;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gg(e);case 2:return n=t.sent,t.next=5,Hg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Cs(e);return t.du.delete(0),km(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zk(e=uk(e,xk)))}function Ek(e){return function(e){return e.asyncQueue.enqueue((0,Dn.Z)((0,On.Z)().mark((function t(){var n,r;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gg(e);case 2:return n=t.sent,t.next=5,Hg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cs(t)).du.add(0),e.next=4,wm(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zk(e=uk(e,xk)))}function Tk(e,t){var n=Zk(e=uk(e,xk)),r=new wk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Rg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ng(e,t);if(e instanceof ArrayBuffer)return Ng(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,fm(t));e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sg,t.next=3,Qg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Ck(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Dn.Z)((0,On.Z)().mark((function n(){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Cs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,Wg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Zk(e=uk(e,xk)),t).then((function(t){return t?new dk(e,null,t.query):null}))}function Ak(e){if(e._initialized||e._terminated)throw new Ns(As.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Nk=function(){function e(t){(0,u.Z)(this,e),this._byteString=t}return(0,s.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pl.fromBase64String(t))}catch(t){throw new Ns(As.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pl.fromUint8Array(t))}}]),e}(),Pk=function(){function e(){(0,u.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ns(As.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ys(n)}return(0,s.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rk=(0,s.Z)((function e(t){(0,u.Z)(this,e),this._methodName=t})),Ok=function(){function e(t,n){if((0,u.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new Ns(As.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ns(As.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,s.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bs(this._lat,e._lat)||Bs(this._long,e._long)}}]),e}(),Dk=/^__.*__$/,Lk=function(){function e(t,n,r){(0,u.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,s.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Nh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ah(e,this.data,t,this.fieldTransforms)}}]),e}(),Mk=function(){function e(t,n,r){(0,u.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,s.Z)(e,[{key:"toMutation",value:function(e,t){return new Nh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Fk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Es()}}var Vk=function(){function e(t,n,r,i,a,o){(0,u.Z)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,s.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return ab(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Fk(this.Yc)&&Dk.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),jk=function(){function e(t,n,r){(0,u.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||fm(t)}return(0,s.Z)(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vk({Yc:e,methodName:t,oa:n,path:Ys.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Uk(e){var t=e._freezeSettings(),n=fm(e._databaseId);return new jk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);tb("Data must be an object, but it was:",o,r);var u,s,c=Jk(r,o);if(a.merge)u=new hl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=(0,g.Z)(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=nb(t,l.value,n);if(!o.contains(d))throw new Ns(As.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));ob(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new hl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Lk(new Kl(c),u,s)}var Bk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rk);function qk(e,t,n){return new Vk({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Kk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"_toFieldTransform",value:function(e){return new bh(e.path,new hh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rk),Gk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).ca=r,i}return(0,s.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=qk(this,e,!0),n=this.ca.map((function(e){return Xk(e,t)})),r=new dh(n);return new bh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rk),Wk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).ca=r,i}return(0,s.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=qk(this,e,!0),n=this.ca.map((function(e){return Xk(e,t)})),r=new vh(n);return new bh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rk),Hk=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e)).aa=r,i}return(0,s.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new yh(e.serializer,uh(e.serializer,this.aa));return new bh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rk);function Qk(e,t,n,r){var i=e.ua(1,t,n);tb("Data must be an object, but it was:",i,r);var a=[],o=Kl.empty();il(r,(function(e,r){var u=ib(t,e,n);r=Rn(r);var s=i.na(u);if(r instanceof Bk)a.push(u);else{var c=Xk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new hl(a);return new Mk(o,u,i.fieldTransforms)}function $k(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[nb(t,r,n)],s=[i];if(a.length%2!=0)throw new Ns(As.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(nb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Kl.empty(),h=u.length-1;h>=0;--h)if(!ob(l,u[h])){var d=u[h],p=s[h];p=Rn(p);var v=o.na(d);if(p instanceof Bk)l.push(d);else{var m=Xk(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new hl(l);return new Mk(f,y,o.fieldTransforms)}function Yk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xk(n,e.ua(r?4:3,t))}function Xk(e,t){if(eb(e=Rn(e)))return tb("Unsupported field value:",t,e),Jk(e,t);if(e instanceof Rk)return function(e,t){if(!Fk(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,g.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=Xk(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gs.fromDate(e);return{timestampValue:od(t.serializer,n)}}if(e instanceof Gs){var r=new Gs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:od(t.serializer,r)}}if(e instanceof Ok)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nk)return{bytesValue:ud(t.serializer,e._byteString)};if(e instanceof hk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ld(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(ok(e)))}(e,t)}function Jk(e,t){var n={};return al(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,(function(e,r){var i=Xk(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gs||e instanceof Ok||e instanceof Nk||e instanceof hk||e instanceof Rk)}function tb(e,t,n){if(!eb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ok(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function nb(e,t,n){if((t=Rn(t))instanceof Pk)return t._internalPath;if("string"==typeof t)return ib(e,t);throw ab("Field path arguments must be of type string or ",e,!1,void 0,n)}var rb=new RegExp("[~\\*/\\[\\]]");function ib(e,t,n){if(t.search(rb)>=0)throw ab("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,fi.Z)(Pk,(0,o.Z)(t.split(".")))._internalPath}catch(r){throw ab("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ab(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ns(As.INVALID_ARGUMENT,u+e+s)}function ob(e,t){return e.some((function(e){return e.isEqual(t)}))}var ub=function(){function e(t,n,r,i,a){(0,u.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,s.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"data",value:function(){return(0,hi.Z)((0,di.Z)(n.prototype),"data",this).call(this)}}]),n}(ub);function cb(e,t){return"string"==typeof t?ib(e,t):t instanceof Pk?t._internalPath:t._delegate._internalPath}function lb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ns(As.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fb=(0,s.Z)((function e(){(0,u.Z)(this,e)})),hb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(fb);function db(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof fb&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof vb})).length,n=e.filter((function(e){return e instanceof pb})).length;if(t>1||t>0&&n>0)throw new Ns(As.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=(0,g.Z)(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var pb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return(0,s.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Eb(e._query,t),new dk(e.firestore,e.converter,Lf(e._query,t))}},{key:"_parse",value:function(e){var t=Uk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ns(As.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Sb(o,a);var s,c=[],l=(0,g.Z)(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Ib(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Ib(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Sb(o,a),u=Yk(n,"where",o,"in"===a||"not-in"===a);return ef.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hb);var vb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,s.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:tf.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=(0,g.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;Eb(r,o),r=Lf(r,o)}}catch(u){a.e(u)}finally{a.f()}}(e._query,t),new dk(e.firestore,e.converter,Lf(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(fb);var mb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,s.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ns(As.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ns(As.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yl(t,n);return function(e,t){if(null===Nf(e)){var n=Pf(e);null!==n&&Tb(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new dk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ef(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hb);var yb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return(0,s.Z)(n,[{key:"_apply",value:function(e){return new dk(e.firestore,e.converter,Mf(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hb);var gb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,s.Z)(n,[{key:"_apply",value:function(e){var t=_b(e,this.type,this._docOrFields,this._inclusive);return new dk(e.firestore,e.converter,function(e,t){return new Ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hb);function kb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gb._create("startAt",t,!0)}function bb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gb._create("startAfter",t,!1)}var wb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,s.Z)(n,[{key:"_apply",value:function(e){var t=_b(e,this.type,this._docOrFields,this._inclusive);return new dk(e.firestore,e.converter,function(e,t){return new Ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hb);function xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wb._create("endBefore",t,!1)}function Zb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wb._create("endAt",t,!0)}function _b(e,t,n,r){if(n[0]=Rn(n[0]),n[0]instanceof ub)return function(e,t,n,r,i){if(!r)throw new Ns(As.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=(0,g.Z)(Of(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rl(t,r.key));else{var c=r.data.field(s.field);if(kl(c))throw new Ns(As.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ns(As.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Hl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Uk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ns(As.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ns(As.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Rf(e)&&-1!==c.indexOf("/"))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qs.fromString(c));if(!Xs.isDocumentKey(l))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Xs(l);u.push(Rl(t,f))}else{var h=Yk(n,r,c);u.push(h)}}return new Hl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ib(e,t,n){if("string"==typeof(n=Rn(n))){if(""===n)throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rf(t)&&-1!==n.indexOf("/"))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qs.fromString(n));if(!Xs.isDocumentKey(r))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rl(e,new Xs(r))}if(n instanceof hk)return Rl(e,n._key);throw new Ns(As.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ok(n),"."))}function Sb(e,t){if(!Array.isArray(e)||0===e.length)throw new Ns(As.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Eb(e,t){if(t.isInequality()){var n=Pf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Nf(e);null!==i&&Tb(e,r,i)}var a=function(e,t){var n,r=(0,g.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=(0,g.Z)(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var u=i.value;if(t.indexOf(u.op)>=0)return u.op}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Ns(As.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ns(As.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Tb(e,t,n){if(!n.isEqual(t))throw new Ns(As.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Cb=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Es()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return il(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ok(yl(e.latitude),yl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ml(e);return new Gs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qs.fromString(e);Ts(Od(n));var r=new Zl(n.get(1),n.get(3)),i=new Xs(n.popFirst(5));return r.isEqual(t)||_s("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Ab(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Nb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,s.Z)(n,[{key:"convertBytes",value:function(e){return new Nk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hk(this.firestore,null,t)}}]),n}(Cb);var Pb=function(){function e(t,n){(0,u.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,s.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Rb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a,o,s){var c;return(0,u.Z)(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return(0,s.Z)(n,[{key:"exists",value:function(){return(0,hi.Z)((0,di.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ub),Ob=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,hi.Z)((0,di.Z)(n.prototype),"data",this).call(this,e)}}]),n}(Rb),Db=function(){function e(t,n,r,i){(0,u.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pb(i.hasPendingWrites,i.fromCache),this.query=r}return(0,s.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ob(n._firestore,n._userDataWriter,r.key,r,new Pb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ns(As.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ob(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ob(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Lb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Lb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Es()}}function Mb(e,t){return e instanceof Rb&&t instanceof Rb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Db&&t instanceof Db&&e._firestore===t._firestore&&gk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Fb=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,s.Z)(n,[{key:"convertBytes",value:function(e){return new Nk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hk(this.firestore,null,t)}}]),n}(Cb);function Vb(e){e=uk(e,hk);var t=uk(e.firestore,xk),n=Zk(t),r=new Fb(t);return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function r(){return(0,On.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Cs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ns(As.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=uy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Wg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Rb(t,r,e._key,n,new Pb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function jb(e){e=uk(e,dk);var t=uk(e.firestore,xk),n=Zk(t),r=new Fb(t);return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function r(){return(0,On.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mv(t,n,!0);case 3:i=e.sent,a=new Ey(n,i.Wi),o=a.zu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=uy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Wg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Db(t,r,e,n)}))}function Ub(e,t,n){e=uk(e,hk);var r=uk(e.firestore,xk),i=Ab(e.converter,t,n);return Kb(r,[zk(Uk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xh.none())])}function zb(e,t,n){e=uk(e,hk);for(var r=uk(e.firestore,xk),i=Uk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Kb(r,[("string"==typeof(t=Rn(t))||t instanceof Pk?$k(i,"updateDoc",e._key,t,n,o):Qk(i,"updateDoc",e._key,t)).toMutation(e._key,xh.exists(!0))])}function Bb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Rn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||bk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(bk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof hk)l=uk(e.firestore,xk),f=Cf(e._key.path),c={next:function(t){n[s]&&n[s](Gb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=uk(e,dk);l=uk(p.firestore,xk),f=p._query;var v=new Fb(l);c={next:function(e){n[s]&&n[s](new Db(l,v,p,e))},error:n[s+1],complete:n[s+2]},lb(e._query)}return function(e,t,n,r){var i=new Pg(r),a=new by(t,i,n);return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dy,t.next=3,Yg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vy,t.next=3,Yg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zk(l),f,h,c)}function qb(e,t){return function(e,t){var n=new Pg(t);return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cs(e).Au.add(t),t.next()},t.next=3,Yg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cs(e).Au.delete(t)},t.next=3,Yg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zk(e=uk(e,xk)),bk(t)?t:{next:t})}function Kb(e,t){return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function r(){return(0,On.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=My,r.next=3,Qg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zk(e),t)}function Gb(e,t,n){var r=n.docs.get(t._key),i=new Fb(e);return new Rb(e,i,t._key,r,new Pb(n.hasPendingWrites,n.fromCache),t.converter)}var Wb={maxAttempts:5},Hb=function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uk(t)}return(0,s.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Qb(e,this._firestore),i=Ab(r.converter,t,n),a=zk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,xh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Qb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Rn(t))||t instanceof Pk?$k(this._dataReader,"WriteBatch.update",i._key,t,n,o):Qk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Qb(e,this._firestore);return this._mutations=this._mutations.concat(new Mh(t._key,xh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ns(As.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Qb(e,t){if((e=Rn(e)).firestore!==t)throw new Ns(As.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $b=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,s.Z)(n,[{key:"get",value:function(e){var t=this,r=Qb(e,this._firestore),i=new Fb(this._firestore);return(0,hi.Z)((0,di.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new Rb(t._firestore,i,r._key,e._document,new Pb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Uk(t)}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this,n=Qb(e,this._firestore),r=new Nb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Es();var i=e[0];if(i.isFoundDocument())return new ub(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ub(t._firestore,r,n._key,null,n.converter);throw Es()}))}},{key:"set",value:function(e,t,n){var r=Qb(e,this._firestore),i=Ab(r.converter,t,n),a=zk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Qb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Rn(t))||t instanceof Pk?$k(this._dataReader,"Transaction.update",i._key,t,n,o):Qk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Qb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gk("arrayUnion",t)}function Xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bs=e}(Nr),_r(new Ln("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new xk(new Ls(e.getProvider("auth-internal")),new js(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ns(As.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Mr(gs,"3.10.0",e),Mr(gs,"3.10.0","esm2017")}();function Jb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ns("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ew(){if("undefined"===typeof Uint8Array)throw new Ns("unimplemented","Uint8Arrays are not available in this environment.")}function tw(){if("undefined"==typeof atob)throw new Ns("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nw=function(){function e(t){(0,u.Z)(this,e),this._delegate=t}return(0,s.Z)(e,[{key:"toBase64",value:function(){return tw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ew(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tw(),new e(Nk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ew(),new e(Nk.fromUint8Array(t))}}]),e}();function rw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=(0,g.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var iw=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Ak(e=uk(e,xk));var n=Zk(e);if(n._uninitializedComponentsProvider)throw new Ns(As.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Ag;return Ik(n,i,new Tg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Ak(e=uk(e,xk));var t=Zk(e);if(t._uninitializedComponentsProvider)throw new Ns(As.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Ag;return Ik(t,r,new Cg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ns(As.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ps;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Dn.Z)((0,On.Z)().mark((function n(){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pc.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,pc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),aw=function(){function e(t,n,r){var i=this;(0,u.Z)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zl||(this._appCompat=t)}return(0,s.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Is("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Sk(this._delegate)}},{key:"disableNetwork",value:function(){return Ek(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function n(){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Hy,n.next=3,Qg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Zk(e=uk(e,xk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ns("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new kw(this,vk(this._delegate,e))}catch(t){throw fw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lw(this,mk(this._delegate,e))}catch(t){throw fw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mw(this,function(e,t){if(e=uk(e,lk),nk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ns(As.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dk(e,null,function(e){return new Ef(Qs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=uk(e,xk);var r=Object.assign(Object.assign({},Wb),n);return function(e){if(e.maxAttempts<1)throw new Ns(As.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ps;return e.asyncQueue.enqueueAndForget((0,Dn.Z)((0,On.Z)().mark((function i(){var a;return(0,On.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,$g(e);case 2:a=i.sent,new Dg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Zk(e),(function(n){return t(new $b(e,n))}),r)}(this._delegate,(function(n){return e(new uw(t,n))}))}},{key:"batch",value:function(){var e=this;return Zk(this._delegate),new sw(new Hb(this._delegate,(function(t){return Kb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Tk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Ck(this._delegate,e).then((function(e){return e?new mw(t,e):null}))}}]),e}(),ow=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,s.Z)(n,[{key:"convertBytes",value:function(e){return new nw(new Nk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lw.forKey(t,this.firestore,null)}}]),n}(Cb);var uw=function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ow(t)}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this,n=bw(e);return this._delegate.get(n).then((function(e){return new pw(t._firestore,new Rb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=bw(e);return n?(Jb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bw(e);return this._delegate.delete(t),this}}]),e}(),sw=function(){function e(t){(0,u.Z)(this,e),this._delegate=t}return(0,s.Z)(e,[{key:"set",value:function(e,t,n){var r=bw(e);return n?(Jb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cw=function(){function e(t,n,r){(0,u.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,s.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new Ob(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ow(t),n),i.set(n,a)),a}}]),e}();cw.INSTANCES=new WeakMap;var lw=function(){function e(t,n){(0,u.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ow(t)}return(0,s.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new kw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new kw(this.firestore,vk(this._delegate,e))}catch(t){throw fw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Rn(e))instanceof hk&&yk(this._delegate,e)}},{key:"set",value:function(e,t){t=Jb("DocumentReference.set",t);try{return t?Ub(this._delegate,e,t):Ub(this._delegate,e)}catch(n){throw fw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?zb(this._delegate,e):zb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw fw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Kb(uk(e.firestore,xk),[new Mh(e._key,xh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hw(n),a=dw(n,(function(t){return new pw(e.firestore,new Rb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Bb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Vb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uk(e,hk);var t=uk(e.firestore,xk);return Jg(Zk(t),e._key,{source:"server"}).then((function(n){return Gb(t,e,n)}))}(this._delegate):function(e){e=uk(e,hk);var t=uk(e.firestore,xk);return Jg(Zk(t),e._key).then((function(n){return Gb(t,e,n)}))}(this._delegate),t.then((function(e){return new pw(n.firestore,new Rb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ns("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new hk(n._delegate,r,new Xs(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new hk(n._delegate,r,t))}}]),e}();function fw(e,t,n){return e.message=e.message.replace(t,n),e}function hw(e){var t,n=(0,g.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function dw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rw(e[0])?e[0]:rw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pw=function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._delegate=n}return(0,s.Z)(e,[{key:"ref",get:function(){return new lw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Mb(this._delegate,e._delegate)}}]),e}(),vw=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Es()}(void 0!==t),t}}]),n}(pw),mw=function(){function e(t,n){(0,u.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ow(t)}return(0,s.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,db(this._delegate,function(e,t,n){var r=t,i=cb("where",e);return pb._create(i,r,n)}(t,n,r)))}catch(i){throw fw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,db(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cb("orderBy",e);return mb._create(n,t)}(t,n)))}catch(r){throw fw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,db(this._delegate,function(e){return sk("limit",e),yb._create("limit",e,"F")}(t)))}catch(n){throw fw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,db(this._delegate,function(e){return sk("limitToLast",e),yb._create("limitToLast",e,"L")}(t)))}catch(n){throw fw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,db(this._delegate,kb.apply(void 0,arguments)))}catch(t){throw fw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,db(this._delegate,bb.apply(void 0,arguments)))}catch(t){throw fw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,db(this._delegate,xb.apply(void 0,arguments)))}catch(t){throw fw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,db(this._delegate,Zb.apply(void 0,arguments)))}catch(t){throw fw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uk(e,dk);var t=uk(e.firestore,xk),n=Zk(t),r=new Fb(t);return ek(n,e._query,{source:"server"}).then((function(n){return new Db(t,r,e,n)}))}(this._delegate):function(e){e=uk(e,dk);var t=uk(e.firestore,xk),n=Zk(t),r=new Fb(t);return lb(e._query),ek(n,e._query).then((function(n){return new Db(t,r,e,n)}))}(this._delegate),t.then((function(e){return new gw(n.firestore,new Db(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hw(n),a=dw(n,(function(t){return new gw(e.firestore,new Db(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Bb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yw=function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._delegate=n}return(0,s.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),gw=function(){function e(t,n){(0,u.Z)(this,e),this._firestore=t,this._delegate=n}return(0,s.Z)(e,[{key:"query",get:function(){return new mw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Mb(this._delegate,e._delegate)}}]),e}(),kw=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,s.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lw(this.firestore,void 0===e?mk(this._delegate):mk(this._delegate,e))}catch(t){throw fw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uk(e.firestore,xk),r=mk(e),i=Ab(e.converter,t);return Kb(n,[zk(Uk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mw);function bw(e){return uk(e,hk)}var ww,xw=function(){function e(){(0,u.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=(0,fi.Z)(Pk,n)}return(0,s.Z)(e,[{key:"isEqual",value:function(e){return(e=Rn(e))instanceof Pk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ys.keyField().canonicalString())}}]),e}(),Zw=function(){function e(t){(0,u.Z)(this,e),this._delegate=t}return(0,s.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Kk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Bk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Yb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Xb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Hk("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),_w={Firestore:aw,GeoPoint:Ok,Timestamp:Gs,Blob:nw,Transaction:uw,WriteBatch:sw,DocumentReference:lw,DocumentSnapshot:pw,Query:mw,QueryDocumentSnapshot:vw,QuerySnapshot:gw,CollectionReference:kw,FieldPath:xw,FieldValue:Zw,setLogLevel:function(e){!function(e){ws.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ln("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},_w)))})(ww=ci,(function(e,t){return new aw(e,t,new iw)})),ww.registerVersion("@firebase/firestore-compat","0.3.6");function Iw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Sw;Object.create;var Ew={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Tw="EMAIL_SIGNIN",Cw="PASSWORD_RESET",Aw="RECOVER_EMAIL",Nw="REVERT_SECOND_FACTOR_ADDITION",Pw="VERIFY_AND_CHANGE_EMAIL",Rw="VERIFY_EMAIL";function Ow(){return(0,qe.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Dw=function(){var e;return e={},(0,qe.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,qe.Z)(e,"argument-error",""),(0,qe.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,qe.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,qe.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,qe.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,qe.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,qe.Z)(e,"cors-unsupported","This browser is not supported."),(0,qe.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,qe.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,qe.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,qe.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,qe.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,qe.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,qe.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,qe.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,qe.Z)(e,"expired-action-code","The action code has expired."),(0,qe.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,qe.Z)(e,"internal-error","An internal AuthError has occurred."),(0,qe.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,qe.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,qe.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,qe.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,qe.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,qe.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,qe.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,qe.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,qe.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,qe.Z)(e,"invalid-email","The email address is badly formatted."),(0,qe.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,qe.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,qe.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,qe.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,qe.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,qe.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,qe.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,qe.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,qe.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,qe.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,qe.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,qe.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,qe.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,qe.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,qe.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,qe.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,qe.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,qe.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,qe.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,qe.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,qe.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,qe.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,qe.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,qe.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,qe.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,qe.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,qe.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,qe.Z)(e,"missing-password","A non-empty password must be provided"),(0,qe.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,qe.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,qe.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,qe.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,qe.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,qe.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,qe.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,qe.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,qe.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,qe.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,qe.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,qe.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,qe.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,qe.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,qe.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,qe.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,qe.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,qe.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,qe.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,qe.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,qe.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,qe.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,qe.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,qe.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,qe.Z)(e,"timeout","The operation has timed out."),(0,qe.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,qe.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,qe.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,qe.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,qe.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,qe.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,qe.Z)(e,"unverified-email","The operation requires a verified email."),(0,qe.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,qe.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,qe.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,qe.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,qe.Z)(e,"user-signed-out",""),(0,qe.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,qe.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,qe.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Lw=Ow,Mw=new xn("auth","Firebase",Ow()),Fw=new Wn("@firebase/auth");function Vw(e){if(Fw.logLevel<=jn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fw.error.apply(Fw,["Auth (".concat(Nr,"): ").concat(e)].concat(n))}}function jw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qw.apply(void 0,[e].concat(n))}function Uw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qw.apply(void 0,[e].concat(n))}function zw(e,t,n){var r=Object.assign(Object.assign({},Lw()),(0,qe.Z)({},t,n));return new xn("auth","Firebase",r).create(t,{appName:e.name})}function Bw(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&jw(e,"argument-error"),zw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],u=(0,o.Z)(n.slice(1));return u[0]&&(u[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,o.Z)(u)))}return Mw.create.apply(Mw,[e].concat(n))}function Kw(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qw.apply(void 0,[t].concat(r))}}function Gw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Vw(t),new Error(t)}function Ww(e,t){e||Gw(t)}var Hw=new Map;function Qw(e){Ww(e instanceof Function,"Expected a class definition");var t=Hw.get(e);return t?(Ww(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hw.set(e,t),t)}function $w(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yw(){return"http:"===Xw()||"https:"===Xw()}function Xw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Jw=function(){function e(t,n){(0,u.Z)(this,e),this.shortDelay=t,this.longDelay=n,Ww(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())||gn()}return(0,s.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yw()||yn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ex(e,t){Ww(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var tx=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),nx=(Sw={},(0,qe.Z)(Sw,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,qe.Z)(Sw,"MISSING_CUSTOM_TOKEN","internal-error"),(0,qe.Z)(Sw,"INVALID_IDENTIFIER","invalid-email"),(0,qe.Z)(Sw,"MISSING_CONTINUE_URI","internal-error"),(0,qe.Z)(Sw,"INVALID_PASSWORD","wrong-password"),(0,qe.Z)(Sw,"MISSING_PASSWORD","missing-password"),(0,qe.Z)(Sw,"EMAIL_EXISTS","email-already-in-use"),(0,qe.Z)(Sw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,qe.Z)(Sw,"INVALID_IDP_RESPONSE","invalid-credential"),(0,qe.Z)(Sw,"INVALID_PENDING_TOKEN","invalid-credential"),(0,qe.Z)(Sw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,qe.Z)(Sw,"MISSING_REQ_TYPE","internal-error"),(0,qe.Z)(Sw,"EMAIL_NOT_FOUND","user-not-found"),(0,qe.Z)(Sw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,qe.Z)(Sw,"EXPIRED_OOB_CODE","expired-action-code"),(0,qe.Z)(Sw,"INVALID_OOB_CODE","invalid-action-code"),(0,qe.Z)(Sw,"MISSING_OOB_CODE","internal-error"),(0,qe.Z)(Sw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,qe.Z)(Sw,"INVALID_ID_TOKEN","invalid-user-token"),(0,qe.Z)(Sw,"TOKEN_EXPIRED","user-token-expired"),(0,qe.Z)(Sw,"USER_NOT_FOUND","user-token-expired"),(0,qe.Z)(Sw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,qe.Z)(Sw,"INVALID_CODE","invalid-verification-code"),(0,qe.Z)(Sw,"INVALID_SESSION_INFO","invalid-verification-id"),(0,qe.Z)(Sw,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,qe.Z)(Sw,"MISSING_SESSION_INFO","missing-verification-id"),(0,qe.Z)(Sw,"SESSION_EXPIRED","code-expired"),(0,qe.Z)(Sw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,qe.Z)(Sw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,qe.Z)(Sw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,qe.Z)(Sw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,qe.Z)(Sw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,qe.Z)(Sw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,qe.Z)(Sw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,qe.Z)(Sw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,qe.Z)(Sw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,qe.Z)(Sw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,qe.Z)(Sw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Sw),rx=new Jw(3e4,6e4);function ix(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ax(e,t,n,r){return ox.apply(this,arguments)}function ox(){return ox=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ux(t,a,(0,Dn.Z)((0,On.Z)().mark((function e(){var a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=En(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",tx.fetch()(fx(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},nx),n),e.prev=2,o=new hx(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw dx(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw dx(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw dx(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw dx(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw zw(t,p,d);case 34:jw(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof wn)){e.next=41;break}throw e.t0;case 41:jw(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),sx.apply(this,arguments)}function cx(e,t,n,r){return lx.apply(this,arguments)}function lx(){return lx=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ax(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&jw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ex(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var hx=function(){function e(t){var n=this;(0,u.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Uw(n.auth,"network-request-failed"))}),rx.get())}))}return(0,s.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function dx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Uw(e,t,r);return i.customData._tokenResponse=n,i}function px(e,t){return vx.apply(this,arguments)}function vx(){return(vx=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mx(e,t){return yx.apply(this,arguments)}function yx(){return(yx=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return(kx=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wx(){return wx=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Rn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Kw((a=Zx(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bx(xx(a.auth_time)),issuedAtTime:bx(xx(a.iat)),expirationTime:bx(xx(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e){return 1e3*Number(e)}function Zx(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return Vw("JWT malformed, contained fewer than 3 sections"),null;try{var u=cn(i);return u?JSON.parse(u):(Vw("Failed to decode base64 JWT payload"),null)}catch(s){return Vw("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function _x(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof wn&&Sx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ix.apply(this,arguments)}function Sx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ex=function(){function e(t){(0,u.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,s.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tx=function(){function e(t,n){(0,u.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,s.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bx(this.lastLoginAt),this.creationTime=bx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Cx(e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,_x(t,gx(r,{idToken:i}));case 6:Kw(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Iw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Px(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Tx(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Nx(){return(Nx=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rn(t),e.next=3,Cx(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Px(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,o.Z)(n),(0,o.Z)(t))}function Rx(e,t){return Ox.apply(this,arguments)}function Ox(){return(Ox=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(t,{},(0,Dn.Z)((0,On.Z)().mark((function e(){var r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=En({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=fx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",tx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dx=function(){function e(){(0,u.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,s.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Kw(e.idToken,"internal-error"),Kw("undefined"!==typeof e.idToken,"internal-error"),Kw("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zx(e);return Kw(t,"internal-error"),Kw("undefined"!==typeof t.exp,"internal-error"),Kw("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Kw(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Kw("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Kw("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Kw("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Lx(e,t){Kw("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Mx=function(){function e(t){(0,u.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Iw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ex(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,o.Z)(a.providerData):[],this.metadata=new Tx(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,s.Z)(e,[{key:"getIdToken",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_x(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Kw(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wx.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Nx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Kw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Kw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Cx(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,_x(this,px(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,Z=n.stsTokenManager;Kw(k&&Z,t,"internal-error");var _=Dx.fromJSON(this.name,Z);Kw("string"===typeof k,t,"internal-error"),Lx(f,t.name),Lx(h,t.name),Kw("boolean"===typeof b,t,"internal-error"),Kw("boolean"===typeof w,t,"internal-error"),Lx(d,t.name),Lx(p,t.name),Lx(v,t.name),Lx(m,t.name),Lx(y,t.name),Lx(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n,r){var i,a,o,u=arguments;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Dx).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Cx(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Fx=function(){function e(){(0,u.Z)(this,e),this.type="NONE",this.storage={}}return(0,s.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fx.type="NONE";var Vx=Fx;function jx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ux=function(){function e(t,n,r){(0,u.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=jx(this.userKey,a.apiKey,o),this.fullPersistenceKey=jx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,s.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Mx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Qw(Vx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Qw(Vx),u=jx(i,n.config.apiKey,n.name),s=null,c=(0,g.Z)(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Mx._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function zx(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hx(t))return"Blackberry";if(Qx(t))return"Webos";if(qx(t))return"Safari";if((t.includes("chrome/")||Kx(t))&&!t.includes("edge/"))return"Chrome";if(Wx(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Bx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/firefox\//i.test(e)}function qx(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/crios\//i.test(e)}function Gx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iemobile/i.test(e)}function Wx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/android/i.test(e)}function Hx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/blackberry/i.test(e)}function Qx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/webos/i.test(e)}function $x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return $x(e)||Wx(e)||Qx(e)||Hx(e)||/windows phone/i.test(e)||Gx(e)}function Xx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zx(vn());break;case"Worker":t="".concat(zx(vn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nr,"/").concat(r)}var Jx=function(){function e(t){(0,u.Z)(this,e),this.auth=t,this.queue=[]}return(0,s.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=(0,g.Z)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=(0,g.Z)(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),eZ=function(){function e(t,n,r){(0,u.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nZ(this),this.idTokenSubscription=new nZ(this),this.beforeStateQueue=new Jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,s.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Qw(t)),this._initializationPromise=this.queue((0,Dn.Z)((0,On.Z)().mark((function r(){var i,a;return(0,On.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ux.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Kw(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cx(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Rn(t):null)&&Kw(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Kw(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,Dn.Z)((0,On.Z)().mark((function n(){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Qw(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new xn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Kw(n=t&&Qw(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ux.create(this,[Qw(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Kw(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Kw(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,qe.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tZ(e){return Rn(e)}var nZ=function(){function e(t){var n=this;(0,u.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=An((function(e){return n.observer=e}))}return(0,s.Z)(e,[{key:"next",get:function(){return Kw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function rZ(e,t,n){var r=tZ(e);Kw(r._canInitEmulator,r,"emulator-config-failed"),Kw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=iZ(t),u=function(e){var t=iZ(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:aZ(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:aZ(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function iZ(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aZ(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var oZ=function(){function e(t,n){(0,u.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,s.Z)(e,[{key:"toJSON",value:function(){return Gw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gw("not implemented")}}]),e}();function uZ(e,t){return sZ.apply(this,arguments)}function sZ(){return(sZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:resetPassword",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cZ(e,t){return lZ.apply(this,arguments)}function lZ(){return(lZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fZ(e,t){return hZ.apply(this,arguments)}function hZ(){return(hZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:update",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dZ(e,t){return pZ.apply(this,arguments)}function pZ(){return(pZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithPassword",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vZ(e,t){return mZ.apply(this,arguments)}function mZ(){return(mZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:sendOobCode",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yZ(e,t){return gZ.apply(this,arguments)}function gZ(){return(gZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vZ(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kZ(e,t){return bZ.apply(this,arguments)}function bZ(){return(bZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vZ(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wZ(e,t){return xZ.apply(this,arguments)}function xZ(){return(xZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vZ(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZZ(e,t){return _Z.apply(this,arguments)}function _Z(){return(_Z=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vZ(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IZ(e,t){return SZ.apply(this,arguments)}function SZ(){return(SZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithEmailLink",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EZ(e,t){return TZ.apply(this,arguments)}function TZ(){return(TZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithEmailLink",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,u.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,s.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",dZ(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",IZ(t,{email:this._email,oobCode:this._password}));case 5:jw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cZ(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",EZ(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:jw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(oZ);function AZ(e,t){return NZ.apply(this,arguments)}function NZ(){return(NZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithIdp",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,s.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return AZ(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,AZ(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,AZ(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=En(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Iw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(oZ);function RZ(e,t){return OZ.apply(this,arguments)}function OZ(){return(OZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:sendVerificationCode",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DZ(){return(DZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithPhoneNumber",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LZ(){return(LZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(t,"POST","/v1/accounts:signInWithPhoneNumber",ix(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw dx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MZ=(0,qe.Z)({},"USER_NOT_FOUND","user-not-found");function FZ(){return(FZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithPhoneNumber",ix(t,r),MZ));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,s.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return DZ.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return LZ.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return FZ.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(oZ);var jZ=function(){function e(t){var n,r,i,a,o,s;(0,u.Z)(this,e);var c=Tn(Cn(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Kw(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return(0,s.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Tn(Cn(e)).link,n=t?Tn(Cn(t)).deep_link_id:null,r=Tn(Cn(e)).deep_link_id;return(r?Tn(Cn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ag){return null}}}]),e}();var UZ=function(){function e(){(0,u.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,s.Z)(e,null,[{key:"credential",value:function(e,t){return CZ._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jZ.parseLink(t);return Kw(n,"argument-error"),CZ._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();UZ.PROVIDER_ID="password",UZ.EMAIL_PASSWORD_SIGN_IN_METHOD="password",UZ.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var zZ=function(){function e(t){(0,u.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,s.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),BZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,s.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,o.Z)(this.scopes)}}]),n}(zZ),qZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Kw(e.idToken||e.accessToken,"argument-error"),PZ._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Kw("providerId"in t&&"signInMethod"in t,"argument-error"),PZ._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(BZ),KZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.call(this,"facebook.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e){return PZ._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ag){return null}}}]),n}(BZ);KZ.FACEBOOK_SIGN_IN_METHOD="facebook.com",KZ.PROVIDER_ID="facebook.com";var GZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,s.Z)(n,null,[{key:"credential",value:function(e,t){return PZ._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ag){return null}}}]),n}(BZ);GZ.GOOGLE_SIGN_IN_METHOD="google.com",GZ.PROVIDER_ID="google.com";var WZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.call(this,"github.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e){return PZ._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ag){return null}}}]),n}(BZ);WZ.GITHUB_SIGN_IN_METHOD="github.com",WZ.PROVIDER_ID="github.com";var HZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,u.Z)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,s.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return AZ(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,AZ(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,AZ(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oZ),QZ=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,u.Z)(this,n),Kw(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,s.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=HZ.fromJSON(e);return Kw(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return HZ._create(r,n)}catch(i){return null}}}]),n}(zZ),$Z=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.call(this,"twitter.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e,t){return PZ._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ag){return null}}}]),n}(BZ);function YZ(e,t){return XZ.apply(this,arguments)}function XZ(){return(XZ=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signUp",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$Z.TWITTER_SIGN_IN_METHOD="twitter.com",$Z.PROVIDER_ID="twitter.com";var JZ=function(){function e(t){(0,u.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,s.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n,r,i){var a,o,u,s,c=arguments;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Mx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=e_(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n,r,i){var a;return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=e_(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function e_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function t_(){return t_=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tZ(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new JZ({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,YZ(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,JZ._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}var n_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a){var o,s;return(0,u.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,nt.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,s.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(wn);function r_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw n_._fromErrorAndOperation(e,n,t,r);throw n}))}function i_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rn(t),e.next=3,c_(!0,r,n);case 3:return e.t0=mx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=i_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=_x,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",JZ._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return(l_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cx(n);case 2:i=i_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Kw(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,_x(t,r_(i,a,n,t),r);case 6:return Kw((o=e.sent).idToken,i,"internal-error"),Kw(u=Zx(o.idToken),i,"internal-error"),s=u.sub,Kw(t.uid===s,i,"user-mismatch"),e.abrupt("return",JZ._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&jw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),h_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,r_(t,i,n);case 4:return a=e.sent,e.next=7,JZ._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return m_.apply(this,arguments)}function m_(){return(m_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d_(tZ(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return(g_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rn(t),e.next=3,c_(!1,r,n.providerId);case 3:return e.abrupt("return",u_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return(b_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f_(Rn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return(x_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cx(t,"POST","/v1/accounts:signInWithCustomToken",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z_(){return(Z_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tZ(t),e.next=3,w_(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,JZ._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var __=function(){function e(t,n){(0,u.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,s.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?I_._fromServerResponse(e,t):"totpInfo"in t?S_._fromServerResponse(e,t):jw(e,"internal-error")}}]),e}(),I_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,s.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(__),S_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,"totp",e)}return(0,s.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(__);function E_(e,t,n){var r;Kw((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Kw("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Kw(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Kw(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function T_(){return(T_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),a={requestType:"PASSWORD_RESET",email:n},r&&E_(i,a,r),e.next=5,kZ(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C_(){return(C_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uZ(Rn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(){return(A_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fZ(Rn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t){return P_.apply(this,arguments)}function P_(){return(P_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rn(t),e.next=3,uZ(r,{oobCode:n});case 3:i=e.sent,Kw(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Kw(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Kw(i.mfaInfo,r,"internal-error");case 13:Kw(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=__._fromServerResponse(tZ(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(){return(R_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_(Rn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e,t,n){return D_.apply(this,arguments)}function D_(){return(D_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tZ(t),e.next=3,YZ(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,JZ._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(){return(L_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),a={requestType:"EMAIL_SIGNIN",email:n},Kw(r.handleCodeInApp,i,"argument-error"),r&&E_(i,a,r),e.next=6,wZ(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M_(){return(M_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),Kw((a=UZ.credentialWithLink(n,r||$w()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",v_(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t){return V_.apply(this,arguments)}function V_(){return(V_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:createAuthUri",ix(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j_(){return(j_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yw()?$w():"http://localhost",i={identifier:n,continueUri:r},e.next=4,F_(Rn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U_(){return(U_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&E_(r.auth,a,n),e.next=8,yZ(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z_(){return(z_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&E_(i.auth,o,r),e.next=8,ZZ(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B_(e,t){return q_.apply(this,arguments)}function q_(){return(q_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ax(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(){return(K_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s,c;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Rn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,_x(a,B_(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(e,t,n){return W_.apply(this,arguments)}function W_(){return(W_=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,_x(t,cZ(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H_=(0,s.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Q_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a){var o;return(0,u.Z)(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,s.Z)(n)}(H_),$_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,s.Z)(n)}(H_),Y_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,s.Z)(n)}(Q_),X_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,u.Z)(this,n),t.call(this,e,"google.com",r)}return(0,s.Z)(n)}(H_),J_=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){return(0,u.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,s.Z)(n)}(Q_);function eI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Zx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new H_(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $_(a,i);case"github.com":return new Y_(a,i);case"google.com":return new X_(a,i);case"twitter.com":return new J_(a,i,e.screenName||null);case"custom":case"anonymous":return new H_(a,null);default:return new H_(a,r,i)}}(n)}var tI=function(){function e(t,n,r){(0,u.Z)(this,e),this.type=t,this.credential=n,this.auth=r}return(0,s.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,qe.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),nI=function(){function e(t,n,r){(0,u.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,s.Z)(e,[{key:"resolveSignIn",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=tZ(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return __._fromServerResponse(r,e)}));Kw(i.mfaPendingCredential,r,"internal-error");var o=tI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var a,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,JZ._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Kw(n.user,r,"internal-error"),e.abrupt("return",JZ._forOperation(n.user,n.operationType,u));case 17:jw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function rI(e,t){return ax(e,"POST","/v2/accounts/mfaEnrollment:start",ix(e,t))}function iI(e,t){return ax(e,"POST","/v2/accounts/mfaEnrollment:finalize",ix(e,t))}var aI=function(){function e(t){var n=this;(0,u.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return __._fromServerResponse(t.auth,e)})))}))}return(0,s.Z)(e,[{key:"getSession",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,_x(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,_x(this.user,ax(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ix(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),oI=new WeakMap;var uI="__sak",sI=function(){function e(t,n){(0,u.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,s.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uI,"1"),this.storage.removeItem(uI),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ag){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cI=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vn();return qx(e)||$x(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Yx(),e._shouldAllowMigration=!0,e}return(0,s.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);kn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,r){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,hi.Z)((0,di.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,hi.Z)((0,di.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,hi.Z)((0,di.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sI);cI.type="LOCAL";var lI=cI,fI=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,u.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,s.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sI);fI.type="SESSION";var hI=fI;function dI(e){return Promise.all(e.map(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pI=function(){function e(t){(0,u.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,s.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s,c;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dI(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pI.receivers=[];var mI=function(){function e(t){(0,u.Z)(this,e),this.target=t,this.handlers=new Set}return(0,s.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=vI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yI(){return window}function gI(){return"undefined"!==typeof yI().WorkerGlobalScope&&"function"===typeof yI().importScripts}function kI(){return bI.apply(this,arguments)}function bI(){return(bI=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xI="firebaseLocalStorageDb",ZI="firebaseLocalStorage",_I="fbase_key",II=function(){function e(t){(0,u.Z)(this,e),this.request=t}return(0,s.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function SI(e,t){return e.transaction([ZI],t?"readwrite":"readonly").objectStore(ZI)}function EI(){var e=indexedDB.deleteDatabase(xI);return new II(e).toPromise()}function TI(){var e=indexedDB.open(xI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ZI,{keyPath:_I})}catch(r){n(r)}})),e.addEventListener("success",(0,Dn.Z)((0,On.Z)().mark((function n(){var r;return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ZI)){n.next=12;break}return r.close(),n.next=5,EI();case 5:return n.t0=t,n.next=8,TI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function CI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=SI(t,!0).put((i={},(0,qe.Z)(i,_I,n),(0,qe.Z)(i,"value",r),i)),e.abrupt("return",new II(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t){return PI.apply(this,arguments)}function PI(){return PI=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SI(t,!1).get(n),e.next=3,new II(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function RI(e,t){var n=SI(e,!0).delete(t);return new II(n).toPromise()}var OI=function(){function e(){(0,u.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,s.Z)(e,[{key:"_openDb",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,TI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pI._getInstance(gI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(n,r){var i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,TI();case 5:return t=e.sent,e.next=8,CI(t,uI,"1");case 8:return e.next=10,RI(t,uI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return CI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return NI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return RI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=SI(e,!1).getAll();return new II(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,g.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,Dn.Z)((0,On.Z)().mark((function t(){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();OI.type="LOCAL";var DI=OI;function LI(e,t){return ax(e,"POST","/v2/accounts/mfaSignIn:start",ix(e,t))}function MI(e,t){return ax(e,"POST","/v2/accounts/mfaSignIn:finalize",ix(e,t))}function FI(e){return VI.apply(this,arguments)}function VI(){return(VI=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ax(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Uw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function UI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zI=1e12,BI=function(){function e(t){(0,u.Z)(this,e),this.auth=t,this.counter=zI,this._widgets=new Map}return(0,s.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||zI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||zI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||zI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qI=function(){function e(t,n,r){var i=this;(0,u.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Kw(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,s.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var KI=UI("rcb"),GI=new Jw(3e4,6e4),WI=function(){function e(){var t;(0,u.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=yI().grecaptcha)||void 0===t?void 0:t.render)}return(0,s.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Kw(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(yI().grecaptcha):new Promise((function(r,i){var a=yI().setTimeout((function(){i(Uw(e,"network-request-failed"))}),GI.get());yI()[KI]=function(){yI().clearTimeout(a),delete yI()[KI];var o=yI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Uw(e,"internal-error"))},jI("".concat("https://www.google.com/recaptcha/api.js?","?").concat(En({onload:KI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Uw(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=yI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var HI=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"load",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new BI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),QI="recaptcha",$I={theme:"light",type:"image"},YI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$I),r=arguments.length>2?arguments[2]:void 0;(0,u.Z)(this,e),this.parameters=n,this.type=QI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tZ(r),this.isInvisible="invisible"===this.parameters.size,Kw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Kw(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HI:new WI,this.validateStartingState()}return(0,s.Z)(e,[{key:"verify",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n,r,i=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Kw(!this.parameters.sitekey,this.auth,"argument-error"),Kw(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Kw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=yI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Kw(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kw(Yw()&&!gI(),this.auth,"internal-error"),e.next=3,XI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,FI(this.auth);case 8:Kw(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Kw(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function XI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var JI=function(){function e(t,n){(0,u.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,s.Z)(e,[{key:"confirm",value:function(e){var t=VZ._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function eS(){return(eS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tZ(t),e.next=3,iS(i,n,Rn(r));case 3:return a=e.sent,e.abrupt("return",new JI(a,(function(e){return v_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return(nS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),e.next=3,c_(!1,i,"phone");case 3:return e.next=5,iS(i.auth,n,Rn(r));case 5:return a=e.sent,e.abrupt("return",new JI(a,(function(e){return y_(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(){return(rS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rn(t),e.next=3,iS(i.auth,n,Rn(r));case 3:return a=e.sent,e.abrupt("return",new JI(a,(function(e){return k_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return aS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Kw("string"===typeof a,t,"argument-error"),Kw(r.type===QI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Kw("enroll"===u.type,t,"internal-error"),e.next=13,rI(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Kw("signin"===u.type,t,"internal-error"),Kw(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,LI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,RZ(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),aS.apply(this,arguments)}function oS(){return(oS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u_(Rn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uS=function(){function e(t){(0,u.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=tZ(t)}return(0,s.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return iS(this.auth,e,Rn(t))}}],[{key:"credential",value:function(e,t){return VZ._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?VZ._fromTokenResponse(n,r):null}}]),e}();function sS(e,t){return t?Qw(t):(Kw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}uS.PROVIDER_ID="phone",uS.PHONE_SIGN_IN_METHOD="phone";var cS=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,s.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return AZ(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return AZ(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return AZ(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(oZ);function lS(e){return d_(e.auth,new cS(e),e.bypassAuthState)}function fS(e){var t=e.auth,n=e.user;return Kw(n,t,"internal-error"),f_(n,new cS(e),e.bypassAuthState)}function hS(e){return dS.apply(this,arguments)}function dS(){return(dS=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Kw(r=t.user,n,"internal-error"),e.abrupt("return",u_(r,new cS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,u.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,s.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,Dn.Z)((0,On.Z)().mark((function t(n,r){return(0,On.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lS;case"linkViaPopup":case"linkViaRedirect":return hS;case"reauthViaPopup":case"reauthViaRedirect":return fS;default:jw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ww(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ww(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vS=new Jw(2e3,1e4);function mS(e,t,n){return yS.apply(this,arguments)}function yS(){return(yS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tZ(t),Bw(t,n,zZ),a=sS(i,r),o=new wS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gS(){return(gS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw((i=Rn(t)).auth,n,zZ),a=sS(i.auth,r),o=new wS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kS(e,t,n){return bS.apply(this,arguments)}function bS(){return(bS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw((i=Rn(t)).auth,n,zZ),a=sS(i.auth,r),o=new wS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wS=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,a,o){var s;return(0,u.Z)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,nt.Z)(s),s}return(0,s.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Kw(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,n=this;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww(1===this.filter.length,"Popup operations only handle one event"),t=vI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Uw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Uw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Uw(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,vS.get())}()}}]),n}(pS);wS.currentPopupAction=null;var xS="pendingRedirect",ZS=new Map,_S=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,u.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,s.Z)(n,[{key:"execute",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ZS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,IS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,(0,hi.Z)((0,di.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ZS.set(this.auth._key(),t);case 21:return this.bypassAuthState||ZS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,hi.Z)((0,di.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",(0,hi.Z)((0,di.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pS);function IS(e,t){return SS.apply(this,arguments)}function SS(){return(SS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(n),i=AS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t){return TS.apply(this,arguments)}function TS(){return(TS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AS(t)._set(NS(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CS(e,t){ZS.set(e._key(),t)}function AS(e){return Qw(e._redirectPersistence)}function NS(e){return jx(xS,e.config.apiKey,e.name)}function PS(e,t,n){return function(e,t,n){return RS.apply(this,arguments)}(e,t,n)}function RS(){return(RS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tZ(t),Bw(t,n,zZ),e.next=4,i._initializationPromise;case 4:return a=sS(i,r),e.next=7,ES(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OS(e,t,n){return function(e,t,n){return DS.apply(this,arguments)}(e,t,n)}function DS(){return(DS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw((i=Rn(t)).auth,n,zZ),e.next=4,i.auth._initializationPromise;case 4:return a=sS(i.auth,r),e.next=7,ES(a,i.auth);case 7:return e.next=9,zS(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LS(e,t,n){return function(e,t,n){return MS.apply(this,arguments)}(e,t,n)}function MS(){return(MS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw((i=Rn(t)).auth,n,zZ),e.next=4,i.auth._initializationPromise;case 4:return a=sS(i.auth,r),e.next=7,c_(!1,i,n.providerId);case 7:return e.next=9,ES(a,i.auth);case 9:return e.next=11,zS(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FS(e,t){return VS.apply(this,arguments)}function VS(){return(VS=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tZ(t)._initializationPromise;case 2:return e.abrupt("return",jS(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jS(e,t){return US.apply(this,arguments)}function US(){return US=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r,i,a,o,u,s=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=tZ(t),a=sS(i,n),o=new _S(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function zS(e){return BS.apply(this,arguments)}function BS(){return(BS=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qS=function(){function e(t){(0,u.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,s.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!GS(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Uw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KS(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(KS(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function KS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function GS(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function WS(e){return HS.apply(this,arguments)}function HS(){return HS=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r=arguments;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ax(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}var QS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$S=/^https?/;function YS(){return(YS=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WS(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,g.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!XS(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:jw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function XS(e){var t=$w(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!$S.test(r))return!1;if(QS.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var JS=new Jw(3e4,6e4);function eE(){var e=yI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,o.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tE=null;function nE(e){return tE=tE||function(e){return new Promise((function(t,n){var r,i,a;function o(){eE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eE(),n(Uw(e,"network-request-failed"))},timeout:JS.get()})}if(null===(i=null===(r=yI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yI().gapi)||void 0===a?void 0:a.load)){var u=UI("iframefcb");return yI()[u]=function(){gapi.load?o():n(Uw(e,"network-request-failed"))},jI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tE=null,e}))}(e),tE}var rE=new Jw(5e3,15e3),iE="__/auth/iframe",aE="emulator/auth/iframe",oE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sE(e){var t=e.config;Kw(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ex(t,aE):"https://".concat(e.config.authDomain,"/").concat(iE),r={apiKey:t.apiKey,appName:e.name,v:Nr},i=uE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(En(r).slice(1))}function cE(e){return lE.apply(this,arguments)}function lE(){return lE=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(t);case 2:return n=e.sent,Kw(r=yI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:sE(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oE,dontclear:!0},(function(e){return new Promise(function(){var n=(0,Dn.Z)((0,On.Z)().mark((function n(r,i){var a,o,u;return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Uw(t,"network-request-failed"),o=yI().setTimeout((function(){i(a)}),rE.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}var fE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hE=function(){function e(t){(0,u.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,s.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function dE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},fE),{width:r.toString(),height:i.toString(),top:o,left:u}),l=vn().toLowerCase();n&&(s=Kx(l)?"_blank":n),Bx(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return $x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new hE(null);var h=window.open(t||"",s,f);Kw(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hE(h)}var pE="__/auth/handler",vE="emulator/auth/handler";function mE(e,t,n,r,i,o){Kw(e.config.authDomain,e,"auth-domain-config-required"),Kw(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nr,eventId:i};if(t instanceof zZ){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof BZ){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pE);return ex(t,vE)}(e),"?").concat(En(p).slice(1))}var yE="webStorageSupport",gE=function(){function e(){(0,u.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=jS,this._overrideRedirectResult=CS}return(0,s.Z)(e,[{key:"_openPopup",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=mE(t,n,r,$w(),i),e.abrupt("return",dE(t,o,vI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=mE(t,n,r,$w(),i),yI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ww(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(t);case 2:return n=e.sent,r=new qS(t),n.register("authEvent",(function(e){return Kw(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yE,{type:yE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yE];void 0!==i&&t(!!i),jw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return YS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Yx()||qx()||$x()}}]),e}(),kE=gE,bE=function(){function e(t){(0,u.Z)(this,e),this.factorId=t}return(0,s.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gw("unexpected MultiFactorSessionType")}}}]),e}(),wE=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,s.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ax(e,"POST","/v2/accounts/mfaEnrollment:finalize",ix(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ax(e,"POST","/v2/accounts/mfaSignIn:finalize",ix(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(bE),xE=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,null,[{key:"assertion",value:function(e){return wE._fromCredential(e)}}]),e}();xE.FACTOR_ID="phone";var ZE=function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return _E._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return _E._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kw("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},ax(i,"POST","/v2/accounts/mfaEnrollment:start",ix(i,a));case 4:return r=e.sent,e.abrupt("return",IE._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ZE.FACTOR_ID="totp";var _E=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var a;return(0,u.Z)(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return(0,s.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kw("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",iI(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kw(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",MI(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(bE),IE=function(){function e(t,n,r,i,a,o,s){(0,u.Z)(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,s.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(SE(e)||SE(t))&&(r=!0),r&&(SE(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),SE(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function SE(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var EE="@firebase/auth",TE="0.22.0",CE=function(){function e(t){(0,u.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,s.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Kw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var AE;!function(e){var t;null===(t=hn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function NE(){return window}AE="Browser",_r(new Ln("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Kw(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Kw(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:AE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(AE)},i=new eZ(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),_r(new Ln("auth-internal",(function(e){return function(e){return new CE(e)}(tZ(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(EE,TE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(AE)),Mr(EE,TE,"esm2017");var PE=2e3;function RE(e,t,n){return OE.apply(this,arguments)}function OE(){return OE=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=NE(),o=a.BuildInfo,Ww(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,jE(n.sessionId);case 4:return u=e.sent,s={},$x()?s.ibi=o.packageName:Wx()?s.apn=o.packageName:jw(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",mE(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function DE(){return(DE=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NE(),r=n.BuildInfo,i={},$x()?i.iosBundleId=r.packageName:Wx()?i.androidPackageName=r.packageName:jw(t,"operation-not-supported-in-this-environment"),e.next=5,WS(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LE(e){var t=NE().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ME(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r){var i,a,o;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NE(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Uw(t,"redirect-cancelled-by-user"))}),PE))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Wx()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),FE.apply(this,arguments)}function VE(e){var t,n,r,i,a,o,u,s,c,l,f=NE();Kw("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Kw("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Kw("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Kw("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Kw("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function jE(e){return UE.apply(this,arguments)}function UE(){return(UE=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r,i;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zE(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zE(e){if(Ww(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var BE=20,qE=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,s.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),(0,hi.Z)((0,di.Z)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qS);function KE(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:$E(),postBody:null,tenantId:e.tenantId,error:Uw(e,"no-auth-event")}}function GE(e,t){return YE()._set(XE(e),t)}function WE(e){return HE.apply(this,arguments)}function HE(){return(HE=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE()._get(XE(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,YE()._remove(XE(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){var n,r,i=function(e){var t=JE(e),n=t.link?decodeURIComponent(t.link):void 0,r=JE(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return JE(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=JE(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Uw(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function $E(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<BE;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function YE(){return Qw(lI)}function XE(e){return jx("authEvent",e.config.apiKey,e.name)}function JE(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=m(e.split("?"));t[0];return Tn(t.slice(1).join("?"))}var eT=function(){function e(){(0,u.Z)(this,e),this._redirectPersistence=hI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jS,this._overrideRedirectResult=CS}return(0,s.Z)(e,[{key:"_initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qE(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){jw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VE(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ZS.clear(),e.next=10,this._originValidation(t);case 10:return o=KE(t,r,i),e.next=13,GE(t,o);case 13:return e.next=15,RE(t,o,n);case 15:return u=e.sent,e.next=18,LE(u);case 18:return s=e.sent,e.abrupt("return",ME(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return DE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=NE(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout((0,Dn.Z)((0,On.Z)().mark((function n(){return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,WE(e);case 2:t.onEvent(nT());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=(0,Dn.Z)((0,On.Z)().mark((function n(r){var i,a;return(0,On.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,WE(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=QE(i,r.url)),t.onEvent(a||nT());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");NE().handleOpenURL=function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),tT=eT;function nT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Uw("no-auth-event")}}var rT=1e3;function iT(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function aT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return!("file:"!==iT()&&"ionic:"!==iT()&&"capacitor:"!==iT()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function oT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return kn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/Edge\/\d+/.test(e)}(e)}function uT(){try{var e=self.localStorage,t=vI();if(e)return e.setItem(t,"1"),e.removeItem(t),!oT()||bn()}catch(n){return sT()&&bn()}return!1}function sT(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cT(){return("http:"===iT()||"https:"===iT()||yn()||aT())&&!(gn()||mn())&&uT()&&!sT()}function lT(){return aT()&&"undefined"!==typeof document}function fT(){return hT.apply(this,arguments)}function hT(){return(hT=(0,Dn.Z)((0,On.Z)().mark((function e(){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lT()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),rT);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dT={LOCAL:"local",NONE:"none",SESSION:"session"},pT=Kw,vT="persistence";function mT(e,t){pT(Object.values(dT).includes(t),e,"invalid-persistence-type"),gn()?pT(t!==dT.SESSION,e,"unsupported-persistence-type"):mn()?pT(t===dT.NONE,e,"unsupported-persistence-type"):sT()?pT(t===dT.NONE||t===dT.LOCAL&&bn(),e,"unsupported-persistence-type"):pT(t===dT.NONE||uT(),e,"unsupported-persistence-type")}function yT(e){return gT.apply(this,arguments)}function gT(){return(gT=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=kT(),r=jx(vT,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var bT=Kw,wT=function(){function e(){(0,u.Z)(this,e),this.browserResolver=Qw(kE),this.cordovaResolver=Qw(tT),this.underlyingResolver=null,this._redirectPersistence=hI,this._completeRedirectFn=jS,this._overrideRedirectResult=CS}return(0,s.Z)(e,[{key:"_initialize",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n,r,i){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lT()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return bT(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fT();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xT(e){return e.unwrap()}function ZT(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new TT(e,function(e,t){var n,r=Rn(e),i=t;return Kw(t.customData.operationType,r,"argument-error"),Kw(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),nI._fromError(r,i)}(e,t));else if(r){var i=_T(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _T(e){var t=(e instanceof wn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof wn)&&"temporaryProof"in t&&"phoneNumber"in t)return uS.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ew.PASSWORD)return null;switch(r){case Ew.GOOGLE:n=GZ;break;case Ew.FACEBOOK:n=KZ;break;case Ew.GITHUB:n=WZ;break;case Ew.TWITTER:n=$Z;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?HZ._create(r,u):PZ._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new qZ(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof wn?n.credentialFromError(e):n.credentialFromResult(e)}function IT(e,t){return t.catch((function(t){throw t instanceof wn&&ZT(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_T(t)),additionalUserInfo:eI(e),user:CT.getOrCreate(r)}}))}function ST(e,t){return ET.apply(this,arguments)}function ET(){return(ET=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){var r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return IT(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TT=function(){function e(t,n){(0,u.Z)(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,s.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return IT(xT(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),CT=function(){function e(t){(0,u.Z)(this,e),this._delegate=t,this.multiFactor=function(e){var t=Rn(e);return oI.has(t)||oI.set(t,aI._fromUser(t)),oI.get(t)}(t)}return(0,s.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IT(this.auth,y_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ST(this.auth,tS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IT(this.auth,kS(this._delegate,t,wT)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yT(tZ(this.auth));case 2:return e.abrupt("return",LS(this._delegate,t,wT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IT(this.auth,k_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ST(this.auth,function(e,t,n){return rS.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return IT(this.auth,function(e,t,n){return gS.apply(this,arguments)}(this._delegate,e,wT))}},{key:"reauthenticateWithRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yT(tZ(this.auth));case 2:return e.abrupt("return",OS(this._delegate,t,wT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return U_.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return G_(Rn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return G_(Rn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return oS.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return K_.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return z_.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();CT.USER_MAP=new WeakMap;var AT=Kw,NT=function(){function e(t,n){if((0,u.Z)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;AT(r,"invalid-api-key",{appName:t.name}),AT(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wT:void 0;this._delegate=n.initialize({options:{persistence:RT(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Dw),this.linkUnderlyingAuth()}return(0,s.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?CT.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){rZ(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return A_.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return N_(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return C_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t,n){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IT(this._delegate,O_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return j_.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jZ.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(){var t;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AT(cT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,FS(this._delegate,wT);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",IT(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){tZ(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=PT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=PT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return L_.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return T_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){var n,r;return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mT(this._delegate,t),e.t0=t,e.next=e.t0===dT.SESSION?4:e.t0===dT.LOCAL?6:e.t0===dT.NONE?11:13;break;case 4:return n=hI,e.abrupt("break",14);case 6:return e.next=8,Qw(DI)._isAvailable();case 8:return r=e.sent,n=r?DI:lI,e.abrupt("break",14);case 11:return n=Vx,e.abrupt("break",14);case 13:return e.abrupt("return",jw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return IT(this._delegate,function(e){return t_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return IT(this._delegate,v_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return IT(this._delegate,function(e,t){return Z_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return IT(this._delegate,function(e,t,n){return v_(Rn(e),UZ.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return IT(this._delegate,function(e,t,n){return M_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ST(this._delegate,function(e,t,n){return eS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AT(cT(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",IT(this._delegate,mS(this._delegate,t,wT)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=(0,Dn.Z)((0,On.Z)().mark((function e(t){return(0,On.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AT(cT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yT(this._delegate);case 3:return e.abrupt("return",PS(this._delegate,t,wT));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return R_.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function PT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&CT.getOrCreate(e))},error:t,complete:n}}function RT(e,t){var n=function(e,t){var n=kT();if(!n)return[];var r=jx(vT,e,t);switch(n.getItem(r)){case dT.NONE:return[Vx];case dT.LOCAL:return[DI,hI];case dT.SESSION:return[hI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(DI)||n.push(DI),"undefined"!==typeof window)for(var r=0,i=[lI,hI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vx)||n.push(Vx),n}NT.Persistence=dT;var OT=function(){function e(){(0,u.Z)(this,e),this.providerId="phone",this._delegate=new uS(xT(ci.auth()))}return(0,s.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return uS.credential(e,t)}}]),e}();OT.PHONE_SIGN_IN_METHOD=uS.PHONE_SIGN_IN_METHOD,OT.PROVIDER_ID=uS.PROVIDER_ID;var DT=Kw,LT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci.app();(0,u.Z)(this,e),DT(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new YI(t,n,i.auth()),this.type=this._delegate.type}return(0,s.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ln("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new NT(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tw,PASSWORD_RESET:Cw,RECOVER_EMAIL:Aw,REVERT_SECOND_FACTOR_ADDITION:Nw,VERIFY_AND_CHANGE_EMAIL:Pw,VERIFY_EMAIL:Rw}},EmailAuthProvider:UZ,FacebookAuthProvider:KZ,GithubAuthProvider:WZ,GoogleAuthProvider:GZ,OAuthProvider:qZ,SAMLAuthProvider:QZ,PhoneAuthProvider:OT,PhoneMultiFactorGenerator:xE,RecaptchaVerifier:LT,TwitterAuthProvider:$Z,Auth:NT,AuthCredential:oZ,Error:wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.7")}(ci);var MT=ci.initializeApp({apiKey:"AIzaSyAPskggZsmNNq0Mx8YZSG5pFCGVe9RQ6Wk",authDomain:"tinder-clone-b473c.firebaseapp.com",projectId:"tinder-clone-b473c",storageBucket:"tinder-clone-b473c.appspot.com",messagingSenderId:"461490209499",appId:"1:461490209499:web:a7fb6c75a60b39b6dfc2fe",measurementId:"G-DML0G6HMBS"}).firestore(),FT=function(){var e=(0,t.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1];return(0,t.useEffect)((function(){MT.collection("people").onSnapshot((function(e){return i(e.docs.map((function(e){return e.data()})))}))}),[]),(0,pt.jsx)("div",{children:(0,pt.jsx)("div",{className:"tinderCards__cardContainer",children:r.map((function(e){return(0,pt.jsx)(rn(),{className:"swipe",preventSwipe:["up","down"],children:(0,pt.jsx)("div",{style:{backgroundImage:"url(".concat(e.url,")")},className:"card",children:(0,pt.jsx)("h3",{children:e.name})})},e.name)}))})})},VT=function(){return(0,pt.jsxs)("div",{children:[(0,pt.jsx)(Qt,{}),(0,pt.jsx)(FT,{}),(0,pt.jsx)(tn,{})]})},jT=(0,n(9201).Z)((0,pt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function UT(e){return(0,Ot.Z)("MuiAvatar",e)}(0,mt.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var zT=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],BT=(0,$e.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Ge.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,Ge.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),qT=(0,$e.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),KT=(0,$e.ZP)(jT,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var GT=t.forwardRef((function(e,n){var r=(0,Ye.Z)({props:e,name:"MuiAvatar"}),i=r.alt,o=r.children,u=r.className,s=r.component,c=void 0===s?"div":s,l=r.imgProps,f=r.sizes,h=r.src,d=r.srcSet,p=r.variant,v=void 0===p?"circular":p,m=(0,Ke.Z)(r,zT),y=null,g=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,o=e.srcSet,u=t.useState(!1),s=(0,a.Z)(u,2),c=s[0],l=s[1];return t.useEffect((function(){if(i||o){l(!1);var e=!0,t=new Image;return t.onload=function(){e&&l("loaded")},t.onerror=function(){e&&l("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),function(){e=!1}}}),[n,r,i,o]),c}((0,Ge.Z)({},l,{src:h,srcSet:d})),k=h||d,b=k&&"error"!==g,w=(0,Ge.Z)({},r,{colorDefault:!b,component:c,variant:v}),x=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,He.Z)(n,UT,t)}(w);return y=b?(0,pt.jsx)(qT,(0,Ge.Z)({alt:i,src:h,srcSet:d,sizes:f,ownerState:w,className:x.img},l)):null!=o?o:k&&i?i[0]:(0,pt.jsx)(KT,{ownerState:w,className:x.fallback}),(0,pt.jsx)(BT,(0,Ge.Z)({as:c,ownerState:w,className:(0,We.Z)(x.root,u),ref:n},m,{children:y}))})),WT=GT;var HT=function(e){var t=e.name,n=e.message,r=e.timestamp,i=e.profilePic;return(0,pt.jsx)(Ve,{to:"/chats/".concat(t),children:(0,pt.jsxs)("div",{className:"chat",children:[(0,pt.jsx)(WT,{className:"chat__image",alt:t,src:i}),(0,pt.jsxs)("div",{className:"chat__details",children:[(0,pt.jsx)("h2",{children:t}),(0,pt.jsx)("p",{children:n})]}),(0,pt.jsx)("p",{className:"chat__timestamp",children:r})]})})};var QT=function(){return(0,pt.jsxs)("div",{className:"chats",children:[(0,pt.jsx)(Qt,{backButton:"/"}),(0,pt.jsx)(HT,{name:"Margot",message:"Hey! I had a great time yesterday \ud83e\udef6",timestamp:"22 minutes ago",profilePic:"https://www.onthisday.com/images/people/margot-robbie-medium.jpg"}),(0,pt.jsx)(HT,{name:"Elastigirl",message:"You're Mr. More Incredible \u2764\ufe0f",timestamp:"41 minutes ago",profilePic:"https://cdn.mos.cms.futurecdn.net/N3Xe5axewkzfVVzaBhRMNT.jpg"}),(0,pt.jsx)(HT,{name:"Kylie",message:"Hey! I miss you \ud83e\udd79",timestamp:"59 minutes ago",profilePic:"https://images.hola.com/us/images/025b-0ee1f76950cc-2880409e9bf0-1000/horizontal-1150/kylie-jenner-with-tan-lipstick-and-her-hair-down.jpg"}),(0,pt.jsx)(HT,{name:"Zendaya",message:"Heyy",timestamp:"2 days ago",profilePic:"https://media.glamourmagazine.co.uk/photos/63fc99bb3ca80ea44878250d/16:9/w_1920,h_1080,c_limit/ZENDAYA%20NAACP%20270223%20default-GettyImages-1469620256.jpg"}),(0,pt.jsx)(HT,{name:"Sandy",message:"Please respond \ud83e\udd72",timestamp:"5 days ago",profilePic:"https://cdn.shopify.com/s/files/1/0150/0643/3380/products/Viacom_Spongebob_Tote_Printful_SBSP-SBF-PT_Image03_800x.jpg?v=1583786197"}),(0,pt.jsx)(HT,{name:"Emma",message:"How are you?",timestamp:"1 week ago",profilePic:"https://m.media-amazon.com/images/M/MV5BMjI4NjM1NDkyN15BMl5BanBnXkFtZTgwODgyNTY1MjE@._V1_.jpg"})]})};var $T=function(){var e=(0,t.useState)(""),n=(0,a.Z)(e,2),r=n[0],i=n[1],u=(0,t.useState)([{name:"Margot",image:"https://www.onthisday.com/images/people/margot-robbie-medium.jpg",message:"hey let's hang out"},{message:"bet I'll pick you up at 7"},{name:"Margot",image:"https://www.onthisday.com/images/people/margot-robbie-medium.jpg",message:"Hey! I had a great time yesterday \ud83e\udef6"}]),s=(0,a.Z)(u,2),c=s[0],l=s[1];return(0,pt.jsxs)("div",{className:"chatScreen",children:[(0,pt.jsx)(Qt,{backButton:"/chats"}),(0,pt.jsx)("p",{className:"chatScreen__timestamp",children:"YOU MATCHED WITH MARGOT ON 04/09/2023"}),c.map((function(e){return e.name?(0,pt.jsxs)("div",{className:"chatScreen__message",children:[(0,pt.jsx)(WT,{className:"chatScreen__image",alt:e.name,src:e.image}),(0,pt.jsx)("p",{className:"chatScreen__text",children:e.message})]}):(0,pt.jsx)("div",{className:"chatScreen__message",children:(0,pt.jsx)("p",{className:"chatScreen__textUser",children:e.message})})})),(0,pt.jsx)("div",{children:(0,pt.jsxs)("form",{className:"chatScreen__input",children:[(0,pt.jsx)("input",{value:r,onChange:function(e){return i(e.target.value)},className:"chatScreen__inputField",placeholder:"Type a message...",type:"text"}),(0,pt.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),l([].concat((0,o.Z)(c),[{message:r}])),i("")},className:"chatScreen__inputButton",children:"SEND"})]})})]})};var YT=function(){return(0,pt.jsx)("div",{className:"App",children:(0,pt.jsx)(Le,{children:(0,pt.jsxs)(Ae,{children:[(0,pt.jsx)(Te,{path:"/",element:(0,pt.jsx)(VT,{})}),(0,pt.jsx)(Te,{path:"/chats",element:(0,pt.jsx)(QT,{})}),(0,pt.jsx)(Te,{path:"/chats/:person",element:(0,pt.jsx)($T,{})})]})})})},XT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,pt.jsx)(t.StrictMode,{children:(0,pt.jsx)(YT,{})})),XT()}()}();
//# sourceMappingURL=main.621c0b9e.js.map